"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[941],{7941:(Lu,z,F)=>{F.r(z),F.d(z,{AdminModule:()=>Pu});var u=F(177),h=F(4848),be=F(4978),d=F(6743),e=F(7705),L=F(8007),b=F(1157);let ge=(()=>{class i{constructor(t,n,s){this.jwtService=t,this.lsService=n,this.router=s}canActivate(t,n){return null==this.lsService.get(d.r.tokenName)||(this.router.navigate(["/admin/dashboard"]),!1)}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(L.y),e.KVO(b.s),e.KVO(h.Ix))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),fe=(()=>{class i{constructor(t,n,s){this.jwtService=t,this.lsService=n,this.router=s}canActivate(t,n){return null!=this.lsService.get(d.r.tokenName)||(this.router.navigate(["/admin/auth/login"]),!1)}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(L.y),e.KVO(b.s),e.KVO(h.Ix))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ve=(()=>{class i{constructor(){}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-auth-layout"]],decls:4,vars:0,consts:[[1,"row"],[1,"col-md-4","d-none","d-md-block",2,"background-color","#09111A","min-height","100vh","background-image","url('assets/template/images/login2.jpg')","background-size","cover","background-repeat","no-repeat"],[1,"col-12","col-md-8"]],template:function(n,s){1&n&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.j41(2,"div",2),e.nrm(3,"router-outlet"),e.k0s()())},dependencies:[h.n3]})}}return i})();var J=F(5512),I=F(8010),W=F(4832),f=F(5794),Fe=F(4412),ke=F(1413),je=F(5964),Ee=F(6977),y=F(9969),R=F(345);const Ce=["overlay"];function Se(i,r){1&i&&e.nrm(0,"div")}function xe(i,r){if(1&i&&(e.j41(0,"div"),e.DNE(1,Se,1,0,"div",6),e.k0s()),2&i){const t=e.XpG(2);e.HbH(t.spinner.class),e.xc7("color",t.spinner.color),e.R7$(1),e.Y8G("ngForOf",t.spinner.divArray)}}function ye(i,r){if(1&i&&(e.nrm(0,"div",7),e.nI1(1,"safeHtml")),2&i){const t=e.XpG(2);e.Y8G("innerHTML",e.bMT(1,1,t.template),e.npT)}}function Re(i,r){if(1&i&&(e.j41(0,"div",1,2),e.DNE(2,xe,2,5,"div",3),e.DNE(3,ye,2,3,"div",4),e.j41(4,"div",5),e.SdG(5),e.k0s()()),2&i){const t=e.XpG();e.xc7("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),e.Y8G("@.disabled",t.disableAnimation)("@fadeIn","in"),e.R7$(2),e.Y8G("ngIf",!t.template),e.R7$(1),e.Y8G("ngIf",t.template),e.R7$(1),e.xc7("z-index",t.spinner.zIndex)}}const Ie=["*"],Te={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},D="primary";class T{constructor(r){Object.assign(this,r)}static create(r){return!r?.template&&!r?.type&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new T(r)}}let X=(()=>{class i{constructor(){this.spinnerObservable=new Fe.t(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe((0,je.p)(n=>n&&n.name===t))}show(t=D,n){return new Promise((s,o)=>{setTimeout(()=>{n&&Object.keys(n).length?(n.name=t,this.spinnerObservable.next(new T({...n,show:!0})),s(!0)):(this.spinnerObservable.next(new T({name:t,show:!0})),s(!0))},10)})}hide(t=D,n=10){return new Promise((s,o)=>{setTimeout(()=>{this.spinnerObservable.next(new T({name:t,show:!1})),s(!0)},n)})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();const H=new e.nKC("NGX_SPINNER_CONFIG");let Ge=(()=>{class i{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(R.up,16))}}static{this.\u0275pipe=e.EJ8({name:"safeHtml",type:i,pure:!0})}}return i})(),$e=(()=>{class i{constructor(t,n,s,o){this.spinnerService=t,this.changeDetector=n,this.elementRef=s,this.globalConfig=o,this.disableAnimation=!1,this.spinner=new T,this.ngUnsubscribe=new ke.B,this.setDefaultOptions=()=>{const{type:l}=this.globalConfig??{};this.spinner=T.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??l,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=D,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe((0,Ee.Q)(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const n in t)if(n){const s=t[n];if(s.isFirstChange())return;typeof s.currentValue<"u"&&s.currentValue!==s.previousValue&&""!==s.currentValue&&(this.spinner[n]=s.currentValue,"showSpinner"===n&&(s.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===n&&this.initObservable())}}getClass(t,n){this.spinner.divCount=Te[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((o,l)=>l);let s="";switch(n.toLowerCase()){case"small":s="la-sm";break;case"medium":s="la-2x";break;case"large":s="la-3x"}return"la-"+t+" "+s}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(X),e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(H,8))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["ngx-spinner"]],viewQuery:function(n,s){if(1&n&&e.GBs(Ce,5),2&n){let o;e.mGM(o=e.lsd())&&(s.spinnerDOM=o.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[e.OA$],ngContentSelectors:Ie,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(n,s){1&n&&(e.NAR(),e.DNE(0,Re,6,12,"div",0)),2&n&&e.Y8G("ngIf",s.spinner.show)},dependencies:[u.Sq,u.bT,Ge],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[(0,y.hZ)("fadeIn",[(0,y.wk)("in",(0,y.iF)({opacity:1})),(0,y.kY)(":enter",[(0,y.iF)({opacity:0}),(0,y.i0)(300)]),(0,y.kY)(":leave",(0,y.i0)(200,(0,y.iF)({opacity:0})))])]},changeDetection:0})}}return i})(),Ne=(()=>{class i{static forRoot(t){return{ngModule:i,providers:[{provide:H,useValue:t}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[u.MD]})}}return i})(),we=(()=>{class i{constructor(){}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-footer"]],decls:4,vars:0,consts:[["id","footer"],[1,"container"],[1,"text-center","h5","text-dark"]],template:function(n,s){1&n&&(e.j41(0,"footer",0)(1,"div",1)(2,"p",2),e.EFF(3,"Copyright@2020"),e.k0s()()())},styles:["#footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:40px;background:#f2f5f9}"]})}}return i})();var E=F(1653),a=F(4341),_=F(788);let Ve=(()=>{class i{constructor(t,n,s,o){this.authService=t,this.router=n,this.toastr=s,this.lsService=o}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,E(".nav-toggle-icon").on("click",function(){E(".wrapper").toggleClass("toggled")}),E(".mobile-toggle-icon").on("click",function(){E(".wrapper").addClass("toggled")})}logout(){this.authService.logout().subscribe(t=>{this.lsService.remove(d.r.tokenName),this.lsService.remove(d.r.refreshTokenName),this.lsService.remove(d.r.expireIn),this.lsService.remove(d.r.userName),this.lsService.remove(d.r.exercice),this.router.navigate(["/admin/auth/login"]),this.toastr.success("D\xe9connexion r\xe9ussie","Connexion")})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(I.u),e.rXU(h.Ix),e.rXU(f.tw),e.rXU(b.s))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-header"]],decls:31,vars:2,consts:[[1,"top-header"],[1,"navbar","navbar-expand","gap-3"],[1,"mobile-toggle-icon","fs-3"],[1,"fa","fa-list"],[1,"searchbar"],[1,"position-absolute","top-50","translate-middle-y","search-icon","ms-3"],[1,"bi","bi-search"],["type","text","placeholder","Rechercher un centre",1,"form-control"],[1,"position-absolute","top-50","translate-middle-y","search-close-icon"],[1,"bi","bi-x-lg"],[1,"top-navbar-right","ms-auto"],[1,"navbar-nav","align-items-center"],[1,"nav-item","search-toggle-icon"],["href","#",1,"nav-link"],[1,""],[1,"ms-auto"],["ngbDropdown","",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],[1,"me-1"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem",""],["routerLink","/admin/user-account",1,"me-3","h6","text-dark","dropdown-user-name","align-self-center"],["ngbDropdownItem","",3,"click"],[1,"fa","fa-logout","me-1","text-danger"]],template:function(n,s){1&n&&(e.j41(0,"header",0)(1,"nav",1)(2,"div",2),e.nrm(3,"i",3),e.k0s(),e.j41(4,"form",4)(5,"div",5),e.nrm(6,"i",6),e.k0s(),e.nrm(7,"input",7),e.j41(8,"div",8),e.nrm(9,"i",9),e.k0s()(),e.j41(10,"div",10)(11,"ul",11)(12,"li",12)(13,"a",13)(14,"div",14),e.nrm(15,"i",6),e.k0s()()()(),e.j41(16,"div",15)(17,"div",16)(18,"button",17)(19,"span",18)(20,"b"),e.EFF(21,"Connect\xe9:"),e.k0s()(),e.EFF(22),e.k0s(),e.j41(23,"div",19)(24,"button",20)(25,"a",21),e.EFF(26,"Mon Profil"),e.k0s()(),e.j41(27,"button",22),e.bIt("click",function(){return s.logout()}),e.j41(28,"b"),e.nrm(29,"i",23),e.EFF(30," D\xe9connexion"),e.k0s()()()()()()()()),2&n&&(e.R7$(22),e.Lme("",s.user.name," | ",s.role," "))},dependencies:[h.Wk,a.qT,a.cb,a.cV,_.tg,_.do,_.U0,_._H]})}}return i})();const Ae=[{isTitle:!1,name:"Tableau de bord",route:"/admin/dashboard",hasChildren:!1},{isTitle:!0,title:"Actualit\xe9",hasChildren:!1},{isTitle:!1,name:"Toutes les actualit\xe9s",route:"/admin/actualities",hasChildren:!1},{isTitle:!0,title:"configuration",hasChildren:!1},{isTitle:!1,name:"Localisation",hasChildren:!0,children:[{isTitle:!1,name:"D\xe9partements",route:"/admin/departments",hasChildren:!1},{isTitle:!1,name:"Communes",route:"/admin/municipalities",hasChildren:!1},{isTitle:!1,name:"Arrondissements",route:"/admin/districts",hasChildren:!1},{isTitle:!0,title:"Centres sociaux",hasChildren:!1},{isTitle:!1,name:"CPS",route:"/admin/cps",hasChildren:!1},{isTitle:!1,name:"CAPE autoris\xe9s",route:"/admin/cape-inscritss",hasChildren:!1},{isTitle:!1,name:"CAPE Inscrits",route:"/admin/list-requetes",hasChildren:!1}]},{isTitle:!1,name:"Typologie",hasChildren:!0,children:[{isTitle:!1,name:"Type Cape",route:"/admin/type-capes",hasChildren:!1},{isTitle:!1,name:"Type Garderie",route:"/admin/type-garderies",hasChildren:!1},{isTitle:!1,name:"Type assistance",route:"/admin/type-billings",hasChildren:!1},{isTitle:!1,name:"Type Info",route:"/admin/type-infos",hasChildren:!1},{isTitle:!1,name:"Cible",route:"/admin/targets",hasChildren:!1},{isTitle:!1,name:"Nature de promoteur",route:"/admin/nature-promotors",hasChildren:!1},{isTitle:!1,name:"Services",route:"/admin/services",hasChildren:!1},{isTitle:!1,name:"Type d'avis",route:"/admin/type-avis",hasChildren:!1},{isTitle:!1,name:"Type de sanction",route:"/admin/type-sanctions",hasChildren:!1},{isTitle:!1,name:"Type de contr\xf4les",route:"/admin/type-controls",hasChildren:!1},{isTitle:!1,name:"Structure",route:"/admin/unite-admins",hasChildren:!1}]},{isTitle:!1,name:"Documents",hasChildren:!0,children:[{isTitle:!1,name:"El\xe9ments de fiche de contr\xf4le",route:"/admin/cfes",hasChildren:!1},{isTitle:!1,name:"Pi\xe8ces \xe0 fournir",route:"/admin/files",hasChildren:!1},{isTitle:!1,name:"Type de documents",route:"/admin/type-files",hasChildren:!1}]},{isTitle:!0,title:"Administration",hasChildren:!1},{isTitle:!1,name:"Gestion des comptes utilisateurs",hasChildren:!0,children:[{isTitle:!1,name:"Comptes utilisateurs",route:"/admin/users",hasChildren:!1},{isTitle:!1,name:"R\xf4les",route:"/admin/roles",hasChildren:!1},{isTitle:!1,name:"Permissions",route:"/admin/permissions",hasChildren:!1},{isTitle:!1,name:"R\xf4les et Permission",route:"/admin/profiles",hasChildren:!1}]},{isTitle:!1,name:"Maintenances",hasChildren:!0,children:[{isTitle:!1,name:"Sauvegardes",route:"/admin/backups",hasChildren:!1},{isTitle:!1,name:"Restauration",route:"/admin/backups",hasChildren:!1}]},{isTitle:!1,name:"Support",hasChildren:!0,children:[{isTitle:!1,name:"Assistance",route:"/admin/billings",hasChildren:!1},{isTitle:!1,name:"Demande d'information",route:"/admin/infos",hasChildren:!1},{isTitle:!1,name:"Journal des op\xe9rations",route:"/admin/journals",hasChildren:!1},{isTitle:!1,name:"Suggestions",route:"/admin/messages",hasChildren:!1}]}],De=[{isTitle:!1,name:"Tableau de bord",route:"/admin/dashboard",hasChildren:!1},{isTitle:!0,title:"D\xe9cision du ministre",hasChildren:!1},{isTitle:!1,name:"En attente de d\xe9cision finale",route:"/admin/request-has-agreements",hasChildren:!1},{isTitle:!0,title:"Gestion des rapports",hasChildren:!1},{isTitle:!1,name:"Visites de terrain",route:"/admin/follow-cape",hasChildren:!1},{isTitle:!1,name:"Recommandations",route:"/admin/referals",hasChildren:!1},{isTitle:!1,name:"Rapports d\u2019activit\xe9",route:"/admin/activity-report",hasChildren:!1},{isTitle:!0,title:"Statistiques",hasChildren:!1},{isTitle:!1,name:"CAPE inscrits",route:"/admin/statistiques/cape-inscrits",hasChildren:!1},{isTitle:!1,name:"CAPE autoris\xe9s",route:"/admin/statistiques/cape-autorises",hasChildren:!1},{isTitle:!1,name:"Visites de terrain",route:"/admin/statistiques/controls",hasChildren:!1},{isTitle:!0,title:"Recherche",hasChildren:!1},{isTitle:!1,name:"CAPE inscrits",route:"/admin/search/cape-inscrits",hasChildren:!1},{isTitle:!1,name:"CAPE autoris\xe9s",route:"/admin/search/cape-autorises",hasChildren:!1}],Xe=[{isTitle:!1,name:"Tableau de bord",route:"/admin/dashboard",hasChildren:!1},{isTitle:!0,title:"Espace CAPE",hasChildren:!1},{isTitle:!1,name:"Personnels",route:"/admin/staff",hasChildren:!1},{isTitle:!1,name:"Pensionnaires",route:"/admin/residents",hasChildren:!1},{isTitle:!1,name:"Recommandations",route:"/admin/referals",hasChildren:!1},{isTitle:!1,name:"Rapport d'activit\xe9",route:"/admin/activity-report",hasChildren:!1}],Me=[{isTitle:!1,name:"Tableau de bord",route:"/admin/dashboard",hasChildren:!1},{isTitle:!0,title:"Traitement des demandes",hasChildren:!1},{isTitle:!1,name:"A traiter",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/requetes/new/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/requetes/new/garderie",hasChildren:!1}]},{isTitle:!1,name:"Parcours traitement",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/requetes/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/requetes/garderie",hasChildren:!1}]},{isTitle:!0,title:"Gestion des rapports",hasChildren:!1},{isTitle:!1,name:"Visite de terrain",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/follow-cape/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/follow-cape/garderie",hasChildren:!1}]},{isTitle:!1,name:"Recommandations",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/referals/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/referals/garderie",hasChildren:!1}]},{isTitle:!1,name:"Rapports d\u2019activit\xe9",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/activity-report/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/activity-report/garderie",hasChildren:!1}]},{isTitle:!0,title:"Statistiques",hasChildren:!1},{isTitle:!1,name:"CAPE",hasChildren:!0,children:[{isTitle:!1,name:"CAPE inscrits",route:"/admin/statistiques/cape-inscrits/cape",hasChildren:!1},{isTitle:!1,name:"CAPE autoris\xe9s",route:"/admin/statistiques/cape-autorises/cape",hasChildren:!1},{isTitle:!1,name:"Visites de terrain",route:"/admin/statistiques/controls/cape",hasChildren:!1}]},{isTitle:!1,name:"Garderie",hasChildren:!0,children:[{isTitle:!1,name:"Garderies inscrites",route:"/admin/statistiques/cape-inscrits/garderie",hasChildren:!1},{isTitle:!1,name:"Garderies autoris\xe9es",route:"/admin/statistiques/cape-autorises/garderie",hasChildren:!1},{isTitle:!1,name:"Visites de terrain",route:"/admin/statistiques/controls/garderie",hasChildren:!1}]},{isTitle:!0,title:"Recherche",hasChildren:!1},{isTitle:!1,name:"CAPE",hasChildren:!0,children:[{isTitle:!1,name:"CAPE inscrits",route:"/admin/search/cape-inscrits/cape",hasChildren:!1},{isTitle:!1,name:"CAPE autoris\xe9s",route:"/admin/search/cape-autorises/cape",hasChildren:!1}]},{isTitle:!1,name:"Garderie",hasChildren:!0,children:[{isTitle:!1,name:"Garderie inscrites",route:"/admin/search/cape-inscrits/garderie",hasChildren:!1},{isTitle:!1,name:"Garderie autoris\xe9es",route:"/admin/search/cape-autorises/garderie",hasChildren:!1}]}],Ye=[{isTitle:!1,name:"Tableau de bord",route:"/admin/dashboard",hasChildren:!1},{isTitle:!0,title:"TRAITEMENT DES DEMANDES",hasChildren:!1},{isTitle:!1,name:"A valider",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/requetes/new/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/requetes/new/garderie",hasChildren:!1}]},{isTitle:!1,name:"Parcours traitement",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/requetes/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/requetes/garderie",hasChildren:!1}]},{isTitle:!0,title:"Gestion des rapports",hasChildren:!1},{isTitle:!1,name:"Visite de terrain",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/follow-cape/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/follow-cape/garderie",hasChildren:!1}]},{isTitle:!1,name:"Recommandations",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/referals/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/referals/garderie",hasChildren:!1}]},{isTitle:!1,name:"Rapports d\u2019activit\xe9",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/activity-report/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/activity-report/garderie",hasChildren:!1}]},{isTitle:!0,title:"Statistiques",hasChildren:!1},{isTitle:!1,name:"CAPE",hasChildren:!0,children:[{isTitle:!1,name:"CAPE inscrits",route:"/admin/statistiques/cape-inscrits/cape",hasChildren:!1},{isTitle:!1,name:"CAPE autoris\xe9s",route:"/admin/statistiques/cape-autorises/cape",hasChildren:!1},{isTitle:!1,name:"Visites de terrain",route:"/admin/statistiques/controls/cape",hasChildren:!1}]},{isTitle:!1,name:"Garderie",hasChildren:!0,children:[{isTitle:!1,name:"Garderies inscrites",route:"/admin/statistiques/cape-inscrits/garderie",hasChildren:!1},{isTitle:!1,name:"Garderies autoris\xe9es",route:"/admin/statistiques/cape-autorises/garderie",hasChildren:!1},{isTitle:!1,name:"Visites de terrain",route:"/admin/statistiques/controls/garderie",hasChildren:!1}]},{isTitle:!0,title:"Recherche",hasChildren:!1},{isTitle:!1,name:"CAPE",hasChildren:!0,children:[{isTitle:!1,name:"CAPE inscrits",route:"/admin/search/cape-inscrits/cape",hasChildren:!1},{isTitle:!1,name:"CAPE autoris\xe9s",route:"/admin/search/cape-autorises/cape",hasChildren:!1}]},{isTitle:!1,name:"Garderie",hasChildren:!0,children:[{isTitle:!1,name:"Garderie inscrites",route:"/admin/search/cape-inscrits/garderie",hasChildren:!1},{isTitle:!1,name:"Garderie autoris\xe9es",route:"/admin/search/cape-autorises/garderie",hasChildren:!1}]}],Be=[{isTitle:!1,name:"Tableau de bord",route:"/admin/dashboard",hasChildren:!1},{isTitle:!0,title:"Traitement des demandes",hasChildren:!1},{isTitle:!1,name:"A valider",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/requetes/new/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/requetes/new/garderie",hasChildren:!1}]},{isTitle:!1,name:"Parcours traitement",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/requetes/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/requetes/garderie",hasChildren:!1}]},{isTitle:!1,name:"Dossiers CAPE \xe0 inscrire en session",route:"/admin/requetes/finished/cape",hasChildren:!1},{isTitle:!1,name:"Dossiers garderie \xe0 inscrire en session",route:"/admin/requetes/finished/garderie",hasChildren:!1},{isTitle:!0,title:"Agr\xe9ments existants",hasChildren:!1},{isTitle:!1,name:"Agr\xe9ments \xe0 valider",route:"/admin/requetes-aggrement-validation",hasChildren:!1},{isTitle:!0,title:"Gestion des sessions",hasChildren:!1},{isTitle:!1,name:"Cr\xe9ation de session",route:"/admin/sessions",hasChildren:!1},{isTitle:!1,name:"Cr\xe9ation des membres",route:"/admin/members",hasChildren:!1},{isTitle:!0,title:"Gestion des sanctions",hasChildren:!1},{isTitle:!1,name:"Sanctions",route:"/admin/sanctions",hasChildren:!1},{isTitle:!0,title:"Gestion des rapports",hasChildren:!1},{isTitle:!1,name:"Visite de terrain",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/follow-cape/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/follow-cape/garderie",hasChildren:!1}]},{isTitle:!1,name:"Recommandations",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/referals/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/referals/garderie",hasChildren:!1}]},{isTitle:!1,name:"Rapports d\u2019activit\xe9",hasChildren:!0,children:[{isTitle:!1,name:"CAPE",route:"/admin/activity-report/cape",hasChildren:!1},{isTitle:!1,name:"Garderie",route:"/admin/activity-report/garderie",hasChildren:!1}]},{isTitle:!0,title:"Statistiques",hasChildren:!1},{isTitle:!1,name:"CAPE",hasChildren:!0,children:[{isTitle:!1,name:"CAPE inscrits",route:"/admin/statistiques/cape-inscrits/cape",hasChildren:!1},{isTitle:!1,name:"CAPE autoris\xe9s",route:"/admin/statistiques/cape-autorises/cape",hasChildren:!1},{isTitle:!1,name:"Visites de terrain",route:"/admin/statistiques/controls/cape",hasChildren:!1}]},{isTitle:!1,name:"Garderie",hasChildren:!0,children:[{isTitle:!1,name:"Garderies inscrites",route:"/admin/statistiques/cape-inscrits/garderie",hasChildren:!1},{isTitle:!1,name:"Garderies autoris\xe9es",route:"/admin/statistiques/cape-autorises/garderie",hasChildren:!1},{isTitle:!1,name:"Visites de terrain",route:"/admin/statistiques/controls/garderie",hasChildren:!1}]},{isTitle:!0,title:"Recherche",hasChildren:!1},{isTitle:!1,name:"CAPE",hasChildren:!0,children:[{isTitle:!1,name:"CAPE inscrits",route:"/admin/search/cape-inscrits/cape",hasChildren:!1},{isTitle:!1,name:"CAPE autoris\xe9s",route:"/admin/search/cape-autorises/cape",hasChildren:!1}]},{isTitle:!1,name:"Garderie",hasChildren:!0,children:[{isTitle:!1,name:"Garderie inscrites",route:"/admin/search/cape-inscrits/garderie",hasChildren:!1},{isTitle:!1,name:"Garderie autoris\xe9es",route:"/admin/search/cape-autorises/garderie",hasChildren:!1}]}],qe=[{isTitle:!1,name:"Tableau de bord",route:"/admin/dashboard",hasChildren:!1},{isTitle:!1,name:"Dossiers inscrits",route:"/admin/session-requests",hasChildren:!1}],Ue=[],Pe=[{isTitle:!1,name:"Tableau de bord",route:"/admin/dashboard",hasChildren:!1},{isTitle:!0,title:"Gestion des sessions",hasChildren:!1},{isTitle:!1,name:"Cr\xe9ation de session",route:"/admin/sessions",hasChildren:!1},{isTitle:!1,name:"Cr\xe9ation des membres",route:"/admin/members",hasChildren:!1},{isTitle:!0,title:"Statistiques",hasChildren:!1},{isTitle:!1,name:"CAPE",hasChildren:!0,children:[{isTitle:!1,name:"CAPE inscrits",route:"/admin/statistiques/cape-inscrits/cape",hasChildren:!1},{isTitle:!1,name:"CAPE autoris\xe9s",route:"/admin/statistiques/cape-autorises/cape",hasChildren:!1},{isTitle:!1,name:"Visites de terrain",route:"/admin/statistiques/controls/cape",hasChildren:!1}]},{isTitle:!1,name:"Garderie",hasChildren:!0,children:[{isTitle:!1,name:"Garderies inscrites",route:"/admin/statistiques/cape-inscrits/garderie",hasChildren:!1},{isTitle:!1,name:"Garderies autoris\xe9es",route:"/admin/statistiques/cape-autorises/garderie",hasChildren:!1},{isTitle:!1,name:"Visites de terrain",route:"/admin/statistiques/controls/garderie",hasChildren:!1}]},{isTitle:!0,title:"Recherche",hasChildren:!1},{isTitle:!1,name:"CAPE",hasChildren:!0,children:[{isTitle:!1,name:"CAPE inscrits",route:"/admin/search/cape-inscrits/cape",hasChildren:!1},{isTitle:!1,name:"CAPE autoris\xe9s",route:"/admin/search/cape-autorises/cape",hasChildren:!1}]},{isTitle:!1,name:"Garderie",hasChildren:!0,children:[{isTitle:!1,name:"Garderie inscrites",route:"/admin/search/cape-inscrits/garderie",hasChildren:!1},{isTitle:!1,name:"Garderie autoris\xe9es",route:"/admin/search/cape-autorises/garderie",hasChildren:!1}]}];function Oe(i,r){if(1&i&&(e.j41(0,"li",10),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.title)}}function ze(i,r){if(1&i&&(e.j41(0,"li")(1,"a",11)(2,"div",12),e.nrm(3,"i",13),e.k0s(),e.j41(4,"div",14),e.EFF(5),e.k0s()()()),2&i){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("routerLink",t.route),e.R7$(4),e.JRh(t.name)}}function Le(i,r){if(1&i&&(e.j41(0,"li")(1,"a",20),e.nrm(2,"i",21),e.EFF(3),e.k0s()()),2&i){const t=r.$implicit;e.R7$(1),e.FS9("routerLink",null==t?null:t.route),e.R7$(2),e.JRh(null==t?null:t.name)}}function Je(i,r){if(1&i&&(e.j41(0,"li")(1,"a",15)(2,"div",16),e.EFF(3),e.k0s(),e.j41(4,"div",17),e.nrm(5,"i",18),e.k0s()(),e.j41(6,"ul",19),e.DNE(7,Le,4,2,"li",7),e.k0s()()),2&i){const t=e.XpG(),n=t.index,s=t.$implicit;e.R7$(1),e.Mz_("href","#collapseExample",n,"",e.B4B),e.R7$(2),e.JRh(s.name),e.R7$(3),e.Mz_("id","collapseExample",n,""),e.R7$(1),e.Y8G("ngForOf",s.children)}}function We(i,r){if(1&i&&(e.qex(0),e.DNE(1,Oe,2,1,"li",8),e.DNE(2,ze,6,2,"li",9),e.DNE(3,Je,8,4,"li",9),e.bVm()),2&i){const t=r.$implicit;e.R7$(1),e.Y8G("ngIf",t.isTitle),e.R7$(1),e.Y8G("ngIf",!t.isTitle&&!t.hasChildren),e.R7$(1),e.Y8G("ngIf",!t.isTitle&&t.hasChildren)}}let He=(()=>{class i{constructor(t,n,s,o){this.authService=t,this.router=n,this.toastr=s,this.lsService=o,this.menu=[]}ngOnInit(){switch(this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,this.role){case"admin":this.menu=Ae;break;case"ministre":this.menu=De;break;case"cps":this.menu=Me;break;case"ddasm":this.menu=Ye;break;case"dfea":this.menu=Be;break;case"member":this.menu=qe;break;case"cape":this.menu=Xe;break;case"service":this.menu=Pe;break;default:this.menu=Ue}E(".toggle-icon").click(function(){E(".wrapper").hasClass("toggled")?(E(".wrapper").removeClass("toggled"),E(".sidebar-wrapper").unbind("hover")):(E(".wrapper").addClass("toggled"),E(".sidebar-wrapper").hover(function(){E(".wrapper").addClass("sidebar-hovered")},function(){E(".wrapper").removeClass("sidebar-hovered")}))})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(I.u),e.rXU(h.Ix),e.rXU(f.tw),e.rXU(b.s))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-menu"]],decls:11,vars:1,consts:[["data-simplebar","true",1,"sidebar-wrapper"],[1,"sidebar-header"],["src","assets/template/images/logo-icon.png","alt","logo icon",1,"logo-icon"],[1,"logo-text"],[1,"toggle-icon","ms-auto"],[1,"fa","fa-list"],["id","menu",1,"metismenu","cape-bg-blue",2,"height","95vh","overflow","scroll"],[4,"ngFor","ngForOf"],["class","menu-label",4,"ngIf"],[4,"ngIf"],[1,"menu-label"],["routerLinkActive","active",3,"routerLink"],[1,"parent-icon"],[1,"bi","bi-file-code-fill"],[1,"menu-title","text-info"],["data-bs-toggle","collapse","aria-expanded","false","aria-controls","collapseExample",1,"text-info",3,"href"],[1,"menu-title"],[1,"parent-icon","float-end"],[1,"fa","fa-chevron-right"],[1,"collapse",3,"id"],["routerLinkActive","active",1,"text-white",3,"routerLink"],[1,"bi","bi-circle"]],template:function(n,s){1&n&&(e.j41(0,"aside",0)(1,"div",1)(2,"div"),e.nrm(3,"img",2),e.k0s(),e.j41(4,"div")(5,"h4",3),e.EFF(6,"CAPE"),e.k0s()(),e.j41(7,"div",4),e.nrm(8,"i",5),e.k0s()(),e.j41(9,"ul",6),e.DNE(10,We,4,3,"ng-container",7),e.k0s()()),2&n&&(e.R7$(10),e.Y8G("ngForOf",s.menu))},dependencies:[u.Sq,u.bT,h.Wk,h.wQ],styles:[".sidebar-wrapper[_ngcontent-htn-c493][_ngcontent-%COMP%]   .metismenu[_ngcontent-htn-c493][_ngcontent-%COMP%]   ul[_ngcontent-htn-c493] a[_ngcontent-htn-c493][_ngcontent-%COMP%]:hover{color:#00f!important}"]})}}return i})(),Qe=(()=>{class i{constructor(t,n,s,o,l,p,g){this.authService=t,this.router=n,this.lsService=s,this.idle=o,this.toastrService=g,this.idleState="NOT_STARTED",this.countdown=null,this.lastPing=null,o.setIdle(600),o.setTimeout(120),o.setInterrupts(J.I9),o.onIdleStart.subscribe(()=>{this.toastrService.warning("Vous serez d\xe9conect\xe9 dans 30s si aucune activit\xe9 d\xe9tect\xe9e")}),o.onIdleEnd.subscribe(()=>{p.detectChanges()}),o.onTimeout.subscribe(()=>this.logout())}reset(){this.idle.watch(),this.idleState="NOT_IDLE",this.countdown=null,this.lastPing=null}ngOnInit(){this.reset()}logout(){this.authService.logout().subscribe(t=>{this.lsService.remove(d.r.tokenName),this.lsService.remove(d.r.refreshTokenName),this.lsService.remove(d.r.expireIn),this.lsService.remove(d.r.userName),this.lsService.remove(d.r.exercice),this.router.navigate(["/admin/auth/login"]),this.toastrService.success("D\xe9connexion r\xe9ussie","Connexion")})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(I.u),e.rXU(h.Ix),e.rXU(b.s),e.rXU(J.vw),e.rXU(W.Z),e.rXU(e.gRc),e.rXU(f.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-layout"]],decls:9,vars:0,consts:[[1,"wrapper"],[1,"page-content"],["bdColor","rgba(12,87,78,0.2)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","#0A3764","font-weight","900"]],template:function(n,s){1&n&&(e.j41(0,"div",0),e.nrm(1,"app-header")(2,"app-menu"),e.j41(3,"main",1),e.nrm(4,"router-outlet"),e.k0s(),e.nrm(5,"app-footer"),e.k0s(),e.j41(6,"ngx-spinner",2)(7,"p",3),e.EFF(8,"Chargement des donn\xe9es..."),e.k0s()())},dependencies:[h.n3,$e,we,Ve,He]})}}return i})();var c=F(6367),m=F(7422),S=F(6448),k=F(1626);let Ke=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("activity-reports/")}getAll(t){return this.http.get(`${this.url}?service_id=${t}`)}getForCape(){return this.http.get(`${this.url}cape/all`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return n.append("_method","put"),this.http.post(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}send(t){return this.http.get(`${this.url}set-transmission/${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ze=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("activity-report-responses/")}getAll(){return this.http.get(`${this.url}`)}getForCape(){return this.http.get(`${this.url}cape/all`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}send(t){return this.http.get(`${this.url}set-transmission/${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var v=F(7830);function et(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4),o=e.sdS(14);return e.Njj(s.add(o))}),e.EFF(1,"Ajouter un rapport d'activit\xe9"),e.k0s()}}function tt(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",37),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4),o=e.sdS(18);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function nt(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4),o=e.sdS(16);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function it(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function st(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.send())}),e.EFF(1," Transmettre"),e.k0s()}}function ot(i,r){if(1&i&&(e.j41(0,"div",30),e.DNE(1,et,2,0,"button",31),e.DNE(2,tt,3,0,"button",32),e.DNE(3,nt,2,0,"button",33),e.DNE(4,it,2,0,"button",34),e.DNE(5,st,2,0,"button",35),e.k0s()),2&i){const t=e.XpG(3);e.R7$(1),e.Y8G("ngIf","cape"==t.role),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit&&"cape"==t.role),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete&&"cape"==t.role),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.transission&&"cape"==t.role)}}const Q=function(i,r,t,n){return{"p-1 bg-secondary  text-white rounded":i,"p-1 bg-success  text-white rounded":r,"p-1 bg-danger  text-white rounded":t,"p-1 bg-warning  text-white rounded":n}},K=function(i,r){return{"p-1 bg-secondary  text-white rounded":i,"p-1 bg-success  text-white rounded":r}};function rt(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",41)(3,"input",42),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td")(7,"span",43),e.EFF(8),e.k0s()(),e.j41(9,"td")(10,"span",43),e.EFF(11),e.k0s()(),e.j41(12,"td")(13,"div",44)(14,"button",45),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.showFile(o.activity_report_filename,o))}),e.EFF(15,"Ouvrir le rapport d'activit\xe9"),e.k0s(),e.j41(16,"button",45),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.showFile(o.financial_report_filename,o))}),e.EFF(17,"Ouvrir le rapport financier"),e.k0s()()()()}if(2&i){const t=r.$implicit,n=e.XpG(3);e.R7$(5),e.JRh(t.description),e.R7$(2),e.Y8G("ngClass",e.ziG(5,Q,0==t.status,1==t.status,2==t.status,3==t.status)),e.R7$(1),e.SpI(" ",n.getStatus(t.status)," "),e.R7$(2),e.Y8G("ngClass",e.l_i(10,K,0==t.is_transmitted,1==t.is_transmitted)),e.R7$(1),e.SpI(" ",t.is_transmitted?"Oui":"Non"," ")}}function at(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",41)(3,"input",42),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.checked3(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.instruction)}}function lt(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20)(5,"h6",21),e.EFF(6,"Liste des rapports d'activit\xe9"),e.k0s()(),e.j41(7,"div",22),e.DNE(8,ot,6,5,"div",23),e.j41(9,"p"),e.EFF(10),e.k0s(),e.j41(11,"div",24)(12,"table",25)(13,"thead",26)(14,"tr")(15,"th",27),e.EFF(16,"#"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Description"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Statut"),e.k0s(),e.j41(21,"th"),e.EFF(22,"Transmis"),e.k0s(),e.j41(23,"th"),e.EFF(24,"Fichier"),e.k0s()()(),e.j41(25,"tbody"),e.DNE(26,rt,18,13,"tr",28),e.k0s()()()()()()(),e.j41(27,"div",29)(28,"div",18)(29,"div",19)(30,"div",20)(31,"h6",21),e.EFF(32,"Instructions sur le rapport d'activit\xe9"),e.k0s()(),e.j41(33,"div",22)(34,"p"),e.EFF(35),e.k0s(),e.j41(36,"div",24)(37,"table",25)(38,"thead",26)(39,"tr")(40,"th",27),e.EFF(41,"#"),e.k0s(),e.j41(42,"th"),e.EFF(43,"Instruction"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,at,6,1,"tr",28),e.k0s()()()()()()(),e.bVm()),2&i){const t=e.XpG(2);e.R7$(8),e.Y8G("ngIf",t.buttonsPermission),e.R7$(2),e.SpI("",t.data.length," \xe9l\xe9ment(s)"),e.R7$(16),e.Y8G("ngForOf",t.data),e.R7$(9),e.SpI("",t.activity_report_responses.length," \xe9l\xe9ment(s)"),e.R7$(10),e.Y8G("ngForOf",t.activity_report_responses)}}function ct(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",41)(3,"input",42),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(null==t.requete||null==t.requete.type_cape?null:t.requete.type_cape.name),e.R7$(2),e.SpI("",null==t.requete?null:t.requete.name," "),e.R7$(2),e.SpI("",t.residents_count," "),e.R7$(2),e.SpI("",t.staffs_count," ")}}function dt(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.setStatus(1))}),e.EFF(1," Valider"),e.k0s()}}function mt(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.setStatus(2))}),e.EFF(1," Rejeter"),e.k0s()}}function _t(i,r){if(1&i&&(e.j41(0,"div",49),e.DNE(1,dt,2,0,"button",35),e.DNE(2,mt,2,0,"button",34),e.k0s()),2&i){const t=e.XpG(3);e.R7$(1),e.Y8G("ngIf",t.buttonsPermission2.ok),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission2.ok)}}function ut(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",41)(3,"input",42),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.checked2(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td")(7,"span",43),e.EFF(8),e.k0s()(),e.j41(9,"td")(10,"span",43),e.EFF(11),e.k0s()(),e.j41(12,"td")(13,"div",44)(14,"button",45),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.showFile(o.activity_report_filename,o))}),e.EFF(15,"Ouvrir le rapport d'activit\xe9"),e.k0s(),e.j41(16,"button",45),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.showFile(o.financial_report_filename,o))}),e.EFF(17,"Ouvrir le rapport financier"),e.k0s()()()()}if(2&i){const t=r.$implicit,n=e.XpG(3);e.R7$(5),e.JRh(t.description),e.R7$(2),e.Y8G("ngClass",e.ziG(5,Q,0==t.status,1==t.status,2==t.status,3==t.status)),e.R7$(1),e.SpI(" ",n.getStatus(t.status)," "),e.R7$(2),e.Y8G("ngClass",e.l_i(10,K,0==t.is_transmitted,1==t.is_transmitted)),e.R7$(1),e.SpI(" ",t.is_transmitted?"Oui":"Non"," ")}}function pt(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4),o=e.sdS(22);return e.Njj(s.edit2(o))}),e.EFF(1," Editer"),e.k0s()}}function ht(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.deleteObs())}),e.EFF(1," Supprimer"),e.k0s()}}function bt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"button",36),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(20);return e.Njj(s.add2(o))}),e.EFF(2,"Ajouter une observation"),e.k0s(),e.DNE(3,pt,2,0,"button",33),e.DNE(4,ht,2,0,"button",34),e.k0s()}if(2&i){const t=e.XpG(3);e.R7$(3),e.Y8G("ngIf",t.activity_report_responses.length>0),e.R7$(1),e.Y8G("ngIf",t.activity_report_responses.length>0)}}function gt(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",41)(3,"input",42),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.checked3(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.instruction)}}function ft(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20)(5,"h6",21),e.EFF(6,"Liste des capes ayant d\xe9pos\xe9 des rapports d'activit\xe9"),e.k0s()(),e.j41(7,"div",22)(8,"p"),e.EFF(9),e.k0s(),e.j41(10,"div",24)(11,"table",25)(12,"thead",26)(13,"tr")(14,"th",27),e.EFF(15,"#"),e.k0s(),e.j41(16,"th"),e.EFF(17,"Type CAPE"),e.k0s(),e.j41(18,"th"),e.EFF(19,"D\xe9nomination"),e.k0s(),e.j41(20,"th"),e.EFF(21,"Nombres d'enfants"),e.k0s(),e.j41(22,"th"),e.EFF(23,"Effectif du personnel"),e.k0s()()(),e.j41(24,"tbody"),e.DNE(25,ct,12,4,"tr",28),e.k0s()()()()()()(),e.j41(26,"div",17)(27,"div",18)(28,"div",19)(29,"div",46)(30,"h6",21),e.EFF(31,"Rapports d'activit\xe9"),e.k0s()(),e.j41(32,"div",22),e.DNE(33,_t,3,2,"div",47),e.j41(34,"p"),e.EFF(35),e.k0s(),e.j41(36,"div",24)(37,"table",25)(38,"thead",26)(39,"tr")(40,"th",27),e.EFF(41,"#"),e.k0s(),e.j41(42,"th"),e.EFF(43,"Description"),e.k0s(),e.j41(44,"th"),e.EFF(45,"Statut"),e.k0s(),e.j41(46,"th"),e.EFF(47,"Transmis"),e.k0s(),e.j41(48,"th"),e.EFF(49,"Fichier"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,ut,18,13,"tr",28),e.k0s()()()()()()(),e.j41(52,"div",29)(53,"div",18)(54,"div",19)(55,"div",20)(56,"h6",21),e.EFF(57,"Instructions sur le rapport d'activit\xe9"),e.k0s()(),e.j41(58,"div",22),e.DNE(59,bt,5,2,"div",48),e.j41(60,"p"),e.EFF(61),e.k0s(),e.j41(62,"div",24)(63,"table",25)(64,"thead",26)(65,"tr")(66,"th",27),e.EFF(67,"#"),e.k0s(),e.j41(68,"th"),e.EFF(69,"Instruction"),e.k0s()()(),e.j41(70,"tbody"),e.DNE(71,gt,6,1,"tr",28),e.k0s()()()()()()(),e.bVm()),2&i){const t=e.XpG(2);e.R7$(9),e.SpI("",t.data.length," \xe9l\xe9ment(s)"),e.R7$(16),e.Y8G("ngForOf",t.data),e.R7$(8),e.Y8G("ngIf","ministre"==t.role),e.R7$(2),e.SpI("",t.activity_reports.length," \xe9l\xe9ment(s)"),e.R7$(16),e.Y8G("ngForOf",t.activity_reports),e.R7$(8),e.Y8G("ngIf","ministre"==t.role),e.R7$(2),e.SpI("",t.activity_report_responses.length," \xe9l\xe9ment(s)"),e.R7$(10),e.Y8G("ngForOf",t.activity_report_responses)}}function vt(i,r){if(1&i&&(e.qex(0,15),e.DNE(1,lt,46,5,"ng-container",16),e.DNE(2,ft,72,8,"ng-container",16),e.bVm()),2&i){const t=e.XpG();e.R7$(1),e.Y8G("ngIf","cape"==t.role),e.R7$(1),e.Y8G("ngIf","cape"!=t.role)}}function Ft(i,r){if(1&i){const t=e.RV6();e.qex(0,15),e.j41(1,"div",50)(2,"button",51),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.back())}),e.EFF(3,"Fermer le visualiseur"),e.k0s()(),e.nrm(4,"object",52),e.bVm()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("data",t.url,e.f$h)}}function kt(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",53,54),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",55)(3,"h6",56),e.EFF(4,"Enregistrer un rapport d'activit\xe9"),e.k0s(),e.j41(5,"button",57),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",58)(7,"div",17)(8,"div",59)(9,"label",60),e.EFF(10,"Description "),e.j41(11,"span",61),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"textarea",62),e.k0s(),e.j41(14,"div",59)(15,"label",60),e.EFF(16,"Rapport d'activit\xe9 "),e.j41(17,"span",61),e.EFF(18,"(*)"),e.k0s()(),e.j41(19,"input",63),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload(s,0))}),e.k0s()(),e.j41(20,"div",59)(21,"label",60),e.EFF(22,"Rapport financier "),e.j41(23,"span",61),e.EFF(24,"(*)"),e.k0s()(),e.j41(25,"input",63),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload(s,1))}),e.k0s()()()(),e.j41(26,"div",64)(27,"button",65),e.EFF(28,"Enregistrer "),e.nrm(29,"app-loading",66),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(27),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function jt(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",53,67),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",55)(3,"h6",56),e.EFF(4,"Modifier un rapport d'activit\xe9"),e.k0s(),e.j41(5,"button",57),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",58)(7,"div",17)(8,"div",59)(9,"label",60),e.EFF(10,"Description "),e.j41(11,"span",61),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"textarea",68),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.description=s)}),e.k0s()(),e.j41(14,"div",59)(15,"label",60),e.EFF(16,"Rapport d'activit\xe9 "),e.k0s(),e.j41(17,"input",63),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload(s,0))}),e.k0s()(),e.j41(18,"div",59)(19,"label",60),e.EFF(20,"Rapport financier "),e.k0s(),e.j41(21,"input",63),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload(s,1))}),e.k0s()()()(),e.j41(22,"div",64)(23,"button",65),e.EFF(24,"Sauvegarder "),e.nrm(25,"app-loading",66),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.description),e.R7$(10),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Et(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",55)(1,"h6",56),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",57),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",58)(5,"dl")(6,"dt",69),e.EFF(7,"Description"),e.k0s(),e.j41(8,"dd"),e.EFF(9),e.k0s()(),e.j41(10,"dl")(11,"dt"),e.EFF(12,"Fichier"),e.k0s(),e.j41(13,"dd")(14,"div",44)(15,"button",45),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.showFile(s.selected_data.activity_report_filename))}),e.EFF(16,"Ouvrir le rapport d'activit\xe9"),e.k0s(),e.j41(17,"button",45),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.showFile(s.selected_data.financial_report_filename))}),e.EFF(18,"Ouvrir le rapport financier"),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(9),e.SpI("",t.selected_data.description," ")}}function Ct(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",53,54),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.storeObs(s.value))}),e.j41(2,"div",55)(3,"h6",56),e.EFF(4,"Enregistrer une instruction"),e.k0s(),e.j41(5,"button",57),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",58)(7,"div",17)(8,"div",59)(9,"label",60),e.EFF(10,"Instruction "),e.j41(11,"span",61),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"textarea",70),e.k0s()()(),e.j41(14,"div",64)(15,"button",65),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",66),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function St(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",53,67),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.updateObs(s.value))}),e.j41(2,"div",55)(3,"h6",56),e.EFF(4,"Modifier une instruction"),e.k0s(),e.j41(5,"button",57),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",58)(7,"div",17)(8,"div",59)(9,"label",60),e.EFF(10,"Instruction "),e.j41(11,"span",61),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"textarea",71),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data3.instruction=s)}),e.k0s()()()(),e.j41(14,"div",64)(15,"button",65),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",66),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data3.instruction),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}let Z=(()=>{class i{constructor(t,n,s,o,l,p,g,j,C){this.typeService=t,this.activatedRoute=n,this.activityReportService=s,this.activityReportResponseService=o,this._sanitizationService=l,this.toastrService=p,this.lsService=j,this.modalService=C,this.showPreview=!1,this.activity_reports=[],this.activity_report_responses=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,g.backdrop="static",g.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,this.activatedRoute.paramMap.subscribe(t=>{this.type=this.activatedRoute.snapshot.paramMap.get("service"),this.init()}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0,transission:!0},this.buttonsPermission2={ok:!0,nok:!0}}showFile(t,n){let s="";"cape"==this.role?(null!=n&&(this.selected_data=n),s=m.w.toFile("docs/"+this.selected_data.cape?.requete?.code+"/reports/"+t)):s=m.w.toFile("docs/"+this.selected_data.requete?.code+"/reports/"+t),this.modalService.dismissAll(),this.url=this._sanitizationService.bypassSecurityTrustResourceUrl(s),this.showPreview=!0}init(){this.setServiceId()}setServiceId(){this.typeService.getAll2().subscribe(t=>{t.data.forEach(n=>{n.name.toLowerCase().includes(this.type.toLowerCase())&&(this.service_id=n.id)}),console.log(this.service_id),null!=this.service_id?"cape"!=this.role?this.getAll():this.getForCape():this.toastrService.info("Impossible de charger les donn\xe9es, service non reconnue","Requ\xeates")})}getForCape(){this.activityReportService.getForCape().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}getAll(){this.activityReportService.getAll(this.service_id).subscribe(t=>{this.data=t.data,this.modalService.dismissAll(),this.activity_reports=[],this.activity_report_responses=[]},t=>{})}store(t){this.loading=!0;let n=new FormData;n.append("description",t.description),null!=this.fileInput1&&null!=this.fileInput2?(n.append("activity_report_filename",this.fileInput1),n.append("financial_report_filename",this.fileInput2),this.activityReportService.store(n).subscribe(s=>{this.loading=!1,this.toastrService.success(s.message),this.getAll()},s=>{this.loading=!1,console.log(s),c.W.simpleAlert("error","Rapports d'activit\xe9",s.error.message)})):this.toastrService.warning("Tous les fichiers sont requis","Rapport d'activit\xe9")}update(t){this.loading=!0;let n=new FormData;n.append("description",t.description),null!=this.fileInput1&&n.append("activity_report_filename",this.fileInput1),null!=this.fileInput2&&n.append("financial_report_filename",this.fileInput2),this.activityReportService.update(this.selected_data.id,n).subscribe(s=>{this.loading=!1,this.toastrService.success(s.message),this.getAll()},s=>{this.loading=!1,console.log(s),c.W.simpleAlert("error","Validation des rapports d'activit\xe9",s.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.activityReportService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Validation des rapports d'activit\xe9",s.error.message)})})}send(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Transmission","Voulez vous vraiment transmettre cet rapport?").then(n=>{n.isConfirmed&&this.activityReportService.send(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Rapports d'activit\xe9",s.error.message)})})}checked(t){this.selected_data=t,console.log(t),"cape"==this.role?(this.is_active=t.is_active,this.activity_report_responses=t.responses,(this.selected_data.is_transmitted||1==this.selected_data.status)&&(this.buttonsPermission.transission=!1,this.buttonsPermission.edit=!1,this.buttonsPermission.delete=!1)):this.activity_reports=this.selected_data.activity_reports}checked2(t){switch(this.selected_data2=t,this.activity_report_responses=t.responses,this.selected_data2.status){case 0:case 3:this.buttonsPermission2.ok=!0,this.buttonsPermission2.nok=!0;break;case 1:case 2:this.buttonsPermission2.ok=!1,this.buttonsPermission2.nok=!1}}checked3(t){this.selected_data3=t}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}verifyIfElementChecked2(){return null!=this.selected_data2||(this.toastrService.warning("Aucun rapport\xe9 d'activit\xe9 selectionn\xe9"),!1)}verifyIfElementChecked3(){return null!=this.selected_data3||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}add2(t){!this.verifyIfElementChecked2()&&2!=this.selected_data2.status||this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked2()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit2(t){this.verifyIfElementChecked3()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.verifyIfElementChecked2()&&(this.toastrService.warning("Op\xe9ration en cours"),this.activityReportService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Validation des rapports d'activit\xe9",n.error.message)}))}upload(t,n){t.target.files.length>0&&(n?this.fileInput2=t.target.files[0]:this.fileInput1=t.target.files[0])}getStatus(t){switch(t){case 0:return"Rapport en attente de validation";case 1:return"Rapport valid\xe9";case 2:return"Rapport rejet\xe9";case 3:return"Rapport corrig\xe9 en attente de validation";default:return"non d\xe9fini"}}back(){this.showPreview=!1,this.getAll()}storeObs(t){this.loading=!0,t.activity_report_id=this.selected_data2.id,this.activityReportResponseService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Rapports d'activit\xe9",n.error.message)})}updateObs(t){this.loading=!0,this.activityReportResponseService.update(this.selected_data3.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Validation des rapports d'activit\xe9",n.error.message)})}deleteObs(){this.verifyIfElementChecked3()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.activityReportResponseService.delete(this.selected_data3.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Validation des rapports d'activit\xe9",s.error.message)})})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(S.M),e.rXU(h.nX),e.rXU(Ke),e.rXU(Ze),e.rXU(R.up),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-activity-report"]],decls:23,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],["class","container",4,"ngIf"],["addContent",""],["editContent",""],["showContent",""],["addObsContent",""],["editObsContent",""],[1,"container"],[4,"ngIf"],[1,"row","mb-3"],[1,"col-lg-12"],[1,"card"],[1,"card-header","cape-bg-blue","text-white"],[1,"text-white"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],[1,"row","mb-5"],[1,"d-flex","mb-5"],["type","button","class","btn btn-primary btn-sm me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngClass"],[1,"d-flex","justify-content-between"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"card-header","cape-bg-blue"],["class","d-flex",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[1,"d-flex"],[1,"d-flex","justify-content-around"],[1,"btn","btn-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["name","description","ngModel","","required","",1,"form-control"],["type","file",1,"form-control",3,"change"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],["name","description","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"fw-medium"],["name","instruction","ngModel","","required","",1,"form-control"],["name","instruction","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Rapports d'activit\xe9"),e.k0s()()()()(),e.DNE(11,vt,3,2,"ng-container",9),e.DNE(12,Ft,5,1,"ng-container",9),e.DNE(13,kt,30,2,"ng-template",null,10,e.C5r),e.DNE(15,jt,26,3,"ng-template",null,11,e.C5r),e.DNE(17,Et,19,1,"ng-template",null,12,e.C5r),e.DNE(19,Ct,18,2,"ng-template",null,13,e.C5r),e.DNE(21,St,18,3,"ng-template",null,14,e.C5r)),2&n&&(e.R7$(11),e.Y8G("ngIf",!s.showPreview),e.R7$(1),e.Y8G("ngIf",s.showPreview))},dependencies:[u.YU,u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),xt=(()=>{class i{constructor(t,n,s,o,l){this.authService=t,this.router=n,this.route=s,this.toastr=o,this.lsService=l}ngOnInit(){}changeFirstPassword(t){t.password==t.confirm_password?(this.loading=!0,this.authService.changeFirstPassword(t).subscribe(n=>{this.loading=!1,this.logout(),this.toastr.success("Changement de mot passe r\xe9ussi","Premi\xe8re connexion")},n=>{this.loading=!1,this.toastr.error("Changement de mot passe \xe9chou\xe9","Premi\xe8re connexion")})):this.toastr.error("Nouveaux mots de passe non identique","Mot de passe oubli\xe9")}logout(){this.authService.logout().subscribe(t=>{this.lsService.remove(d.r.tokenName),this.lsService.remove(d.r.refreshTokenName),this.lsService.remove(d.r.expireIn),this.router.navigate(["/admin/auth/login"]),this.toastr.success("D\xe9connexion r\xe9ussie","Premi\xe8re Connexion")})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(I.u),e.rXU(h.Ix),e.rXU(h.nX),e.rXU(f.tw),e.rXU(b.s))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-account-activation"]],decls:57,vars:2,consts:[[1,"app-container","app-theme-white","body-tabs-shadow"],[1,"app-container"],[1,"h-100"],[1,"h-100","no-gutters","row"],[1,"d-none","d-lg-block","col-lg-4"],[1,"slider-light"],[1,"slick-slider"],["tabindex","-1",1,"position-relative","h-100","d-flex","justify-content-center","align-items-center","bg-plum-plate"],[1,"slide-img-bg",2,"background-image","url('assets/template2/images/log.webp')"],[1,"slider-content"],["tabindex","-1",1,"h-100","d-flex","justify-content-center","align-items-center","bg-premium-dark"],[1,"position-relative","slide-img-bg",2,"background-image","url('assets/images/originals/citynights.jpg')"],["tabindex","-1",1,"position-relative","h-100","d-flex","justify-content-center","align-items-center","bg-sunny-morning"],[1,"slide-img-bg","opacity-6",2,"background-image","url('assets/images/originals/citydark.jpg')"],[1,"h-100","d-flex","bg-white","justify-content-center","align-items-center","col-md-12","col-lg-8"],[1,"mx-auto","app-login-box","col-sm-12","col-md-8","col-lg-6"],[1,"app-logo"],[1,"mb-3"],[1,"",3,"ngSubmit"],["fpForm","ngForm"],[1,"form-row"],[1,"col-md-12"],[1,"position-relative","form-group"],["for","exampleEmail1",1,""],["name","password","id","exampleEmail1","placeholder","Mot de passe ici...","type","password","ngModel","","required","",1,"form-control"],["for","exampleEmail2",1,""],["name","confirm_password","id","exampleEmail2","placeholder","Mot de passe ici...","type","password","ngModel","","required","",1,"form-control"],[1,"mt-4","d-flex","align-items-center"],[1,"ml-auto"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[3,"isVisible"]],template:function(n,s){if(1&n){const o=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div")(8,"div",7),e.nrm(9,"div",8),e.j41(10,"div",9)(11,"h3"),e.EFF(12,"SISEB"),e.k0s(),e.j41(13,"p"),e.EFF(14," Syst\xe8me d'Information des Statistiques Environnementales du B\xe9nin "),e.k0s()()()(),e.j41(15,"div")(16,"div",10),e.nrm(17,"div",11),e.j41(18,"div",9)(19,"h3"),e.EFF(20,"Scalable, Modular, Consistent"),e.k0s(),e.j41(21,"p"),e.EFF(22,"Easily exclude the components you don't require. Lightweight, consistent Bootstrap based styles across all elements and components "),e.k0s()()()(),e.j41(23,"div")(24,"div",12),e.nrm(25,"div",13),e.j41(26,"div",9)(27,"h3"),e.EFF(28,"Complex, but lightweight"),e.k0s(),e.j41(29,"p"),e.EFF(30,"We've included a lot of components that cover almost all use cases for any type of application."),e.k0s()()()()()()(),e.j41(31,"div",14)(32,"div",15),e.nrm(33,"div",16),e.j41(34,"h4")(35,"div",17),e.EFF(36,"C'est votre premi\xe8re connexion "),e.k0s(),e.j41(37,"span"),e.EFF(38,"D\xe9finissez votre mot de passe."),e.k0s()(),e.j41(39,"div")(40,"form",18,19),e.bIt("ngSubmit",function(){e.eBV(o);const p=e.sdS(41);return e.Njj(s.changeFirstPassword(p.value))}),e.j41(42,"div",20)(43,"div",21)(44,"div",22)(45,"label",23),e.EFF(46,"Nouveau mot de passe"),e.k0s(),e.nrm(47,"input",24),e.k0s(),e.j41(48,"div",22)(49,"label",25),e.EFF(50,"Confirmer mot de passe"),e.k0s(),e.nrm(51,"input",26),e.k0s()()(),e.j41(52,"div",27)(53,"div",28)(54,"button",29),e.EFF(55,"Chnager mon mot de passe "),e.nrm(56,"app-loading",30),e.k0s()()()()()()()()()()()}if(2&n){const o=e.sdS(41);e.R7$(54),e.Y8G("disabled",o.invalid||s.loading),e.R7$(2),e.Y8G("isVisible",s.loading)}},dependencies:[v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();function yt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"form",8,9),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(2),o=e.XpG();return e.Njj(o.sendMail(s.value))}),e.j41(3,"div",10)(4,"div",11)(5,"div",12)(6,"label",13),e.EFF(7,"Email"),e.k0s(),e.nrm(8,"input",14),e.k0s()()(),e.j41(9,"div",15)(10,"div",16)(11,"button",17),e.EFF(12,"R\xe9cup\xe9rer "),e.nrm(13,"app-loading",18),e.k0s()()(),e.j41(14,"div",19)(15,"div")(16,"a",20),e.EFF(17,"Je dispose d\xe9j\xe0 d'un compte"),e.k0s()()()()()}if(2&i){const t=e.sdS(2),n=e.XpG();e.R7$(11),e.Y8G("disabled",t.invalid||n.loading),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Rt(i,r){1&i&&(e.j41(0,"div")(1,"div",21),e.nrm(2,"img",22),e.k0s(),e.j41(3,"p",23),e.EFF(4,"Un mail de r\xe9cup\xe9ration de votre mot de passe vous a \xe9t\xe9 transf\xe9r\xe9 ! Veuillez consulter votre bo\xeete mail. "),e.nrm(5,"br"),e.EFF(6," Merci"),e.k0s()())}let It=(()=>{class i{constructor(t,n,s){this.authService=t,this.router=n,this.toastr=s,this.mailSent=!1}ngOnInit(){}sendMail(t){this.loading=!0,this.authService.sendMail(t).subscribe(n=>{this.loading=!1,this.mailSent=!0},n=>{this.loading=!1,this.toastr.error("Envoi de mail \xe9chou\xe9","R\xe9cup\xe9ration de mot de passe")})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(I.u),e.rXU(h.Ix),e.rXU(f.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-forget-password"]],decls:12,vars:2,consts:[[1,""],[1,"logo","text-start","mb-5"],[1,"logo"],["href","#"],["src","assets/template2/images/masm.png","alt","","title","",2,"min-height","80px"],[1,"auto-container","px-5"],[1,"mb-3"],[4,"ngIf"],[1,"",3,"ngSubmit"],["fpForm","ngForm"],[1,"form-row"],[1,"col-md-12"],[1,"position-relative","form-group"],["for","exampleEmail",1,""],["name","email","id","exampleEmail","placeholder","Email ici...","type","email","ngModel","","required","",1,"form-control"],[1,"mt-4","d-flex","align-items-center"],[1,"ml-auto","mb-3"],["type","submit",1,"btn","cape-bg-blue","text-white","btn-sm","btn-lg",3,"disabled"],[3,"isVisible"],[1,"d-flex","justify-content-end"],["routerLink","/admin/auth/login",1,"text-primary"],[1,"text-center"],["src","assets/template2/images/success.png","alt",""],[1,"text-primary"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e.nrm(4,"img",4),e.k0s()()(),e.j41(5,"div",5)(6,"div",6),e.EFF(7,"Mot de passe oubli\xe9?"),e.k0s(),e.j41(8,"span"),e.EFF(9,"Renseignez votre email pour d\xe9finir un nouveau mot de passe ."),e.k0s(),e.DNE(10,yt,18,2,"div",7),e.DNE(11,Rt,7,0,"div",7),e.k0s()()),2&n&&(e.R7$(10),e.Y8G("ngIf",!s.mailSent),e.R7$(1),e.Y8G("ngIf",s.mailSent))},dependencies:[u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),Tt=(()=>{class i{constructor(t,n,s,o){this.authService=t,this.lsService=n,this.router=s,this.toastr=o,this.loading=!1}ngOnInit(){}login(t){this.loading=!0,this.authService.login(t).subscribe(n=>{this.loading=!1,this.lsService.set(d.r.tokenName,n.access_token),this.lsService.set(d.r.refreshTokenName,n.refresh_token),this.lsService.set(d.r.expireIn,n.expires_at),this.authService.me().subscribe(s=>{this.lsService.set(d.r.userName,s),this.router.navigate(["/admin/dashboard"]),this.toastr.success("Connexion r\xe9ussie","Connexion")})},n=>{this.loading=!1,this.toastr.error("Connexion \xe9chou\xe9e","Connexion")})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(I.u),e.rXU(b.s),e.rXU(h.Ix),e.rXU(f.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-login"]],decls:32,vars:2,consts:[[1,""],[1,"logo","text-start","mb-5"],[1,"logo"],["href","#"],["src","assets/template2/images/masm.png","alt","","title","",2,"min-height","80px"],[1,"auto-container","px-5"],[1,"text-center","fw-bold","mb-5"],[1,"contact-form"],[1,"title-box"],[1,"text"],[1,"",3,"ngSubmit"],["loginForm","ngForm"],[1,"row","clearfix"],[1,"form-group","col-12"],[1,"icon","flaticon-user-3"],["type","email","name","email","placeholder","Entrez votre email*","required","","ngModel",""],[1,"icon","flaticon-email-3"],["type","password","name","password","placeholder","Entrez votre mot de passe*","required","","ngModel",""],[1,"form-group","col-lg-12","col-md-12","col-sm-12"],["type","submit",1,"btn","btn-sm","text-white","cape-bg-blue",3,"disabled"],[1,"txt"],[3,"isVisible"],[1,"d-flex","justify-content-end"],["routerLink","/admin/auth/forget-password",1,"cape-text-blue"]],template:function(n,s){if(1&n){const o=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e.nrm(4,"img",4),e.k0s()()(),e.j41(5,"div",5)(6,"h5",6),e.EFF(7,"Plateforme de gestion des centres d'accueil et de protection de l'enfant en R\xe9publique du B\xe9nin"),e.k0s(),e.j41(8,"div",7)(9,"div",8)(10,"h2"),e.EFF(11,"Authentification"),e.k0s(),e.j41(12,"div",9),e.EFF(13,"Veuillez vous connecter \xe0 votre espace de traitement *"),e.k0s()(),e.j41(14,"form",10,11),e.bIt("ngSubmit",function(){e.eBV(o);const p=e.sdS(15);return e.Njj(s.login(p.value))}),e.j41(16,"div",12)(17,"div",13),e.nrm(18,"span",14)(19,"input",15),e.k0s(),e.j41(20,"div",13),e.nrm(21,"span",16)(22,"input",17),e.k0s(),e.j41(23,"div",18)(24,"button",19)(25,"span",20),e.EFF(26,"Connexion "),e.k0s(),e.nrm(27,"app-loading",21),e.k0s()(),e.j41(28,"div",22)(29,"a",23)(30,"u"),e.EFF(31,"Mot de passe oubli\xe9"),e.k0s()()()()()()()()}if(2&n){const o=e.sdS(15);e.R7$(24),e.Y8G("disabled",o.invalid||s.loading),e.R7$(3),e.Y8G("isVisible",s.loading)}},dependencies:[h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),Gt=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("permissions/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function $t(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Nt(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(32);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function wt(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function Vt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(30);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter une permission"),e.k0s(),e.DNE(3,$t,3,0,"button",25),e.DNE(4,Nt,2,0,"button",26),e.DNE(5,wt,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete)}}function At(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",31)(3,"input",32),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name)}}function Dt(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,34),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",35)(3,"h6",36),e.EFF(4,"Enregistrer une permission"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",43),e.k0s()()(),e.j41(14,"div",44)(15,"button",45),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",46),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Xt(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,47),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",48)(3,"h6",36),e.EFF(4,"Modifier une permission"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",49),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",44)(15,"button",45),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",46),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Mt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",48)(1,"h4",36),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",38)(5,"div",50)(6,"table",51)(7,"tbody")(8,"tr")(9,"td",52),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let Yt=(()=>{class i{constructor(t,n,s,o,l){this.permissionService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.permissionService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.permissionService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Permission",n.error.message)})}update(t){this.loading=!0,this.permissionService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Permission",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.permissionService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Permission",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(Gt),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-permission"]],decls:35,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des permissions"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,Vt,6,3,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,At,6,1,"tr",19),e.k0s()()()()()()(),e.DNE(29,Dt,18,2,"ng-template",null,20,e.C5r),e.DNE(31,Xt,18,3,"ng-template",null,21,e.C5r),e.DNE(33,Mt,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(10),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),Bt=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("profile")}getAll(){return this.http.get(this.url,m.w.httpHeader(localStorage.getItem(d.r.token)))}store(t){return this.http.post(this.url,t,m.w.httpHeader(localStorage.getItem(d.r.token)))}show(t){return this.http.get(`${this.url}/${t}`,m.w.httpHeader(localStorage.getItem(d.r.token)))}update(t,n){return this.http.patch(`${this.url}/${n}`,t,m.w.httpHeader(localStorage.getItem(d.r.token)))}delete(t){return this.http.get(`${this.url}/${t}`,m.w.httpHeader(localStorage.getItem(d.r.token)))}state(t){return this.http.get(`${this.url}/${t}/status`,m.w.httpHeader(localStorage.getItem(d.r.token)))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function qt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div"),e.nrm(1,"i",17),e.EFF(2),e.j41(3,"span",18),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG().$implicit,p=e.XpG();return e.Njj(p.revoke(l.id,o.id))}),e.j41(4,"u"),e.EFF(5,"Retirer"),e.k0s()()()}if(2&i){const t=r.$implicit;e.R7$(2),e.SpI(" ",t.name," ")}}function Ut(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"h5",13),e.EFF(3),e.j41(4,"button",14),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(),p=e.sdS(15);return e.Njj(l.open(p,o))}),e.EFF(5,"Ajouter un droit "),e.k0s()()(),e.j41(6,"div",15),e.DNE(7,qt,6,1,"div",16),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(3),e.SpI(" ",t.name," "),e.R7$(4),e.Y8G("ngForOf",t.permissions)}}function Pt(i,r){if(1&i&&(e.j41(0,"option",32),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Ot(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",19,20),e.bIt("ngSubmit",function(){const o=e.eBV(t).dialogRef,l=e.sdS(1),p=e.XpG();return e.Njj(p.store(l.value,o))}),e.j41(2,"div",21)(3,"h6",22),e.EFF(4," Ajout de droit"),e.k0s(),e.j41(5,"button",23),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",24)(7,"div"),e.nrm(8,"div"),e.j41(9,"div")(10,"div",25)(11,"label",26),e.EFF(12,"Permissions"),e.k0s(),e.j41(13,"select",27,28),e.DNE(15,Pt,2,2,"option",29),e.k0s()()(),e.j41(16,"div")(17,"button",30),e.EFF(18,"Sauvegarder "),e.nrm(19,"app-loading",31),e.k0s()()()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("ngForOf",n.permissions),e.R7$(2),e.Y8G("disabled",t.invalid||n.loading),e.R7$(2),e.Y8G("isVisible",n.loading)}}let zt=(()=>{class i{constructor(t,n,s,o,l){this.locService=t,this.profileService=n,this.toastrService=s,this.dialogService=o,this.modalService=l,this.data=[],this.permissions=[],this.loading=!1,this.loading2=!1}ngOnInit(){this.all(),this.user=this.locService.get(d.r.user),this.permissions=this.user.roles[0].permissions,console.log(this.permissions)}all(){this.loading2=!0,this.profileService.getAll().subscribe(t=>{this.data=t.roles,this.permissions=t.permissions,this.loading2=!1},t=>{this.loading2=!1})}checked(t){this.selected_data=t}open(t,n){this.selected_data=n,this.dialogService.open(t)}store(t,n){this.toastrService.info("Profil","Ajout de Op\xe9ration en cours"),this.loading=!0,t.id=this.selected_data.id,this.profileService.store(t).subscribe(s=>{this.loading=!1,this.modalService.dismissAll(),this.all(),this.toastrService.success("Profil","Ajout de droit")},s=>{this.loading=!1})}hasPermission(t){return!!this.permissions.find(s=>s.name==t)}revoke(t,n){this.loading=!0,confirm("Voulez vous retirer ce droit ?")&&(this.toastrService.info("Profil","Ajout de Op\xe9ration en cours"),this.profileService.update({id:n},t).subscribe(s=>{this.loading=!1,this.all(),this.toastrService.success("Profil","Retrait de droit")},s=>{this.loading=!1}))}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(b.s),e.rXU(Bt),e.rXU(f.tw),e.rXU(_.Bq),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["ngx-profile"]],decls:16,vars:1,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],["class","card mb-3",4,"ngFor","ngForOf"],["dialog",""],[1,"card","mb-3"],[1,"card-header"],[1,"d-flex","justify-content-between"],[1,"btn","cape-bg-blue","text-white","btn-sm",3,"click"],[1,"card-body"],[4,"ngFor","ngForOf"],["icon","arrowhead-right-outline"],[1,"float-right","text-danger","hand",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","permission_id","ngModel","",1,"form-control"],["type","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"value"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"R\xf4les et permissions"),e.k0s()()()()(),e.j41(11,"div")(12,"div"),e.DNE(13,Ut,8,2,"div",9),e.k0s()(),e.DNE(14,Ot,20,3,"ng-template",null,10,e.C5r)),2&n&&(e.R7$(13),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,h.Wk,v.q,a.qT,a.xH,a.y7,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV],styles:[".hand[_ngcontent-%COMP%]{cursor:pointer}"]})}}return i})(),Lt=(()=>{class i{constructor(t,n,s,o){this.authService=t,this.router=n,this.route=s,this.toastr=o}ngOnInit(){this.token=this.route.snapshot.paramMap.get("token"),null==this.token&&this.router.navigate(["/admin/auth/login"])}recoverPassword(t){t.password==t.confirm_password?(this.loading=!0,this.authService.recoverPassword(this.token,t).subscribe(n=>{this.loading=!1,this.router.navigate(["/admin/auth/login"]),this.toastr.success("Changement de mot passe r\xe9ussi","Mot de passe oubli\xe9")},n=>{this.loading=!1,this.toastr.error("Changement de mot passe \xe9chou\xe9","Mot de passe oubli\xe9")})):this.toastr.error("Nouveaux mots de passe non identique","Mot de passe oubli\xe9")}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(I.u),e.rXU(h.Ix),e.rXU(h.nX),e.rXU(f.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-recovery-password"]],decls:32,vars:2,consts:[[1,""],[1,"logo","text-start","mb-5"],[1,"logo"],["href","#"],["src","assets/template2/images/masm.png","alt","","title","",2,"min-height","80px"],[1,"auto-container","px-5"],[1,"mb-5"],[1,"mb-3"],[1,"",3,"ngSubmit"],["fpForm","ngForm"],[1,"form-row"],[1,"col-md-12","mb-3"],[1,"position-relative","form-group"],["for","exampleEmail1",1,""],["name","password","id","exampleEmail1","placeholder","Mot de passe ici...","type","password","ngModel","","required","",1,"form-control"],["for","exampleEmail2",1,""],["name","confirm_password","id","exampleEmail2","placeholder","Mot de passe ici...","type","password","ngModel","","required","",1,"form-control"],[1,"mt-4","d-flex","align-items-center","mb-3"],[1,"ml-auto"],["type","submit",1,"btn","cape-bg-blue","btn-sm","text-white",3,"disabled"],[3,"isVisible"],[1,"d-flex","justify-content-end"],["routerLink","/admin/auth/login",1,"text-primary"]],template:function(n,s){if(1&n){const o=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e.nrm(4,"img",4),e.k0s()()(),e.j41(5,"div",5)(6,"div",6)(7,"b"),e.EFF(8,"R\xe9cup\xe9ration de mot de passe"),e.k0s()(),e.j41(9,"span",7),e.EFF(10,"Renseignez un nouveau mot de passe."),e.k0s(),e.j41(11,"div")(12,"form",8,9),e.bIt("ngSubmit",function(){e.eBV(o);const p=e.sdS(13);return e.Njj(s.recoverPassword(p.value))}),e.j41(14,"div",10)(15,"div",11)(16,"div",12)(17,"label",13),e.EFF(18,"Nouveau mot de passe"),e.k0s(),e.nrm(19,"input",14),e.k0s(),e.j41(20,"div",12)(21,"label",15),e.EFF(22,"Confirmer mot de passe"),e.k0s(),e.nrm(23,"input",16),e.k0s()()(),e.j41(24,"div",17)(25,"div",18)(26,"button",19),e.EFF(27,"Chnager mon mot de passe "),e.nrm(28,"app-loading",20),e.k0s()()(),e.j41(29,"div",21)(30,"a",22),e.EFF(31,"Je dispose d\xe9j\xe0 d'un compte"),e.k0s()()()()()()}if(2&n){const o=e.sdS(13);e.R7$(26),e.Y8G("disabled",o.invalid||s.loading),e.R7$(2),e.Y8G("isVisible",s.loading)}},dependencies:[h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),ee=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("roles/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Jt(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Wt(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(32);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Ht(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function Qt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(30);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un r\xf4le"),e.k0s(),e.DNE(3,Jt,3,0,"button",25),e.DNE(4,Wt,2,0,"button",26),e.DNE(5,Ht,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete)}}function Kt(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",31)(3,"input",32),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name)}}function Zt(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,34),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",35)(3,"h6",36),e.EFF(4,"Enregistrer un r\xf4le"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",43),e.k0s()()(),e.j41(14,"div",44)(15,"button",45),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",46),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function en(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,47),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",48)(3,"h6",36),e.EFF(4,"Modifier un r\xf4le"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",49),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",44)(15,"button",45),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",46),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function tn(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",48)(1,"h4",36),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",38)(5,"div",50)(6,"table",51)(7,"tbody")(8,"tr")(9,"td",52),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let nn=(()=>{class i{constructor(t,n,s,o,l){this.roleService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.roleService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.roleService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","R\xf4le",n.error.message)})}update(t){this.loading=!0,this.roleService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","R\xf4le",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.roleService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","R\xf4le",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(ee),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-role"]],decls:35,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des r\xf4les"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,Qt,6,3,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,Kt,6,1,"tr",19),e.k0s()()()()()()(),e.DNE(29,Zt,18,2,"ng-template",null,20,e.C5r),e.DNE(31,en,18,3,"ng-template",null,21,e.C5r),e.DNE(33,tn,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(10),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),te=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("users/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}signCode(t){return this.http.post(`${this.url}store/sign-code`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function sn(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",20,21),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",22)(3,"label",23),e.EFF(4,"Email"),e.k0s(),e.j41(5,"input",24),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.user.email=s)}),e.k0s()(),e.j41(6,"button",25),e.EFF(7,"Sauvegarder mes informations "),e.nrm(8,"app-loading",26),e.k0s()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(5),e.Y8G("ngModel",n.user.email),e.R7$(1),e.Y8G("disabled",t.invalid||n.loading),e.R7$(2),e.Y8G("isVisible",n.loading)}}function on(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",20,27),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.changePassword(s.value))}),e.j41(2,"div",22)(3,"label",23),e.EFF(4,"Ancien mot de passe"),e.k0s(),e.nrm(5,"input",28),e.k0s(),e.j41(6,"div",22)(7,"label",23),e.EFF(8,"Nouveau mot de passe"),e.k0s(),e.nrm(9,"input",29),e.k0s(),e.j41(10,"div",22)(11,"label",23),e.EFF(12,"Confirmer moot de passe"),e.k0s(),e.nrm(13,"input",30),e.k0s(),e.j41(14,"button",31),e.EFF(15,"Changer le mot de passe "),e.nrm(16,"app-loading",26),e.k0s()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(14),e.Y8G("disabled",t.invalid||n.loading),e.R7$(2),e.Y8G("isVisible",n.loading)}}function rn(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",20,32),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.signCode(s.value,s))}),e.j41(2,"div",33)(3,"label",23),e.EFF(4,"Code de signature"),e.k0s(),e.nrm(5,"input",34),e.k0s(),e.j41(6,"div",33)(7,"label",23),e.EFF(8,"Confirmer code de signature"),e.k0s(),e.nrm(9,"input",35),e.k0s(),e.j41(10,"button",25),e.EFF(11,"Sauvegarder "),e.nrm(12,"app-loading",26),e.k0s()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(10),e.Y8G("disabled",t.invalid||n.loading),e.R7$(2),e.Y8G("isVisible",n.loading)}}let an=(()=>{class i{constructor(t,n,s,o,l){this.authService=t,this.userService=n,this.lsService=s,this.router=o,this.toastr=l,this.loading=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName)}update(t){this.loading=!0,this.authService.update(t).subscribe(n=>{this.loading=!1,this.lsService.set(d.r.userName,n.data),this.user=n.data,this.toastr.success("Sauvegarde des informations du compte","Mon compte")},n=>{this.loading=!1,this.toastr.success("Sauvegarde des informations \xe9chou\xe9e","Mon compte")})}changePassword(t){this.loading=!0,this.authService.changePassword(t).subscribe(n=>{this.loading=!1,this.toastr.success("Changement de mot de passe du compte","Mon compte"),this.logout()},n=>{this.loading=!1,this.toastr.error("Changement de mot de passe \xe9chou\xe9e","Mon compte")})}logout(){this.authService.logout().subscribe(t=>{this.lsService.remove(d.r.tokenName),this.lsService.remove(d.r.refreshTokenName),this.lsService.remove(d.r.expireIn),this.router.navigate(["/admin/auth/login"]),this.toastr.success("D\xe9connexion r\xe9ussie","Connexion")})}signCode(t,n){t.sign_code==t.sign_code_confirm?(this.loading=!0,this.userService.signCode(t).subscribe(s=>{n.reset(),this.toastr.success("Sauvegarde des informations du compte","Mon compte")},s=>{this.loading=!1,this.toastr.error("Sauvegarde des informations \xe9chou\xe9e","Mon compte")})):this.toastr.error("Les deux codes ne sont pas identiques","Code de signature")}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(I.u),e.rXU(te),e.rXU(b.s),e.rXU(h.Ix),e.rXU(f.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-user-profil"]],decls:31,vars:1,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"",3,"ngSubmit"],["userForm","ngForm"],[1,"position-relative","form-group"],["for","exampleEmail",1,""],["name","email","id","exampleEmail","placeholder","Email ici...","type","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"mt-1","btn","btn-warning",3,"disabled"],[3,"isVisible"],["mpForm","ngForm"],["name","old_password","id","exampleEmail","placeholder","Ancien mot de passe","type","password","required","","ngModel","",1,"form-control"],["name","new_password","id","exampleEmail","placeholder","Nouveau mot de passe","type","password","required","","ngModel","",1,"form-control"],["name","confirm_password","id","exampleEmail","placeholder","Confirmer mot de passe","type","password","required","","ngModel","",1,"form-control"],["type","submit",1,"mt-1","btn","btn-success",3,"disabled"],["signForm","ngForm"],[1,"position-relative","form-group","mb-3"],["name","sign_code","minlength","6","id","exampleEmail","placeholder","Code de signature ici...","type","password","required","","ngModel","",1,"form-control"],["name","sign_code_confirm","minlength","6","id","exampleEmail","placeholder","Code de signature ici...","type","password","required","","ngModel","",1,"form-control"]],template:function(n,s){if(1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Information personnelle & mot de passe"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"ul",14,15)(18,"li",16)(19,"a",17),e.EFF(20,"Information personnelle"),e.k0s(),e.DNE(21,sn,9,3,"ng-template",18),e.k0s(),e.j41(22,"li",16)(23,"a",17),e.EFF(24,"Mot de passe"),e.k0s(),e.DNE(25,on,17,2,"ng-template",18),e.k0s(),e.j41(26,"li",16)(27,"a",17),e.EFF(28,"Code de signature"),e.k0s(),e.DNE(29,rn,13,2,"ng-template",18),e.k0s()(),e.nrm(30,"div",19),e.k0s()()()()),2&n){const o=e.sdS(17);e.R7$(30),e.Y8G("ngbNavOutlet",o)}},dependencies:[h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.xh,a.vS,a.cV,_.Um,_.X9,_.sy,_.Gx,_.Ri,_.WA,_.m_]})}}return i})(),ln=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("backups/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function cn(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"date"),e.k0s()()),2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.SpI("",n+1," "),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(e.i5U(7,3,t.created_at,"shortDate"))}}let dn=(()=>{class i{constructor(t,n,s,o,l){this.bService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.bService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(){this.loading=!0,this.bService.store({}).subscribe(t=>{this.loading=!1,this.toastrService.success(t.message),this.getAll()},t=>{this.loading=!1,console.log(t),c.W.simpleAlert("error","Sauvegarde",t.error.message)})}update(t){this.loading=!0,this.bService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Sauvegarde",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.bService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Sauvegarde",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.bService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Sauvegarde",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(ln),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-backups"]],decls:32,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"disabled","click"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Sauvegarde"),e.k0s()()()(),e.j41(11,"div",9)(12,"button",10),e.bIt("click",function(){return s.store()}),e.EFF(13,"Cr\xe9er une sauvegarde"),e.k0s()()(),e.j41(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"p"),e.EFF(19),e.k0s(),e.j41(20,"div",15)(21,"table",16)(22,"thead",17)(23,"tr")(24,"th",18),e.EFF(25,"#"),e.k0s(),e.j41(26,"th"),e.EFF(27,"Libell\xe9 "),e.k0s(),e.j41(28,"th"),e.EFF(29,"Date "),e.k0s()()(),e.j41(30,"tbody"),e.DNE(31,cn,8,6,"tr",19),e.k0s()()()()()()()),2&n&&(e.R7$(12),e.Y8G("disabled",s.loading),e.R7$(7),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,h.Wk,u.vh]})}}return i})(),N=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("capes/")}getAll(){return this.http.get(`${this.url}`)}getAllAuthorized(t){return this.http.get(`${this.url}authorized/all?service_id=${t}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}import(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function mn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",25),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(7);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function _n(i,r){if(1&i&&(e.j41(0,"div",23),e.DNE(1,mn,3,0,"button",24),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.show)}}function un(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.SpI(" ",n+1," "),e.R7$(2),e.JRh(null==t.requete.type_cape?null:t.requete.type_cape.name),e.R7$(2),e.JRh(null==t.requete?null:t.requete.name)}}function pn(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",4)(2,"div",5),e.EFF(3,"CAPE "),e.k0s(),e.j41(4,"div",6)(5,"nav",7)(6,"ol",8)(7,"li",9)(8,"a",10),e.nrm(9,"i",11),e.k0s()(),e.j41(10,"li",12),e.EFF(11,"Liste des CAPE autoris\xe9s"),e.k0s()()()()(),e.j41(12,"div",13)(13,"div",14)(14,"div",15)(15,"div",16),e.DNE(16,_n,2,1,"div",17),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",18)(20,"table",19)(21,"thead",20)(22,"tr")(23,"th",21),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Type Cape"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Nom"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,un,7,3,"tr",22),e.k0s()()()()()()(),e.bVm()),2&i){const t=e.XpG();e.R7$(16),e.Y8G("ngIf",t.buttonsPermission),e.R7$(2),e.SpI("",t.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",t.data)}}function hn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",25),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(7);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function bn(i,r){if(1&i&&(e.j41(0,"div",23),e.DNE(1,hn,3,0,"button",24),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.show)}}function gn(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.SpI(" ",n+1," "),e.R7$(2),e.JRh(null==t.requete.type_cape?null:t.requete.type_cape.name),e.R7$(2),e.JRh(null==t.requete?null:t.requete.name)}}function fn(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",4)(2,"div",5),e.EFF(3,"CAPE "),e.k0s(),e.j41(4,"div",6)(5,"nav",7)(6,"ol",8)(7,"li",9)(8,"a",10),e.nrm(9,"i",11),e.k0s()(),e.j41(10,"li",12),e.EFF(11,"Liste des CAPES autoris\xe9s"),e.k0s()()()()(),e.j41(12,"div",13)(13,"div",14)(14,"div",15)(15,"div",16),e.DNE(16,bn,2,1,"div",17),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",18)(20,"table",19)(21,"thead",20)(22,"tr")(23,"th",21),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Type Cape"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Nom"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,gn,7,3,"tr",22),e.k0s()()()()()()(),e.bVm()),2&i){const t=e.XpG();e.R7$(16),e.Y8G("ngIf",t.buttonsPermission),e.R7$(2),e.SpI("",t.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",t.data)}}function vn(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",26,27),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",28)(3,"h6",29),e.EFF(4,"Enregistrer un d\xe9partement"),e.k0s(),e.j41(5,"button",30),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",31)(7,"div",32)(8,"div",33)(9,"label",34),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",35),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",36),e.k0s()()(),e.j41(14,"div",37)(15,"button",38),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",39),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Fn(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",26,40),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",41)(3,"h6",29),e.EFF(4,"Modifier un d\xe9partement"),e.k0s(),e.j41(5,"button",30),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",31)(7,"div",32)(8,"div",33)(9,"label",34),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",35),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",42),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",37)(15,"button",38),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",39),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function kn(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",41)(1,"h4",29),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",30),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",31)(5,"div",43)(6,"table",44)(7,"tbody")(8,"tr")(9,"td",45),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let jn=(()=>{class i{constructor(t,n,s,o,l){this.capeService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.capeService.getAll().subscribe(t=>{this.data="admin"==this.role?t.data.filter(n=>1==n.is_authorized):t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.capeService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Cape",n.error.message)})}update(t){this.loading=!0,this.capeService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Cape",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.capeService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Cape",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(N),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-cape"]],decls:8,vars:2,consts:[[4,"ngIf"],["addContent",""],["editContent",""],["showContent",""],[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],[1,"d-flex","mb-5"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.DNE(0,pn,31,3,"ng-container",0),e.DNE(1,fn,31,3,"ng-container",0),e.DNE(2,vn,18,2,"ng-template",null,1,e.C5r),e.DNE(4,Fn,18,3,"ng-template",null,2,e.C5r),e.DNE(6,kn,13,1,"ng-template",null,3,e.C5r)),2&n&&(e.Y8G("ngIf","admin"==s.role),e.R7$(1),e.Y8G("ngIf","admin"!=s.role))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),M=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("type-controls/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var x=F(549);let ne=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("controls/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}transUP(t){return this.http.get(`${this.url}trans-up/${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function En(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(37);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Cn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(35);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Sn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function xn(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(33);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un contr\xf4le effectu\xe9"),e.k0s(),e.DNE(3,En,3,0,"button",25),e.DNE(4,Cn,2,0,"button",26),e.DNE(5,Sn,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete)}}function yn(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",31)(3,"input",32),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.type_control.name),e.R7$(2),e.JRh(t.observation)}}function Rn(i,r){if(1&i&&(e.j41(0,"option",51),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function In(i,r){if(1&i&&(e.j41(0,"option",51),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.cape.id),e.R7$(1),e.JRh(t.name)}}function Tn(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,34),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",35)(3,"h6",36),e.EFF(4,"Enregistrer un contr\xf4le effectu\xe9"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Type de contr\xf4le "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",43),e.DNE(14,Rn,2,2,"option",44),e.k0s()(),e.j41(15,"div",40)(16,"label",41),e.EFF(17,"Observation "),e.j41(18,"span",42),e.EFF(19,"(*)"),e.k0s()(),e.nrm(20,"textarea",45),e.k0s(),e.j41(21,"div",40)(22,"label",41),e.EFF(23,"Date de contr\xf4le"),e.k0s(),e.nrm(24,"input",46),e.k0s(),e.j41(25,"div",40)(26,"label",41),e.EFF(27,"Cape "),e.j41(28,"span",42),e.EFF(29,"(*)"),e.k0s()(),e.j41(30,"select",47),e.DNE(31,In,2,2,"option",44),e.k0s()()()(),e.j41(32,"div",48)(33,"button",49),e.EFF(34,"Enregistrer "),e.nrm(35,"app-loading",50),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(14),e.Y8G("ngForOf",n.tc),e.R7$(17),e.Y8G("ngForOf",n.capes),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Gn(i,r){if(1&i&&(e.j41(0,"option",51),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function $n(i,r){if(1&i&&(e.j41(0,"option",51),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.cape.id),e.R7$(1),e.JRh(t.name)}}function Nn(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,52),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",35)(3,"h6",36),e.EFF(4,"Modifier un contr\xf4le"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Type de sanction "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",53),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.type_control_id=s)}),e.DNE(14,Gn,2,2,"option",44),e.k0s()(),e.j41(15,"div",40)(16,"label",41),e.EFF(17,"Observation "),e.j41(18,"span",42),e.EFF(19,"(*)"),e.k0s()(),e.j41(20,"textarea",54),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.observation=s)}),e.k0s()(),e.j41(21,"div",40)(22,"label",41),e.EFF(23,"Date de contr\xf4le"),e.k0s(),e.j41(24,"input",55),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.date_control=s)}),e.k0s()(),e.j41(25,"div",40)(26,"label",41),e.EFF(27,"Cape "),e.j41(28,"span",42),e.EFF(29,"(*)"),e.k0s()(),e.j41(30,"select",56),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.cape_id=s)}),e.DNE(31,$n,2,2,"option",44),e.k0s()()()(),e.j41(32,"div",48)(33,"button",49),e.EFF(34,"Sauvegarder "),e.nrm(35,"app-loading",50),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.type_control_id),e.R7$(1),e.Y8G("ngForOf",n.tc),e.R7$(6),e.Y8G("ngModel",n.selected_data.observation),e.R7$(4),e.Y8G("ngModel",n.selected_data.date_control),e.R7$(6),e.Y8G("ngModel",n.selected_data.cape_id),e.R7$(1),e.Y8G("ngForOf",n.capes),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function wn(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",35)(1,"h6",36),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",38)(5,"div",57)(6,"table",58)(7,"tbody")(8,"tr")(9,"td",59),e.EFF(10,"Type sanction"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",59),e.EFF(15,"Description"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.type_control.name," "),e.R7$(5),e.SpI("",t.selected_data.observation," ")}}let Vn=(()=>{class i{constructor(t,n,s,o,l,p,g,j){this.tcService=t,this.reqService=n,this.controlService=s,this.toastrService=o,this._sanitizationService=l,this.lsService=g,this.modalService=j,this.structures=[],this.data=[],this.tc=[],this.capes=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,p.backdrop="static",p.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll(),this.getCapes(),this.getTypeControl()}getAll(){this.controlService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}getTypeControl(){this.tcService.getAll().subscribe(t=>{this.tc=t.data},t=>{})}getCapes(){this.reqService.getListForPublic(1).subscribe(t=>{this.capes=t},t=>{})}upload(t){t.target.files.length>0&&(this.fileInput=t.target.files[0])}store(t){let n=(0,u.Yq)(t.date_control,"yyyy-MM-dd","en_US");(0,u.Yq)(new Date,"yyyy-MM-dd","en_US")<n?this.toastrService.error("La date fin ne peut \xeatre ant\xe9rieur \xe0 la date d\xe9but "):(this.loading=!0,this.controlService.store(t).subscribe(o=>{this.loading=!1,this.toastrService.success(o.message),this.getAll()},o=>{this.loading=!1,console.log(o),c.W.simpleAlert("error","Sanctions",o.error.message)}))}update(t){let n=(0,u.Yq)(t.date_control,"yyyy-MM-dd","en_US");(0,u.Yq)(new Date,"yyyy-MM-dd","en_US")<n?this.toastrService.error("La date fin ne peut \xeatre ant\xe9rieur \xe0 la date d\xe9but "):(this.loading=!0,this.controlService.update(this.selected_data.id,t).subscribe(o=>{this.loading=!1,this.toastrService.success(o.message),this.getAll()},o=>{this.loading=!1,console.log(o),c.W.simpleAlert("error","Sanctions",o.error.message)}))}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.controlService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Sanctions",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.status}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.controlService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","D\xe9partement",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(M),e.rXU(x.t),e.rXU(ne),e.rXU(f.tw),e.rXU(R.up),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-control"]],decls:38,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["name","type_control_id","ngModel","","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["name","observation","ngModel","","required","",1,"form-control"],["type","date","name","date_control","required","","ngModel","",1,"form-control"],["name","cape_id","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["editForm","ngForm"],["name","type_control_id","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","observation","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","date_control","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","cape_id","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des contr\xf4les \xe9ffectu\xe9s"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,xn,6,3,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Type de contr\xf4le"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Instruction"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,yn,8,2,"tr",19),e.k0s()()()(),e.nrm(31,"div",13),e.k0s()()(),e.DNE(32,Tn,36,4,"ng-template",null,20,e.C5r),e.DNE(34,Nn,36,8,"ng-template",null,21,e.C5r),e.DNE(36,wn,18,2,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),Y=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("cps/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}storeDistricts(t){return this.http.post(`${this.url}store-districts/all`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}exportXls(){return this.http.get(`${this.url}exports/pdf`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ie=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("districts/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),w=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("municipalities/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function An(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(38);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Dn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Xn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function Mn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function Yn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function Bn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(36);return e.Njj(s.show(o))}),e.EFF(1," Affecter des arrondissements"),e.k0s()}}function qn(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",24)(1,"button",25),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(32);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un centre social"),e.k0s(),e.DNE(3,An,3,0,"button",26),e.DNE(4,Dn,2,0,"button",27),e.DNE(5,Xn,2,0,"button",28),e.DNE(6,Mn,2,0,"button",29),e.DNE(7,Yn,2,0,"button",28),e.DNE(8,Bn,2,0,"button",30),e.j41(9,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.exportPDF())}),e.EFF(10," Exporter en PDF "),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete)}}function Un(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.SpI(" ",t.name," ")}}function Pn(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",37)(3,"input",38),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td")(7,"ul"),e.DNE(8,Un,2,1,"li",19),e.k0s()()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(3),e.Y8G("ngForOf",t.districts)}}function On(i,r){if(1&i&&(e.j41(0,"option",59),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function zn(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,40),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Enregistrer un cps"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",49),e.k0s(),e.j41(14,"div",46)(15,"label",47),e.EFF(16,"Sigle "),e.j41(17,"span",48),e.EFF(18,"(*)"),e.k0s()(),e.nrm(19,"input",50),e.k0s(),e.j41(20,"div",46)(21,"label",47),e.EFF(22,"Commune "),e.j41(23,"span",48),e.EFF(24,"(*)"),e.k0s()(),e.j41(25,"select",51),e.DNE(26,On,2,2,"option",52),e.k0s()(),e.j41(27,"div",46)(28,"label",47),e.EFF(29,"Nom responsable "),e.j41(30,"span",48),e.EFF(31,"(*)"),e.k0s()(),e.nrm(32,"input",53),e.k0s(),e.j41(33,"div",46)(34,"label",47),e.EFF(35,"Contact "),e.j41(36,"span",48),e.EFF(37,"(*)"),e.k0s()(),e.nrm(38,"input",54),e.k0s(),e.j41(39,"div",46)(40,"label",47),e.EFF(41,"Email "),e.j41(42,"span",48),e.EFF(43,"(*)"),e.k0s()(),e.nrm(44,"input",55),e.k0s()()(),e.j41(45,"div",56)(46,"button",57),e.EFF(47,"Enregistrer "),e.nrm(48,"app-loading",58),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(26),e.Y8G("ngForOf",n.municipalities),e.R7$(20),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Ln(i,r){if(1&i&&(e.j41(0,"option",59),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Jn(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,60),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Modifier un cps"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",61),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()(),e.j41(14,"div",46)(15,"label",47),e.EFF(16,"Sigle "),e.j41(17,"span",48),e.EFF(18,"(*)"),e.k0s()(),e.j41(19,"input",62),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.acronym=s)}),e.k0s()(),e.j41(20,"div",46)(21,"label",47),e.EFF(22,"Commune "),e.j41(23,"span",48),e.EFF(24,"(*)"),e.k0s()(),e.j41(25,"select",63),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.municipality_id=s)}),e.DNE(26,Ln,2,2,"option",52),e.k0s()(),e.j41(27,"div",46)(28,"label",47),e.EFF(29,"Nom responsable "),e.j41(30,"span",48),e.EFF(31,"(*)"),e.k0s()(),e.j41(32,"input",64),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name_chief=s)}),e.k0s()(),e.j41(33,"div",46)(34,"label",47),e.EFF(35,"Contact "),e.j41(36,"span",48),e.EFF(37,"(*)"),e.k0s()(),e.j41(38,"input",65),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.phone=s)}),e.k0s()(),e.j41(39,"div",46)(40,"label",47),e.EFF(41,"Email "),e.j41(42,"span",48),e.EFF(43,"(*)"),e.k0s()(),e.j41(44,"input",66),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.email=s)}),e.k0s()()()(),e.j41(45,"div",56)(46,"button",57),e.EFF(47,"Sauvegarder "),e.nrm(48,"app-loading",58),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(6),e.Y8G("ngModel",n.selected_data.acronym),e.R7$(6),e.Y8G("ngModel",n.selected_data.municipality_id),e.R7$(1),e.Y8G("ngForOf",n.municipalities),e.R7$(6),e.Y8G("ngModel",n.selected_data.name_chief),e.R7$(6),e.Y8G("ngModel",n.selected_data.phone),e.R7$(6),e.Y8G("ngModel",n.selected_data.email),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Wn(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,60),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.storeDistricts(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Affeter des arrondissements"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",67)(8,"label",47),e.EFF(9,"Choix des arrondissements"),e.k0s()()(),e.j41(10,"div",56)(11,"button",57),e.EFF(12,"Affecter "),e.nrm(13,"app-loading",58),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(11),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Hn(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",68)(1,"h4",42),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",44)(5,"div",69)(6,"table",70)(7,"tbody")(8,"tr")(9,"td",71),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",71),e.EFF(15,"Sigle"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()(),e.j41(18,"tr")(19,"td",71),e.EFF(20,"Nom du responsable"),e.k0s(),e.j41(21,"td"),e.EFF(22),e.k0s()(),e.j41(23,"tr")(24,"td",71),e.EFF(25,"Contact"),e.k0s(),e.j41(26,"td"),e.EFF(27),e.k0s()(),e.j41(28,"tr")(29,"td",71),e.EFF(30,"Email"),e.k0s(),e.j41(31,"td"),e.EFF(32),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," "),e.R7$(5),e.SpI("",t.selected_data.acronym," "),e.R7$(5),e.SpI("",t.selected_data.name_chief," "),e.R7$(5),e.SpI("",t.selected_data.phone," "),e.R7$(5),e.SpI("",t.selected_data.email," ")}}let Qn=(()=>{class i{constructor(t,n,s,o,l,p,g){this.cpsService=t,this.dsService=n,this.toastrService=s,this.lsService=l,this.municipalityService=p,this.modalService=g,this.structures=[],this.data=[],this.municipalities=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,this.districts=[],this.dropdownList=[],this.selectedItems=[],this.dropdownSettings={},o.backdrop="static",o.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0},this.dropdownSettings={singleSelection:!1,text:"Selectionnez les arrondissement",selectAllText:"Tous coch\xe9s",unSelectAllText:"D\xe9cochez tous",enableSearchFilter:!0,classes:"myclass custom-class"}}init(){this.getAll(),this.getDistricts(),this.getMunicipalities()}getAll(){this.cpsService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}getMunicipalities(){this.municipalityService.getAll().subscribe(t=>{this.municipalities=t.data},t=>{})}getDistricts(){this.dsService.getAll().subscribe(t=>{this.districts=t.data},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.cpsService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","CPS",n.error.message)})}update(t){this.loading=!0,this.cpsService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","CPS",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.cpsService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","CPS",s.error.message)})})}checked(t){null==t.municipality_id&&this.toastrService.warning("Veuillez rajouter une commune au cps"),this.selected_data=t,this.is_active=t.is_active;let n=this.districts.filter(s=>s.municipality_id==t.municipality_id);console.log(n),n.forEach(s=>this.dropdownList.push({id:s.id,itemName:s.name}))}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.cpsService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","CPS",n.error.message)})}storeDistricts(t){this.toastrService.warning("Op\xe9ration en cours"),this.cpsService.storeDistricts({id:this.selected_data.id,items:JSON.stringify(this.selectedItems)}).subscribe(n=>{this.toastrService.success(n.message),this.getAll(),this.dropdownList=[]},n=>{console.log(n),c.W.simpleAlert("error","CPS",n.error.message)})}onItemSelect(t){console.log(t),console.log(this.selectedItems)}OnItemDeSelect(t){console.log(t),console.log(this.selectedItems)}onSelectAll(t){console.log(t)}onDeSelectAll(t){console.log(t)}exportPDF(){window.open(m.w.toApiUrl("cps/exports/pdf"),"_blank")}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(Y),e.rXU(ie),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(w),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-cps"]],decls:39,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["arrContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-info btn-sm  me-3",3,"click",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-info","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],["type","text","name","acronym","ngModel","","required","",1,"form-control"],["name","municipality_id","id","","ngModel","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","name_chief","ngModel","","required","",1,"form-control"],["type","text","name","phone","ngModel","","required","",1,"form-control"],["type","text","name","email","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["editForm","ngForm"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","acronym","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","municipality_id","id","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","name_chief","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","phone","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-goup"],[1,"modal-header"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des centres de promotions sociales"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,qn,11,6,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Arrondissements"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,Pn,9,2,"tr",19),e.k0s()()()()()()(),e.DNE(31,zn,49,3,"ng-template",null,20,e.C5r),e.DNE(33,Jn,49,9,"ng-template",null,21,e.C5r),e.DNE(35,Wn,14,2,"ng-template",null,22,e.C5r),e.DNE(37,Hn,33,5,"ng-template",null,23,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();var G=F(1154);function Kn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(36);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Zn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function ei(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function ti(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function ni(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function ii(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(32);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un d\xe9partement"),e.k0s(),e.DNE(3,Kn,3,0,"button",25),e.DNE(4,Zn,2,0,"button",26),e.DNE(5,ei,2,0,"button",27),e.DNE(6,ti,2,0,"button",28),e.DNE(7,ni,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function si(i,r){1&i&&(e.j41(0,"span",37),e.EFF(1,"Actif"),e.k0s())}function oi(i,r){1&i&&(e.j41(0,"span",38),e.EFF(1,"Bloqu\xe9"),e.k0s())}function ri(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.DNE(7,si,2,0,"span",35),e.DNE(8,oi,2,0,"span",36),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function ai(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,40),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Enregistrer un d\xe9partement"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",49),e.k0s()()(),e.j41(14,"div",50)(15,"button",51),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",52),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function li(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,53),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Modifier un d\xe9partement"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",54),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",50)(15,"button",51),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",52),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function ci(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",41)(1,"h6",42),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",44)(5,"div",55)(6,"table",56)(7,"tbody")(8,"tr")(9,"td",57),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let di=(()=>{class i{constructor(t,n,s,o,l){this.departmentService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.departmentService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.departmentService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","D\xe9partement",n.error.message)})}update(t){this.loading=!0,this.departmentService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","D\xe9partement",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.departmentService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","D\xe9partement",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.departmentService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","D\xe9partement",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(G.a),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-department"]],decls:37,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des d\xe9partements"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,ii,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Statut"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,ri,9,3,"tr",19),e.k0s()()()()()()(),e.DNE(31,ai,18,2,"ng-template",null,20,e.C5r),e.DNE(33,li,18,3,"ng-template",null,21,e.C5r),e.DNE(35,ci,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();function mi(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(38);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function _i(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(36);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function ui(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function pi(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function hi(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function bi(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(34);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un arrondissement"),e.k0s(),e.DNE(3,mi,3,0,"button",25),e.DNE(4,_i,2,0,"button",26),e.DNE(5,ui,2,0,"button",27),e.DNE(6,pi,2,0,"button",28),e.DNE(7,hi,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function gi(i,r){1&i&&(e.j41(0,"span",37),e.EFF(1,"Actif"),e.k0s())}function fi(i,r){1&i&&(e.j41(0,"span",38),e.EFF(1,"Bloqu\xe9"),e.k0s())}function vi(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.DNE(9,gi,2,0,"span",35),e.DNE(10,fi,2,0,"span",36),e.k0s()()}if(2&i){const t=r.$implicit;let n;e.R7$(5),e.JRh(t.name),e.R7$(2),e.JRh(null!==(n=null==t.municipality?null:t.municipality.name)&&void 0!==n?n:"Non d\xe9fini"),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function Fi(i,r){if(1&i&&(e.j41(0,"option",55),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function ki(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,40),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Enregistrer un arrondissement"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Commune "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",49),e.DNE(14,Fi,2,2,"option",50),e.k0s()(),e.j41(15,"div",46)(16,"label",47),e.EFF(17,"Libell\xe9 "),e.j41(18,"span",48),e.EFF(19,"(*)"),e.k0s()(),e.nrm(20,"input",51),e.k0s()()(),e.j41(21,"div",52)(22,"button",53),e.EFF(23,"Enregistrer "),e.nrm(24,"app-loading",54),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(14),e.Y8G("ngForOf",n.municipalities),e.R7$(8),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function ji(i,r){if(1&i&&(e.j41(0,"option",55),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Ei(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,56),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",57)(3,"h6",42),e.EFF(4,"Modifier un arrondissement"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Ville "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",58),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.municipality_id=s)}),e.DNE(14,ji,2,2,"option",50),e.k0s()(),e.j41(15,"div",46)(16,"label",47),e.EFF(17,"Libell\xe9 "),e.j41(18,"span",48),e.EFF(19,"(*)"),e.k0s()(),e.j41(20,"input",59),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(21,"div",52)(22,"button",53),e.EFF(23,"Sauvegarder "),e.nrm(24,"app-loading",54),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.municipality_id),e.R7$(1),e.Y8G("ngForOf",n.municipalities),e.R7$(6),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Ci(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",57)(1,"h4",42),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",44)(5,"div",60)(6,"table",61)(7,"tbody")(8,"tr")(9,"td",62),e.EFF(10,"Ville"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",62),e.EFF(15,"Arrondissement"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.city.name," "),e.R7$(5),e.SpI("",t.selected_data.name," ")}}let Si=(()=>{class i{constructor(t,n,s,o,l,p){this.districtService=t,this.mService=n,this.toastrService=s,this.lsService=l,this.modalService=p,this.structures=[],this.municipalities=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,o.backdrop="static",o.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll(),this.getmunicipalities()}getmunicipalities(){this.mService.getAll().subscribe(t=>{this.municipalities=t.data},t=>{})}getAll(){this.districtService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.districtService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Arrondissement",n.error.message)})}update(t){this.loading=!0,this.districtService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Arrondissement",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.districtService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Arrondissement",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.districtService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Arrondissement",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(ie),e.rXU(w),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-district"]],decls:39,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["name","municipality_id","ngModel","","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["editForm","ngForm"],[1,"modal-header"],["name","municipality_id","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des arrondissements"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,bi,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Commune"),e.k0s(),e.j41(29,"th"),e.EFF(30,"Statut"),e.k0s()()(),e.j41(31,"tbody"),e.DNE(32,vi,11,4,"tr",19),e.k0s()()()()()()(),e.DNE(33,ki,25,3,"ng-template",null,20,e.C5r),e.DNE(35,Ei,25,5,"ng-template",null,21,e.C5r),e.DNE(37,Ci,18,2,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(14),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),B=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("responses")}getAll(){return this.http.get(this.url,m.w.httpHeader(localStorage.getItem(d.r.token)))}store(t){return this.http.post(this.url,t,m.w.httpHeader(localStorage.getItem(d.r.token)))}show(t){return this.http.get(`${this.url}/${t}`,m.w.httpHeader(localStorage.getItem(d.r.token)))}update(t,n){return this.http.patch(`${this.url}/${n}`,t,m.w.httpHeader(localStorage.getItem(d.r.token)))}delete(t){return this.http.get(`${this.url}/${t}`,m.w.httpHeader(localStorage.getItem(d.r.token)))}state(t){return this.http.get(`${this.url}/${t}/status`,m.w.httpHeader(localStorage.getItem(d.r.token)))}needCorrection(t){return this.http.post(`${this.url}/step/need-correction`,t,m.w.httpHeader(localStorage.getItem(d.r.token)))}decline(t){return this.http.post(`${this.url}/step/declined`,t,m.w.httpHeader(localStorage.getItem(d.r.token)))}validate(t){return this.http.post(`${this.url}/step/validated`,t,m.w.httpHeader(localStorage.getItem(d.r.token)))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function xi(i,r){1&i&&(e.qex(0),e.j41(1,"div",13)(2,"label",14),e.EFF(3,"Note"),e.k0s(),e.nrm(4,"input",23),e.k0s(),e.j41(5,"div",13)(6,"label",14),e.EFF(7,"Observation"),e.k0s(),e.nrm(8,"textarea",24),e.k0s(),e.bVm())}function yi(i,r){1&i&&(e.qex(0),e.j41(1,"div",13)(2,"label",14),e.EFF(3,"Motif"),e.k0s(),e.nrm(4,"input",25),e.k0s(),e.bVm())}let se=(()=>{class i{constructor(t,n,s,o,l,p,g){this.reqService=t,this.responseService=n,this.toastrService=s,this.lsService=l,this.router=p,this.activatedRoute=g,this.loading=!1}ngOnInit(){this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.init()}init(){this.reqService.get(this.code).subscribe(t=>{this.data=t},t=>{})}store(t){switch(t.id=this.data.id,t.hasPermission){case"0":this.responseService.needCorrection(t).subscribe(n=>{this.router.navigate(["/admin/requetes/pending"])},n=>{});break;case"1":this.responseService.validate(t).subscribe(n=>{this.router.navigate(["/admin/requetes/validated"])},n=>{});break;case"2":this.responseService.decline(t).subscribe(n=>{this.router.navigate(["/admin/requetes/finished"])},n=>{})}}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(x.t),e.rXU(B),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(h.Ix),e.rXU(h.nX))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-espace-eservice-edit"]],decls:31,vars:5,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container","row","p-5"],[1,"col-8","mx-auto"],[3,"ngSubmit"],["reponseForm","ngForm"],[1,"form-group","mb-5"],["for",""],["name","hasPermission","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],[4,"ngIf"],[1,""],["type","submit",1,"btn","btn-sm","btn-success",3,"disabled"],[3,"isVisible"],["type","text","name","reason","ngModel","",1,"form-control"],["name","observation","ngModel","","cols","30","rows","10",1,"form-control"],["type","text","name","observation","ngModel","",1,"form-control"]],template:function(n,s){if(1&n){const o=e.RV6();e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"D\xe9cision "),e.k0s()()()()(),e.j41(11,"div",9)(12,"div",10)(13,"form",11,12),e.bIt("ngSubmit",function(){e.eBV(o);const p=e.sdS(14);return e.Njj(s.store(p.value))}),e.j41(15,"div",13)(16,"label",14),e.EFF(17,"D\xe9cision"),e.k0s(),e.j41(18,"select",15),e.bIt("ngModelChange",function(p){return s.hasPermission=p}),e.j41(19,"option",16),e.EFF(20,"Mise en attente"),e.k0s(),e.j41(21,"option",17),e.EFF(22,"Favorable"),e.k0s(),e.j41(23,"option",18),e.EFF(24,"D\xe9favorable"),e.k0s()()(),e.DNE(25,xi,9,0,"ng-container",19),e.DNE(26,yi,5,0,"ng-container",19),e.j41(27,"div",20)(28,"button",21),e.EFF(29,"Sauvegarder "),e.nrm(30,"app-loading",22),e.k0s()()()()()}if(2&n){const o=e.sdS(14);e.R7$(18),e.Y8G("ngModel",s.hasPermission),e.R7$(7),e.Y8G("ngIf",1==s.hasPermission),e.R7$(1),e.Y8G("ngIf",0==s.hasPermission||2==s.hasPermission),e.R7$(2),e.Y8G("disabled",o.invalid),e.R7$(2),e.Y8G("isVisible",s.loading)}},dependencies:[u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();function Ri(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(28);return e.Njj(s.add(o))}),e.EFF(1,"Retourner pour correction "),e.nrm(2,"app-loading",32),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("isVisible",t.loading)}}function Ii(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(16);return e.Njj(s.add(o))}),e.EFF(1,"Dossier recevable pour inscription "),e.nrm(2,"app-loading",32),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("isVisible",t.loading)}}function Ti(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(16);return e.Njj(s.add(o))}),e.EFF(1,"Transmettre "),e.nrm(2,"app-loading",32),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("isVisible",t.loading)}}function Gi(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(14);return e.Njj(s.add(o))}),e.EFF(1,"Ajouter le rapport de l'enqu\xeate sociale "),e.nrm(2,"app-loading",32),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("isVisible",t.loading)}}function $i(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(20);return e.Njj(s.add(o))}),e.EFF(1,"D\xe9livrer fiche de d\xe9p\xf4t physique "),e.nrm(2,"app-loading",32),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("isVisible",t.loading)}}function Ni(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(24);return e.Njj(s.add(o))}),e.EFF(1,"Mettre en attente "),e.nrm(2,"app-loading",32),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("isVisible",t.loading)}}function wi(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",37),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(26);return e.Njj(s.add(o))}),e.EFF(1,"Inviter pour d\xe9p\xf4t de dossier physique "),e.nrm(2,"app-loading",32),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("isVisible",t.loading)}}function Vi(i,r){if(1&i&&(e.j41(0,"div",22)(1,"div",23)(2,"a",24),e.EFF(3,"Retourner \xe0 la liste"),e.k0s(),e.DNE(4,Ri,3,2,"button",25),e.DNE(5,Ii,3,2,"button",26),e.DNE(6,Ti,3,2,"button",27),e.DNE(7,Gi,3,2,"button",28),e.DNE(8,$i,3,2,"button",28),e.DNE(9,Ni,3,2,"button",29),e.DNE(10,wi,3,2,"button",30),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(4),e.Y8G("ngIf",(5==t.data.status||6==t.data.status)&&"cps"!=t.role),e.R7$(1),e.Y8G("ngIf",6==t.data.status),e.R7$(1),e.Y8G("ngIf",5==t.data.status||-1==t.data.affectation.sens),e.R7$(1),e.Y8G("ngIf",4==t.data.status&&!t.data.has_cps_file),e.R7$(1),e.Y8G("ngIf",4==t.data.status&&!t.data.has_physical_deposit),e.R7$(1),e.Y8G("ngIf",0==t.data.status||3==t.data.status),e.R7$(1),e.Y8G("ngIf",0==t.data.status||3==t.data.status)}}function Ai(i,r){if(1&i&&(e.j41(0,"div",40)(1,"h4"),e.nrm(2,"i",41),e.j41(3,"u"),e.EFF(4,"Correction demand\xe9e"),e.k0s()(),e.j41(5,"p"),e.EFF(6),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(6),e.SpI(" ",t.data.affectation.instruction," ")}}function Di(i,r){if(1&i){const t=e.RV6();e.j41(0,"fieldset")(1,"legend",42),e.EFF(2,"Information sur la personne morale"),e.k0s(),e.j41(3,"div",43)(4,"div",44)(5,"dl")(6,"dt"),e.EFF(7,"D\xe9nomination "),e.k0s(),e.j41(8,"dd"),e.EFF(9),e.k0s()()(),e.j41(10,"div",44)(11,"dl")(12,"dt"),e.EFF(13,"N\xb0 enregistrement"),e.k0s(),e.j41(14,"dd"),e.EFF(15),e.k0s()()(),e.j41(16,"div",44)(17,"dl")(18,"dt"),e.EFF(19,"Date d'enregistrement "),e.k0s(),e.j41(20,"dd"),e.EFF(21),e.nI1(22,"date"),e.k0s()()(),e.j41(23,"div",44)(24,"dl")(25,"dt"),e.EFF(26,"Contact "),e.k0s(),e.j41(27,"dd"),e.EFF(28),e.k0s()()(),e.j41(29,"div",44)(30,"dl")(31,"dt"),e.EFF(32,"Si\xe8ge"),e.k0s(),e.j41(33,"dd"),e.EFF(34),e.k0s()()(),e.j41(35,"div",44)(36,"dl")(37,"dt"),e.EFF(38,"Preuve de l'enregistrement"),e.k0s(),e.j41(39,"dd")(40,"button",58),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.showFile2(null==s.data?null:s.data.registered_proof))}),e.EFF(41,"Voir document"),e.k0s()()()()()()}if(2&i){const t=e.XpG(3);e.R7$(9),e.JRh(null==t.data?null:t.data.social_reason),e.R7$(6),e.SpI(" ",null==t.data?null:t.data.registered_number,""),e.R7$(6),e.JRh(e.i5U(22,5,null==t.data?null:t.data.registered_date,"dd-MM-yyyy")),e.R7$(7),e.JRh(null==t.data?null:t.data.registered_phone),e.R7$(6),e.JRh(null==t.data?null:t.data.head_office)}}function Xi(i,r){if(1&i&&(e.j41(0,"div",44)(1,"dl")(2,"dt"),e.EFF(3,"Type Centre"),e.k0s(),e.j41(4,"dd"),e.EFF(5),e.k0s()()()),2&i){const t=e.XpG(3);let n;e.R7$(5),e.JRh(null!==(n=null==t.data.type_cape?null:t.data.type_cape.name)&&void 0!==n?n:null==t.data.type_garderie?null:t.data.type_garderie.name)}}function Mi(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(null==t.type_garderie?null:t.type_garderie.name)}}function Yi(i,r){if(1&i&&(e.j41(0,"div",44)(1,"dl")(2,"dt"),e.EFF(3,"Type Garderie"),e.k0s(),e.j41(4,"dd")(5,"ul"),e.DNE(6,Mi,2,1,"li",51),e.k0s()()()()),2&i){const t=e.XpG(3);e.R7$(6),e.Y8G("ngForOf",t.data.requete_type_garderies)}}function Bi(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t)}}function qi(i,r){if(1&i&&(e.j41(0,"div",44)(1,"dl")(2,"dt"),e.EFF(3,"Cible"),e.k0s(),e.j41(4,"dd")(5,"ul"),e.DNE(6,Bi,2,1,"li",51),e.k0s()()()()),2&i){const t=e.XpG(3);e.R7$(6),e.Y8G("ngForOf",t.getJson(t.data.target))}}function Ui(i,r){if(1&i&&(e.j41(0,"dd")(1,"a",59),e.nrm(2,"img",60),e.k0s(),e.j41(3,"p"),e.EFF(4,"Cliquez sur l'image pour agrandir"),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(1),e.Y8G("href",t.getZoneFile(t.data.zone_file),e.B4B),e.R7$(1),e.Y8G("src",t.getZoneFile(t.data.zone_file),e.B4B)}}function Pi(i,r){1&i&&(e.j41(0,"dd")(1,"p"),e.EFF(2,"Aucune image enregistr\xe9e"),e.k0s()())}function Oi(i,r){1&i&&(e.j41(0,"span",66),e.EFF(1," Valid\xe9"),e.k0s())}function zi(i,r){1&i&&(e.j41(0,"span",67),e.EFF(1," Non Valid\xe9"),e.k0s())}function Li(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",61),e.nrm(3,"input",62),e.k0s()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"h6")(10,"b"),e.EFF(11,"Observation"),e.k0s()(),e.j41(12,"p"),e.EFF(13),e.k0s(),e.nrm(14,"br"),e.j41(15,"h6",40)(16,"b"),e.EFF(17,"Statut"),e.k0s()(),e.DNE(18,Oi,2,0,"span",63),e.DNE(19,zi,2,0,"span",64),e.k0s(),e.j41(20,"td",53)(21,"div",65)(22,"button",58),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(3);return e.Njj(o.showFile(s.filename,s))}),e.EFF(23,"Voir document"),e.k0s()()()()}if(2&i){const t=e.XpG(),n=t.$implicit,s=t.index;let o;e.R7$(3),e.Y8G("checked",n.is_treated),e.R7$(2),e.JRh(s+1),e.R7$(2),e.JRh(n.file.name),e.R7$(6),e.JRh(null!==(o=n.observation)&&void 0!==o?o:"En attente"),e.R7$(5),e.Y8G("ngIf",n.is_treated&&n.is_valid),e.R7$(1),e.Y8G("ngIf",n.is_treated&&!n.is_valid)}}function Ji(i,r){if(1&i&&(e.qex(0),e.DNE(1,Li,24,6,"tr",9),e.bVm()),2&i){const t=r.$implicit;e.R7$(1),e.Y8G("ngIf","DP"==t.file.type_file.code)}}function Wi(i,r){1&i&&(e.j41(0,"span",66),e.EFF(1," Valid\xe9"),e.k0s())}function Hi(i,r){1&i&&(e.j41(0,"span",67),e.EFF(1," Non Valid\xe9"),e.k0s())}function Qi(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",61),e.nrm(3,"input",62),e.k0s()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"h6")(10,"b"),e.EFF(11,"Observation"),e.k0s()(),e.j41(12,"p"),e.EFF(13),e.k0s(),e.nrm(14,"br"),e.j41(15,"h6",40)(16,"b"),e.EFF(17,"Statut"),e.k0s()(),e.DNE(18,Wi,2,0,"span",63),e.DNE(19,Hi,2,0,"span",64),e.k0s(),e.j41(20,"td")(21,"div",65)(22,"button",68),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(4);return e.Njj(o.showFile(s.filename,s))}),e.EFF(23,"Voir document"),e.k0s()()()()}if(2&i){const t=e.XpG(),n=t.$implicit,s=t.index;let o;e.R7$(3),e.Y8G("checked",n.is_treated),e.R7$(2),e.JRh(s+1),e.R7$(2),e.JRh(n.file.name),e.R7$(6),e.JRh(null!==(o=n.observation)&&void 0!==o?o:"En attente"),e.R7$(5),e.Y8G("ngIf",n.is_treated&&n.is_valid),e.R7$(1),e.Y8G("ngIf",n.is_treated&&!n.is_valid)}}function Ki(i,r){if(1&i&&(e.qex(0),e.DNE(1,Qi,24,6,"tr",9),e.bVm()),2&i){const t=r.$implicit;e.R7$(1),e.Y8G("ngIf","DD"==t.file.type_file.code)}}function Zi(i,r){if(1&i&&(e.qex(0),e.DNE(1,Ki,2,1,"ng-container",51),e.bVm()),2&i){const t=e.XpG(3);e.R7$(1),e.Y8G("ngForOf",t.data.files)}}function es(i,r){1&i&&(e.j41(0,"span",66),e.EFF(1," Valid\xe9"),e.k0s())}function ts(i,r){1&i&&(e.j41(0,"span",67),e.EFF(1," Non Valid\xe9"),e.k0s())}function ns(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",61),e.nrm(3,"input",62),e.k0s()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"h6")(10,"b"),e.EFF(11,"Observation"),e.k0s()(),e.j41(12,"p"),e.EFF(13),e.k0s(),e.nrm(14,"br"),e.j41(15,"h6",40)(16,"b"),e.EFF(17,"Statut"),e.k0s()(),e.DNE(18,es,2,0,"span",63),e.DNE(19,ts,2,0,"span",64),e.k0s(),e.j41(20,"td")(21,"div",65)(22,"button",68),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(3);return e.Njj(o.showFile(s.filename,s))}),e.EFF(23,"Voir document"),e.k0s()()()()}if(2&i){const t=e.XpG(),n=t.$implicit,s=t.index;let o;e.R7$(3),e.Y8G("checked",n.is_treated),e.R7$(2),e.JRh(s+1),e.R7$(2),e.JRh(n.file.name),e.R7$(6),e.JRh(null!==(o=n.observation)&&void 0!==o?o:"En attente"),e.R7$(5),e.Y8G("ngIf",n.is_treated&&n.is_valid),e.R7$(1),e.Y8G("ngIf",n.is_treated&&!n.is_valid)}}function is(i,r){if(1&i&&(e.qex(0),e.DNE(1,ns,24,6,"tr",9),e.bVm()),2&i){const t=r.$implicit;e.R7$(1),e.Y8G("ngIf","DC"==t.file.type_file.code)}}function ss(i,r){1&i&&(e.j41(0,"span",66),e.EFF(1," Valid\xe9"),e.k0s())}function os(i,r){1&i&&(e.j41(0,"span",67),e.EFF(1," Non Valid\xe9"),e.k0s())}function rs(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",61),e.nrm(3,"input",62),e.k0s()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"h6")(10,"b"),e.EFF(11,"Observation"),e.k0s()(),e.j41(12,"p"),e.EFF(13),e.k0s(),e.nrm(14,"br"),e.j41(15,"h6",40)(16,"b"),e.EFF(17,"Statut"),e.k0s()(),e.DNE(18,ss,2,0,"span",63),e.DNE(19,os,2,0,"span",64),e.k0s(),e.j41(20,"td")(21,"div",65)(22,"button",68),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(3);return e.Njj(o.showFile(s.filename,s))}),e.EFF(23,"Voir document"),e.k0s()()()()}if(2&i){const t=e.XpG(),n=t.$implicit,s=t.index;let o;e.R7$(3),e.Y8G("checked",n.is_treated),e.R7$(2),e.JRh(s+1),e.R7$(2),e.JRh(n.file.name),e.R7$(6),e.JRh(null!==(o=n.observation)&&void 0!==o?o:"En attente"),e.R7$(5),e.Y8G("ngIf",n.is_treated&&n.is_valid),e.R7$(1),e.Y8G("ngIf",n.is_treated&&!n.is_valid)}}function as(i,r){if(1&i&&(e.qex(0),e.DNE(1,rs,24,6,"tr",9),e.bVm()),2&i){const t=r.$implicit;e.R7$(1),e.Y8G("ngIf","DJ"==t.file.type_file.code)}}function ls(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",68),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.showFile(o.filename))}),e.EFF(7,"Voir document"),e.k0s()()()}if(2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.JRh(n+1),e.R7$(2),e.JRh(t.reference)}}function cs(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",69),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(18);return e.Njj(s.add(o))}),e.EFF(1,"Modifier"),e.k0s()}}function ds(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",53)(1,"div",43)(2,"div",44)(3,"dl")(4,"dt"),e.EFF(5,"Nom de l'enqu\xeateur"),e.k0s(),e.j41(6,"dd"),e.EFF(7),e.k0s()()(),e.j41(8,"div",44)(9,"dl")(10,"dt"),e.EFF(11,"Observation sur l'enqu\xeate"),e.k0s(),e.j41(12,"dd"),e.EFF(13),e.k0s()()(),e.j41(14,"div",44)(15,"dl")(16,"dt"),e.EFF(17,"Date de l'enqu\xeate"),e.k0s(),e.j41(18,"dd"),e.EFF(19),e.nI1(20,"date"),e.k0s()()(),e.j41(21,"div",44)(22,"dl")(23,"dt"),e.EFF(24,"Fiche de l'enqu\xeate sociale"),e.k0s(),e.j41(25,"dd")(26,"button",68),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.showFileCpsFile())}),e.EFF(27,"Voir document"),e.k0s()()()()()()}if(2&i){const t=e.XpG(3);e.R7$(7),e.JRh(t.data.social_investigator_name),e.R7$(6),e.JRh(t.data.social_investigator_observation),e.R7$(6),e.JRh(e.i5U(20,3,t.data.social_investigator_date,"shortDate"))}}function ms(i,r){1&i&&(e.j41(0,"div",53)(1,"p",70),e.EFF(2,"Rapport social non disponible"),e.k0s()())}function _s(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",69),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(22);return e.Njj(s.add(o))}),e.EFF(1,"Modifier"),e.k0s()}}function us(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",53)(1,"div",43)(2,"div",44)(3,"dl")(4,"dt"),e.EFF(5,"Nom du d\xe9posant"),e.k0s(),e.j41(6,"dd"),e.EFF(7),e.k0s()()(),e.j41(8,"div",44)(9,"dl")(10,"dt"),e.EFF(11,"Contact du d\xe9posant"),e.k0s(),e.j41(12,"dd"),e.EFF(13),e.k0s()()(),e.j41(14,"div",44)(15,"dl")(16,"dt"),e.EFF(17,"Observation du d\xe9posant"),e.k0s(),e.j41(18,"dd"),e.EFF(19),e.k0s()()(),e.j41(20,"div",44)(21,"dl")(22,"dt"),e.EFF(23,"Date du d\xe9posant"),e.k0s(),e.j41(24,"dd"),e.EFF(25),e.nI1(26,"date"),e.k0s()()(),e.j41(27,"div",44)(28,"dl")(29,"dt"),e.EFF(30,"Prototype du r\xe9c\xe9piss\xe9 de d\xe9p\xf4t"),e.k0s(),e.j41(31,"dd")(32,"button",68),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.showFileRecepisseFile())}),e.EFF(33,"Voir document"),e.k0s()()()()()()}if(2&i){const t=e.XpG(3);e.R7$(7),e.JRh(t.data.name_depositor),e.R7$(6),e.JRh(t.data.phone_depositor),e.R7$(6),e.JRh(t.data.observation_depositor),e.R7$(6),e.JRh(e.i5U(26,4,t.data.date_depositor,"shortDate"))}}function ps(i,r){1&i&&(e.j41(0,"div",53)(1,"p",70),e.EFF(2,"D\xe9p\xf4t physique non disponible"),e.k0s()())}function hs(i,r){if(1&i&&(e.j41(0,"li")(1,"p"),e.nrm(2,"i",71),e.EFF(3),e.j41(4,"span")(5,"strong"),e.EFF(6),e.k0s()()()()),2&i){const t=r.$implicit;e.R7$(3),e.SpI(" ",t.observation," | "),e.R7$(3),e.JRh(null==t.user?null:t.user.name)}}function bs(i,r){if(1&i&&(e.j41(0,"div",38)(1,"h2"),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.DNE(4,Ai,7,1,"div",39),e.j41(5,"div",40)(6,"h4"),e.nrm(7,"i",41),e.j41(8,"u"),e.EFF(9,"Identification"),e.k0s()()(),e.j41(10,"h6")(11,"strong"),e.EFF(12,"Nature promoteur :"),e.k0s(),e.EFF(13),e.k0s(),e.DNE(14,Di,42,8,"fieldset",9),e.j41(15,"fieldset")(16,"legend",42),e.EFF(17),e.k0s(),e.j41(18,"div",43)(19,"div",44)(20,"dl")(21,"dt"),e.EFF(22,"Nom "),e.k0s(),e.j41(23,"dd"),e.EFF(24),e.k0s()()(),e.j41(25,"div",44)(26,"dl")(27,"dt"),e.EFF(28,"Pr\xe9nom(s) "),e.k0s(),e.j41(29,"dd"),e.EFF(30),e.k0s()()(),e.j41(31,"div",44)(32,"dl")(33,"dt"),e.EFF(34,"Email "),e.k0s(),e.j41(35,"dd"),e.EFF(36),e.k0s()()(),e.j41(37,"div",44)(38,"dl")(39,"dt"),e.EFF(40,"Contact"),e.k0s(),e.j41(41,"dd"),e.EFF(42),e.k0s()()()()(),e.j41(43,"fieldset")(44,"legend",42),e.EFF(45,"Information sur le directeur"),e.k0s(),e.j41(46,"div",43)(47,"div",44)(48,"dl")(49,"dt"),e.EFF(50,"Nom "),e.k0s(),e.j41(51,"dd"),e.EFF(52),e.k0s()()(),e.j41(53,"div",44)(54,"dl")(55,"dt"),e.EFF(56,"Pr\xe9nom(s) "),e.k0s(),e.j41(57,"dd"),e.EFF(58),e.k0s()()(),e.j41(59,"div",44)(60,"dl")(61,"dt"),e.EFF(62,"Email "),e.k0s(),e.j41(63,"dd"),e.EFF(64),e.k0s()()(),e.j41(65,"div",44)(66,"dl")(67,"dt"),e.EFF(68,"Contact"),e.k0s(),e.j41(69,"dd"),e.EFF(70),e.k0s()()()()(),e.j41(71,"fieldset")(72,"legend",42),e.EFF(73,"Information sur le centre"),e.k0s(),e.j41(74,"div",43),e.DNE(75,Xi,6,1,"div",45),e.DNE(76,Yi,7,1,"div",45),e.j41(77,"div",44)(78,"dl")(79,"dt"),e.EFF(80,"Type Garderie"),e.k0s(),e.j41(81,"dd"),e.EFF(82),e.k0s()()(),e.j41(83,"div",44)(84,"dl")(85,"dt"),e.EFF(86,"Nom du centre"),e.k0s(),e.j41(87,"dd"),e.EFF(88),e.k0s()()(),e.DNE(89,qi,7,1,"div",45),e.j41(90,"div",44)(91,"dl")(92,"dt"),e.EFF(93,"Email "),e.k0s(),e.j41(94,"dd"),e.EFF(95),e.k0s()()(),e.j41(96,"div",44)(97,"dl")(98,"dt"),e.EFF(99,"Contact"),e.k0s(),e.j41(100,"dd"),e.EFF(101),e.k0s()()()(),e.nrm(102,"hr"),e.j41(103,"legend",42),e.EFF(104,"Localisation"),e.k0s(),e.j41(105,"div",43)(106,"div",44)(107,"dl")(108,"dt"),e.EFF(109,"D\xe9partement"),e.k0s(),e.j41(110,"dd"),e.EFF(111),e.k0s()()(),e.j41(112,"div",44)(113,"dl")(114,"dt"),e.EFF(115,"Commune"),e.k0s(),e.j41(116,"dd"),e.EFF(117),e.k0s()()(),e.j41(118,"div",44)(119,"dl")(120,"dt"),e.EFF(121,"Arrondissement"),e.k0s(),e.j41(122,"dd"),e.EFF(123),e.k0s()()(),e.j41(124,"div",44)(125,"dl")(126,"dt"),e.EFF(127,"Quartier de ville / Village"),e.k0s(),e.j41(128,"dd"),e.EFF(129),e.k0s()()(),e.j41(130,"div",44)(131,"dl")(132,"dt"),e.EFF(133,"Adresse"),e.k0s(),e.j41(134,"dd"),e.EFF(135),e.k0s()()(),e.j41(136,"div",44)(137,"dl")(138,"dt"),e.EFF(139,"Image de la zone"),e.k0s(),e.DNE(140,Ui,5,2,"dd",9),e.DNE(141,Pi,3,0,"dd",9),e.k0s()()()(),e.j41(142,"div",40)(143,"h4"),e.nrm(144,"i",41),e.j41(145,"u"),e.EFF(146,"Documents joints \xe0 la soumission"),e.k0s()()(),e.j41(147,"div",46)(148,"table",47)(149,"thead")(150,"th",48),e.nrm(151,"i",49),e.k0s(),e.j41(152,"th",48),e.EFF(153,"#"),e.k0s(),e.j41(154,"th"),e.EFF(155,"R\xe9f\xe9rence"),e.k0s(),e.j41(156,"th"),e.EFF(157,"Observation / Statut"),e.k0s(),e.j41(158,"th"),e.EFF(159,"Action"),e.k0s()(),e.j41(160,"tbody")(161,"tr")(162,"td",50)(163,"h6",42),e.EFF(164),e.k0s()()(),e.DNE(165,Ji,2,1,"ng-container",51),e.j41(166,"tr")(167,"td",50)(168,"h6",42),e.EFF(169,"Document du Directeur"),e.k0s()()(),e.DNE(170,Zi,2,1,"ng-container",9),e.j41(171,"tr")(172,"td",50)(173,"h6",42),e.EFF(174,"Document du Centre"),e.k0s()()(),e.DNE(175,is,2,1,"ng-container",51),e.j41(176,"tr")(177,"td",50)(178,"h6",42),e.EFF(179,"Autre document"),e.k0s()()(),e.DNE(180,as,2,1,"ng-container",51),e.k0s()()(),e.j41(181,"div",40)(182,"h4"),e.nrm(183,"i",41),e.j41(184,"u"),e.EFF(185,"Documents d\xe9livr\xe9s par l'administration"),e.k0s()()(),e.j41(186,"div",46)(187,"table",47)(188,"thead")(189,"th",48),e.EFF(190,"#"),e.k0s(),e.j41(191,"th"),e.EFF(192,"R\xe9f\xe9rence"),e.k0s(),e.j41(193,"th"),e.EFF(194,"Action"),e.k0s()(),e.j41(195,"tbody"),e.DNE(196,ls,8,2,"tr",51),e.k0s()()(),e.j41(197,"div",40)(198,"h4",52)(199,"div",53),e.nrm(200,"i",41),e.j41(201,"u"),e.EFF(202,"Rapport social "),e.k0s()(),e.DNE(203,cs,2,0,"button",54),e.k0s()(),e.DNE(204,ds,28,6,"div",55),e.DNE(205,ms,3,0,"div",55),e.j41(206,"div",40)(207,"h4",52)(208,"div",53),e.nrm(209,"i",41),e.j41(210,"u"),e.EFF(211,"D\xe9p\xf4t physique"),e.k0s()(),e.DNE(212,_s,2,0,"button",54),e.k0s()(),e.DNE(213,us,34,7,"div",55),e.DNE(214,ps,3,0,"div",55),e.j41(215,"div",40)(216,"h4",52)(217,"div",53),e.nrm(218,"i",41),e.j41(219,"u"),e.EFF(220,"R\xe9ponses intervenants"),e.k0s()()()(),e.j41(221,"div",56)(222,"ul",57),e.DNE(223,hs,7,2,"li",51),e.k0s()()()),2&i){const t=e.XpG(2);let n;e.R7$(2),e.SpI("Dossier soumis le: ",e.i5U(3,40,t.data.created_at,"shortDate"),""),e.R7$(2),e.Y8G("ngIf",-1==t.data.affectation.sens),e.R7$(9),e.SpI(" ",null==t.data||null==t.data.nature_promotor?null:t.data.nature_promotor.name,""),e.R7$(1),e.Y8G("ngIf",null==t.data||null==t.data.nature_promotor?null:t.data.nature_promotor.name.includes("morale")),e.R7$(3),e.JRh(null!=t.data&&null!=t.data.nature_promotor&&t.data.nature_promotor.name.includes("morale")?"Information sur le repr\xe9sentant l\xe9gal":"Information sur le promoteur"),e.R7$(7),e.JRh(t.data.name_pomoter),e.R7$(6),e.SpI(" ",t.data.firstname_pomoter,""),e.R7$(6),e.JRh(t.data.email_pomoter),e.R7$(6),e.JRh(t.data.phone_pomoter),e.R7$(10),e.JRh(t.data.name_chief),e.R7$(6),e.SpI(" ",t.data.firstname_chief,""),e.R7$(6),e.JRh(t.data.email_chief),e.R7$(6),e.JRh(t.data.phone_chief),e.R7$(5),e.Y8G("ngIf",null==t.data.service||null==t.data.service.name?null:t.data.service.name.toLowerCase().includes("cape")),e.R7$(1),e.Y8G("ngIf",null==t.data.service||null==t.data.service.name?null:t.data.service.name.toLowerCase().includes("garderie")),e.R7$(6),e.JRh(null!==(n=null==t.data.type_cape?null:t.data.type_cape.name)&&void 0!==n?n:null==t.data.type_garderie?null:t.data.type_garderie.name),e.R7$(6),e.JRh(t.data.name),e.R7$(1),e.Y8G("ngIf",null==t.data.service||null==t.data.service.name?null:t.data.service.name.toLowerCase().includes("cape")),e.R7$(6),e.JRh(t.data.email),e.R7$(6),e.JRh(t.data.phone),e.R7$(10),e.JRh(null==t.data.district||null==t.data.district.municipality||null==t.data.district.municipality.department?null:t.data.district.municipality.department.name),e.R7$(6),e.JRh(null==t.data.district||null==t.data.district.municipality?null:t.data.district.municipality.name),e.R7$(6),e.JRh(null==t.data.district?null:t.data.district.name),e.R7$(6),e.JRh(t.data.town),e.R7$(6),e.JRh(t.data.address),e.R7$(5),e.Y8G("ngIf",null!=t.data.zone_file),e.R7$(1),e.Y8G("ngIf",null==t.data.zone_file),e.R7$(23),e.SpI("Document du Promoteur ",t.data.pomoter_is_director?"/ Directeur":"",""),e.R7$(1),e.Y8G("ngForOf",t.data.files),e.R7$(5),e.Y8G("ngIf",!t.data.pomoter_is_director),e.R7$(5),e.Y8G("ngForOf",t.data.files),e.R7$(5),e.Y8G("ngForOf",t.data.files),e.R7$(16),e.Y8G("ngForOf",t.data.files2),e.R7$(7),e.Y8G("ngIf",t.data.has_cps_file&&4==t.data.status),e.R7$(1),e.Y8G("ngIf",t.data.has_cps_file),e.R7$(1),e.Y8G("ngIf",!t.data.has_cps_file),e.R7$(7),e.Y8G("ngIf",t.data.has_physical_deposit&&4==t.data.status),e.R7$(1),e.Y8G("ngIf",t.data.has_physical_deposit),e.R7$(1),e.Y8G("ngIf",!t.data.has_physical_deposit),e.R7$(9),e.Y8G("ngForOf",t.data.reponses)}}function gs(i,r){if(1&i&&(e.qex(0),e.DNE(1,Vi,11,7,"div",21),e.DNE(2,bs,224,43,"div",10),e.bVm()),2&i){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",null!=t.data),e.R7$(1),e.Y8G("ngIf",null!=t.data)}}function fs(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",77),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(30);return e.Njj(s.add(o))}),e.EFF(1,"Enregistrer les observations"),e.k0s()}}function vs(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",78),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(32);return e.Njj(s.add(o))}),e.EFF(1,"Modifier les observations"),e.k0s()}}function Fs(i,r){if(1&i){const t=e.RV6();e.qex(0,38),e.j41(1,"div",72)(2,"button",73),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.back())}),e.EFF(3,"Fermer le visualiseur"),e.k0s(),e.DNE(4,fs,2,0,"button",74),e.DNE(5,vs,2,0,"button",75),e.k0s(),e.nrm(6,"object",76),e.bVm()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.fileSelected&&!t.fileSelected.is_treated&&t.data.status<4),e.R7$(1),e.Y8G("ngIf",t.fileSelected&&t.fileSelected.is_treated&&t.data.status<4),e.R7$(1),e.Y8G("data",t.url,e.f$h)}}function ks(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",79,80),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.finishStore1(s.value))}),e.j41(2,"div",81)(3,"h6",82),e.EFF(4,"Rapport social "),e.k0s(),e.j41(5,"button",83),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(6,"i",84),e.k0s()(),e.j41(7,"div",85)(8,"div",86)(9,"label",87),e.EFF(10,"Nom de l'enqu\xeateur"),e.k0s(),e.j41(11,"input",88),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.data.social_investigator_name=s)}),e.k0s()(),e.j41(12,"div",86)(13,"label",87),e.EFF(14,"Date de l'enqu\xeate"),e.k0s(),e.nrm(15,"input",89),e.k0s(),e.j41(16,"div",86)(17,"label",87),e.EFF(18,"Observation"),e.k0s(),e.nrm(19,"textarea",90),e.k0s(),e.j41(20,"div",86)(21,"label",87),e.EFF(22,"Charger la fiche de contr\xf4le"),e.k0s(),e.j41(23,"input",91),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload(s))}),e.k0s()()(),e.j41(24,"div",92)(25,"button",93),e.EFF(26,"Sauvegarder "),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(11),e.Y8G("ngModel",n.data.social_investigator_name),e.R7$(14),e.Y8G("disabled",t.invalid||n.loading)}}function js(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",79,80),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.transUp(s.value))}),e.j41(2,"div",81)(3,"h6",82),e.EFF(4,"Rapport final"),e.k0s(),e.j41(5,"button",83),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(6,"i",84),e.k0s()(),e.j41(7,"div",85)(8,"div",86)(9,"label",87),e.EFF(10,"Note de rapport final"),e.k0s(),e.nrm(11,"textarea",94),e.k0s()(),e.j41(12,"div",92)(13,"button",93),e.EFF(14,"Sauvegarder "),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("disabled",t.invalid||n.loading)}}function Es(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",79,80),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.finishStore1(s.value))}),e.j41(2,"div",81)(3,"h6",82),e.EFF(4,"Rapport social "),e.k0s(),e.j41(5,"button",83),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(6,"i",84),e.k0s()(),e.j41(7,"div",85)(8,"div",86)(9,"label",87),e.EFF(10,"Nom de l'enqu\xeateur"),e.k0s(),e.j41(11,"input",88),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.data.social_investigator_name=s)}),e.k0s()(),e.j41(12,"div",86)(13,"label",87),e.EFF(14,"Date de l'enqu\xeate"),e.k0s(),e.j41(15,"input",95),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.data.social_investigator_date=s)}),e.k0s()(),e.j41(16,"div",86)(17,"label",87),e.EFF(18,"Observation"),e.k0s(),e.j41(19,"textarea",96),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.data.social_investigator_observation=s)}),e.k0s()(),e.j41(20,"div",86)(21,"label",87),e.EFF(22,"Charger la fiche de contr\xf4le"),e.k0s(),e.j41(23,"input",91),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload(s))}),e.k0s()()(),e.j41(24,"div",92)(25,"button",93),e.EFF(26,"Sauvegarder "),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(11),e.Y8G("ngModel",n.data.social_investigator_name),e.R7$(4),e.Y8G("ngModel",n.data.social_investigator_date),e.R7$(4),e.Y8G("ngModel",n.data.social_investigator_observation),e.R7$(6),e.Y8G("disabled",t.invalid||n.loading)}}function Cs(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",79,97),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.finishStore2(s.value))}),e.j41(2,"div",81)(3,"h6",82),e.EFF(4,"D\xe9p\xf4t physique"),e.k0s(),e.j41(5,"button",83),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(6,"i",84),e.k0s()(),e.j41(7,"div",85)(8,"div",86)(9,"label",87),e.EFF(10,"Nom d\xe9posant"),e.k0s(),e.nrm(11,"input",98),e.k0s(),e.j41(12,"div",86)(13,"label",87),e.EFF(14,"Contact d\xe9posant"),e.k0s(),e.nrm(15,"input",99),e.k0s(),e.j41(16,"div",86)(17,"label",87),e.EFF(18,"Date de d\xe9p\xf4t"),e.k0s(),e.nrm(19,"input",100),e.k0s(),e.j41(20,"div",86)(21,"label",87),e.EFF(22,"Observation"),e.k0s(),e.nrm(23,"textarea",101),e.k0s()(),e.j41(24,"div",92)(25,"button",93),e.EFF(26,"Sauvegarder "),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(25),e.Y8G("disabled",t.invalid||n.loading)}}function Ss(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",86)(1,"label",87),e.EFF(2,"Charger le r\xe9c\xe9piss\xe9 d\xe9livr\xe9e et sign\xe9"),e.k0s(),e.j41(3,"input",91),e.bIt("change",function(s){e.eBV(t);const o=e.XpG(2);return e.Njj(o.upload2(s))}),e.k0s()()}}function xs(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",79,97),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.finishStore2(s.value))}),e.j41(2,"div",81)(3,"h6",82),e.EFF(4,"D\xe9p\xf4t physique"),e.k0s(),e.j41(5,"button",83),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(6,"i",84),e.k0s()(),e.j41(7,"div",85)(8,"div",86)(9,"label",87),e.EFF(10,"Nom d\xe9posant"),e.k0s(),e.j41(11,"input",102),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.data.name_depositor=s)}),e.k0s()(),e.j41(12,"div",86)(13,"label",87),e.EFF(14,"Contact d\xe9posant"),e.k0s(),e.j41(15,"input",103),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.data.phone_depositor=s)}),e.k0s()(),e.j41(16,"div",86)(17,"label",87),e.EFF(18,"Date de d\xe9p\xf4t"),e.k0s(),e.j41(19,"input",104),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.data.date_depositor=s)}),e.k0s()(),e.j41(20,"div",86)(21,"label",87),e.EFF(22,"Observation"),e.k0s(),e.j41(23,"textarea",105),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.data.observation_depositor=s)}),e.k0s()(),e.j41(24,"div",106)(25,"label",87),e.EFF(26,"Je dispose d\xe9j\xe0 du r\xe9c\xe9piss\xe9 sign\xe9"),e.k0s()(),e.DNE(27,Ss,4,0,"div",107),e.k0s(),e.j41(28,"div",92)(29,"button",93),e.EFF(30,"Sauvegarder "),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(11),e.Y8G("ngModel",n.data.name_depositor),e.R7$(4),e.Y8G("ngModel",n.data.phone_depositor),e.R7$(4),e.Y8G("ngModel",n.data.date_depositor),e.R7$(4),e.Y8G("ngModel",n.data.observation_depositor),e.R7$(4),e.Y8G("ngIf",n.is_signed),e.R7$(2),e.Y8G("disabled",t.invalid||n.loading)}}function ys(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",79,80),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.storePending(s.value))}),e.j41(2,"div",81)(3,"h6",82),e.EFF(4,"Motif de mise en attente"),e.k0s(),e.j41(5,"button",83),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(6,"i",84),e.k0s()(),e.j41(7,"div",85)(8,"div",108)(9,"label",87),e.EFF(10,"Motif"),e.k0s(),e.nrm(11,"textarea",94),e.k0s()(),e.j41(12,"div",92)(13,"button",93),e.EFF(14,"Sauvegarder "),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("disabled",t.invalid||n.loading)}}function Rs(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",79,109),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.inviteStore(s.value))}),e.j41(2,"div",81)(3,"h6",82),e.EFF(4,"Invitation au d\xe9p\xf4t physique"),e.k0s(),e.j41(5,"button",83),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(6,"i",84),e.k0s()(),e.j41(7,"div",85)(8,"div",108)(9,"label",87),e.EFF(10,"Date de passage"),e.k0s(),e.nrm(11,"input",110),e.k0s()(),e.j41(12,"div",92)(13,"button",93),e.EFF(14,"Envoyer le mail "),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("disabled",t.invalid||n.loading)}}function Is(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",79,80),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.transDown(s.value))}),e.j41(2,"div",81)(3,"h6",82),e.EFF(4,"Retourner le dossier"),e.k0s(),e.j41(5,"button",83),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(6,"i",84),e.k0s()(),e.j41(7,"div",85)(8,"div",108)(9,"label",87),e.EFF(10,"Correction \xe0 apporter"),e.k0s(),e.nrm(11,"textarea",111),e.k0s()(),e.j41(12,"div",92)(13,"button",93),e.EFF(14,"Sauvegarder "),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("disabled",t.invalid||n.loading)}}function Ts(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",79,112),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.setFileTreatment(s.value))}),e.j41(2,"div",81)(3,"h6",82),e.EFF(4,"Enregistrer l'analyse du fichier"),e.k0s(),e.j41(5,"button",83),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(6,"i",84),e.k0s()(),e.j41(7,"div",85)(8,"div",108)(9,"label",87),e.EFF(10,"Observation"),e.k0s(),e.nrm(11,"textarea",94),e.k0s(),e.j41(12,"div",52)(13,"span"),e.EFF(14,"Document valide"),e.k0s()()(),e.j41(15,"div",92)(16,"button",93),e.EFF(17,"Sauvegarder "),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(16),e.Y8G("disabled",t.invalid||n.loading)}}function Gs(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",79,112),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.setFileTreatment(s.value))}),e.j41(2,"div",81)(3,"h6",82),e.EFF(4,"Enregistrer l'analyse du fichier"),e.k0s(),e.j41(5,"button",83),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(6,"i",84),e.k0s()(),e.j41(7,"div",85)(8,"div",108)(9,"label",87),e.EFF(10,"Observation"),e.k0s(),e.j41(11,"textarea",113),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.fileSelected.observation=s)}),e.k0s()(),e.j41(12,"div",52)(13,"span"),e.EFF(14,"Document valide"),e.k0s()()(),e.j41(15,"div",92)(16,"button",93),e.EFF(17,"Sauvegarder "),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(11),e.Y8G("ngModel",n.fileSelected.observation),e.R7$(5),e.Y8G("disabled",t.invalid||n.loading)}}let $s=(()=>{class i{constructor(t,n,s,o,l,p,g,j,C,$){this.reqService=t,this.toastrService=n,this.lsService=o,this.router=l,this.activatedRoute=p,this._sanitizationService=g,this.responseService=j,this.spinner=C,this.modalService=$,this.showPreview=!1,this.is_signed=!1,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,this.code=this.activatedRoute.snapshot.paramMap.get("code"),console.log(this.user),this.init()}init(){this.spinner.show(),this.reqService.get(this.code).subscribe(t=>{this.spinner.hide(),this.data=t,4==this.data.status&&!this.data.has_cps_file&&(this.data.social_investigator_name=this.user.cps?.name_chief,console.log(this.data.social_investigator_name))},t=>{this.spinner.hide()})}getJson(t){return null==t?[]:JSON.parse(t)}getZoneFile(t){let n=m.w.toFile("docs/"+this.data.code+"/"+t);return console.log(n),n}showFile(t,n){this.fileSelected=n;let s=m.w.toFile("docs/"+this.data.code+"/"+t);this.url=this._sanitizationService.bypassSecurityTrustResourceUrl(s),this.showPreview=!0,console.log(this.fileSelected,this.data.status)}showFile2(t){let n=m.w.toFile("docs/"+this.data.code+"/"+t);this.url=this._sanitizationService.bypassSecurityTrustResourceUrl(n),this.showPreview=!0,console.log(this.fileSelected,this.data.status)}showFileCpsFile(){let t=this.data.files2.find(s=>"Enqu\xeate sociale"==s.reference)?.filename,n=m.w.toFile("docs/"+this.data.code+"/"+t);this.url=this._sanitizationService.bypassSecurityTrustResourceUrl(n),this.showPreview=!0}showFileRecepisseFile(){let t="";t=this.data.has_deposit_file?this.data.files2.find(s=>"R\xe9c\xe9piss\xe9 du d\xe9p\xf4t de physique"==s.reference)?.filename:this.data.receipt_preview;let n=m.w.toFile("docs/"+this.data.code+"/"+t);this.url=this._sanitizationService.bypassSecurityTrustResourceUrl(n),this.showPreview=!0}back(){this.showPreview=!1}add(t){this.modalService.open(t,{size:"lg"})}upload(t){t.target.files.length>0&&(this.fileInput=t.target.files[0])}upload2(t){t.target.files.length>0&&(this.fileInput2=t.target.files[0])}finishStore1(t){let n=new FormData;if(null!=this.fileInput||this.data.has_cps_file){null!=this.fileInput&&n.append("file",this.fileInput),n.append("code",this.data.code);for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.append(s,t[s]);this.loading=!0,this.reqService.finishStore1(n).subscribe(s=>{c.W.simpleAlert("success","Enqu\xeate sociale",s?.message),this.data=s,this.modalService.dismissAll(),this.init(),this.loading=!1},s=>{this.loading=!1,c.W.simpleAlert("error","Enqu\xeate sociale",s.error.message)})}else c.W.simpleAlert("warning","Enqu\xeate sociale","Veuillez charger le fichier de l'enqu\xeate")}finishStore2(t){let n=new FormData;if(null==this.fileInput2&&this.is_signed)c.W.simpleAlert("warning","D\xe9p\xf4t physqiue","Veuillez charger le r\xe9cipiss\xe9 sign\xe9");else{null!=this.fileInput2&&n.append("file",this.fileInput2),n.append("code",this.data.code);for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.append(s,t[s]);this.loading=!0,this.reqService.finishStore2(n).subscribe(s=>{c.W.simpleAlert("success","D\xe9p\xf4t physqiue",s?.message),(null!=s.data||null!=s.data)&&this.showFile(s.data.file),this.data=s,this.modalService.dismissAll(),this.init(),this.loading=!1},s=>{c.W.simpleAlert("error","D\xe9p\xf4t physique",s.error.message),this.loading=!1})}}inviteStore(t){let n=(0,u.Yq)(new Date,"yyyy-MM-dd","en_US"),s=(0,u.Yq)(t.date_meeting,"yyyy-MM-dd","en_US"),o=new Date(t.date_meeting).getDay();s<n?this.toastrService.error("La date fin ne peut \xeatre ant\xe9rieur \xe0 la date du jour "):6!==o&&0!==o?(t.id=this.data.id,this.loading=!0,this.toastrService.info("Envoi du mail en cours","Invitation"),this.reqService.inviteStore(t).subscribe(l=>{this.data=l,this.modalService.dismissAll(),c.W.simpleAlert("success","Invitation","Mail envoy\xe9"),this.router.navigate(["/admin/requetes/new/cape"]),this.loading=!1},l=>{this.loading=!1,this.modalService.dismissAll(),c.W.simpleAlert("error","Invitation",l.error.message)})):this.toastrService.error("Veuillez choisir une date de jour ouvr\xe9 ")}transUp(t){this.loading=!0,this.reqService.transUp({code:this.data.code,observation:t.observation}).subscribe(n=>{c.W.simpleAlert("success",6==this.data.status?"Validation de dossier":"Transmission",n?.message),this.data=n,this.router.navigate(["/admin/requetes/new/cape"]),this.loading=!1,this.modalService.dismissAll()},n=>{c.W.simpleAlert("error","Transmission",n.error.message)})}transDown(t){this.loading=!0,this.reqService.transDown({code:this.data.code,motif:t.motif}).subscribe(n=>{c.W.simpleAlert("success","Transmission",n?.message),this.loading=!1,this.data=n,this.modalService.dismissAll(),this.router.navigate(["/admin/requetes/new/cape"])},n=>{c.W.simpleAlert("error","Transmission",n.error.message),this.loading=!1})}storePending(t){t.id=this.data.id,t.hasPermission=0,this.loading=!0,this.responseService.needCorrection(t).subscribe(n=>{c.W.simpleAlert("success","Mise en attente",n?.message),this.router.navigate(["/admin/requetes/new/cape"]),this.modalService.dismissAll(),this.init(),this.loading=!1},n=>{this.loading=!1,c.W.simpleAlert("error","Mise en attente",n.error.message)})}setFileTreatment(t){this.loading=!0,t.id=this.fileSelected.id,t.is_valid=""!=t.is_valid,this.reqService.setFileTreatment(t).subscribe(n=>{c.W.simpleAlert("success","Traitement de fichier",n?.message),this.loading=!1,this.fileSelected=null,this.modalService.dismissAll(),this.back(),this.init()},n=>{c.W.simpleAlert("error","Traitement de fichier",n.error.message),this.loading=!1})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(x.t),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(h.Ix),e.rXU(h.nX),e.rXU(R.up),e.rXU(B),e.rXU(X),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-espace-eservice-show"]],decls:33,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[4,"ngIf"],["class","container",4,"ngIf"],["finishContent1",""],["resp",""],["finishContent1M",""],["finishContent2",""],["finishContent2M",""],["pendingContent",""],["inviteContent",""],["backContent",""],["fileTreatmentContent",""],["fileTreatmentEditContent",""],["class","d-flex justify-content-end",4,"ngIf"],[1,"d-flex","justify-content-end"],[1,"mb-3","d-flex","justify-content-end"],["routerLink","/admin/requetes/new",1,"btn","btn","btn-sm","btn-dark","float-start"],["class","btn btn-sm btn-secondary mx-1 ",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-success",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-primary mx-1",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-outline-primary mx-1",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-outline-warning mx-1",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-outline-success mx-1",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","btn-secondary","mx-1",3,"disabled","click"],[3,"isVisible"],[1,"btn","btn-sm","btn-success",3,"disabled","click"],[1,"btn","btn-sm","btn-primary","mx-1",3,"disabled","click"],[1,"btn","btn-sm","btn-outline-primary","mx-1",3,"disabled","click"],[1,"btn","btn-sm","btn-outline-warning","mx-1",3,"disabled","click"],[1,"btn","btn-sm","btn-outline-success","mx-1",3,"disabled","click"],[1,"container"],["class","mb-3",4,"ngIf"],[1,"mb-3"],[1,"fa","fa-chevron-right","fw-bold","me-3"],[1,"bg-secondary","text-white"],[1,"row"],[1,"col-6"],["class","col-6",4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered"],[2,"width","5%"],[1,"fa","fa-check"],["colspan","5"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between"],[1,""],["class","btn btn-sm btn-warning float-right",3,"click",4,"ngIf"],["class","",4,"ngIf"],[1,"div","mb-5"],[1,"list-unstyled"],[1,"btn","btn-sm","btn-dark","align-self-center",3,"click"],["target","_blank",3,"href"],["alt","Image de la zone",2,"height","100px","cursor","pointer",3,"src"],[1,"form-check"],["type","checkbox","disabled","",1,"form-check-input","bg-success",3,"checked"],["class","p-2 bg-success rounded text-white",4,"ngIf"],["class","p-2 bg-danger rounded text-white",4,"ngIf"],[1,"d-flex","justify-content-center","h-100"],[1,"p-2","bg-success","rounded","text-white"],[1,"p-2","bg-danger","rounded","text-white"],[1,"btn","btn-sm","btn-dark",3,"click"],[1,"btn","btn-sm","btn-warning","float-right",3,"click"],[1,"text-center"],[1,"fa","fa-arrow-right","text-warning","me-3"],[1,"d-flex","justify-content-around"],[1,"btn","btn-dark","mb-3","btn-sm",3,"click"],["class","btn btn-primary mb-3 btn-sm",3,"click",4,"ngIf"],["class","btn btn-warning mb-3 btn-sm",3,"click",4,"ngIf"],["type","application/pdf","width","100%","height","600px",3,"data"],[1,"btn","btn-primary","mb-3","btn-sm",3,"click"],[1,"btn","btn-warning","mb-3","btn-sm",3,"click"],[3,"ngSubmit"],["addSusp","ngForm"],[1,"modal-header","cape-bg-blue"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group","mb-3"],["for",""],["type","text","name","social_investigator_name",1,"form-control",3,"ngModel","ngModelChange"],["type","datetime-local","name","social_investigator_date","ngModel","",1,"form-control"],["name","social_investigator_observation","ngModel","",1,"form-control"],["type","file",1,"form-control",3,"change"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],["name","observation","ngModel","",1,"form-control"],["type","datetime-local","name","social_investigator_date",1,"form-control",3,"ngModel","ngModelChange"],["name","social_investigator_observation",1,"form-control",3,"ngModel","ngModelChange"],["addDep","ngForm"],["type","text","name","name_depositor","ngModel","",1,"form-control"],["type","text","name","phone_depositor","ngModel","",1,"form-control"],["type","date","name","date_depositor","ngModel","",1,"form-control"],["name","observation_depositor","ngModel","",1,"form-control"],["type","text","name","name_depositor",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","phone_depositor",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","date_depositor",1,"form-control",3,"ngModel","ngModelChange"],["name","observation_depositor",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","mb-3","d-flex","justify-content-between"],["class","form-group mb-3",4,"ngIf"],[1,"form-group","mb-3","mb-5"],["addInvite","ngForm"],["type","date","name","date_meeting","required","","ngModel","",1,"form-control"],["name","motif","ngModel","",1,"form-control"],["fileT","ngForm"],["name","observation",1,"form-control",3,"ngModel","ngModelChange"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"D\xe9tails de la demande "),e.k0s()()()()(),e.DNE(11,gs,3,2,"ng-container",9),e.DNE(12,Fs,7,3,"ng-container",10),e.DNE(13,ks,27,2,"ng-template",null,11,e.C5r),e.DNE(15,js,15,1,"ng-template",null,12,e.C5r),e.DNE(17,Es,27,4,"ng-template",null,13,e.C5r),e.DNE(19,Cs,27,1,"ng-template",null,14,e.C5r),e.DNE(21,xs,31,6,"ng-template",null,15,e.C5r),e.DNE(23,ys,15,1,"ng-template",null,16,e.C5r),e.DNE(25,Rs,15,1,"ng-template",null,17,e.C5r),e.DNE(27,Is,15,1,"ng-template",null,18,e.C5r),e.DNE(29,Ts,18,1,"ng-template",null,19,e.C5r),e.DNE(31,Gs,18,2,"ng-template",null,20,e.C5r)),2&n&&(e.R7$(11),e.Y8G("ngIf",!s.showPreview),e.R7$(1),e.Y8G("ngIf",s.showPreview))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV,u.vh],styles:["table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;overflow:hidden}"]})}}return i})();function Ns(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.goToShow())}),e.EFF(1,"Consulter"),e.k0s()}}function ws(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.delete())}),e.EFF(1,"Retirer l'enregistrement"),e.k0s()}}function Vs(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(24);return e.Njj(s.add(o))}),e.EFF(1,"Voir Parcours"),e.k0s()}}function As(i,r){1&i&&(e.j41(0,"th"),e.EFF(1,"Cps"),e.k0s())}function Ds(i,r){1&i&&(e.j41(0,"th"),e.EFF(1,"Statut"),e.k0s())}function Xs(i,r){1&i&&(e.j41(0,"th"),e.EFF(1,"Derni\xe8re \xe9tape"),e.k0s())}function Ms(i,r){if(1&i&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(1),e.JRh(null==t.district||null==t.district.cps?null:t.district.cps.name)}}function Ys(i,r){if(1&i&&(e.j41(0,"td")(1,"span"),e.EFF(2),e.k0s()()),2&i){const t=e.XpG().$implicit,n=e.XpG(2);e.R7$(1),e.ZvI("p-1 rounded bg-",n.getColor(t.status)," text-white"),e.R7$(1),e.SpI("",n.getText(t.status)," ")}}function Bs(i,r){if(1&i&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(1),e.SpI(" ",null==t.last_parcours?null:t.last_parcours.libelle," ")}}function qs(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t)}}function Us(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr"),e.nrm(1,"td"),e.j41(2,"td")(3,"div",26)(4,"input",27),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.DNE(8,Ms,2,1,"td",16),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.DNE(13,Ys,3,4,"td",16),e.DNE(14,Bs,2,1,"td",16),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td")(18,"ul"),e.DNE(19,qs,2,1,"li",25),e.k0s()(),e.j41(20,"td"),e.EFF(21),e.k0s(),e.j41(22,"td"),e.EFF(23),e.k0s(),e.j41(24,"td"),e.EFF(25),e.k0s()()}if(2&i){const t=r.$implicit,n=e.XpG(2);let s;e.R7$(6),e.JRh(e.i5U(7,12,t.created_at,"shortDate")),e.R7$(2),e.Y8G("ngIf","cps"!=n.role),e.R7$(2),e.JRh(null!==(s=null==t.type_cape?null:t.type_cape.name)&&void 0!==s?s:null==t.type_garderie?null:t.type_garderie.name),e.R7$(2),e.JRh(t.name),e.R7$(1),e.Y8G("ngIf",null!=n.state),e.R7$(1),e.Y8G("ngIf",null==n.state),e.R7$(2),e.Lme("",t.name_pomoter," ",t.firstname_pomoter,""),e.R7$(3),e.Y8G("ngForOf",n.getJson(t.target)),e.R7$(2),e.JRh(t.address),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.phone)}}function Ps(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",20)(2,"table",21)(3,"thead",22)(4,"tr")(5,"th",23),e.EFF(6," # "),e.k0s(),e.j41(7,"th",23),e.nrm(8,"i",24),e.k0s(),e.j41(9,"th"),e.EFF(10,"Date d'inscription"),e.k0s(),e.DNE(11,As,2,0,"th",16),e.j41(12,"th"),e.EFF(13,"Type Centre"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Libell\xe9 Centre"),e.k0s(),e.DNE(16,Ds,2,0,"th",16),e.DNE(17,Xs,2,0,"th",16),e.j41(18,"th"),e.EFF(19,"Nom promoteur"),e.k0s(),e.j41(20,"th"),e.EFF(21,"Cible"),e.k0s(),e.j41(22,"th"),e.EFF(23,"Adresse"),e.k0s(),e.j41(24,"th"),e.EFF(25,"email"),e.k0s(),e.j41(26,"th"),e.EFF(27,"phone"),e.k0s()()(),e.j41(28,"tbody"),e.DNE(29,Us,26,15,"tr",25),e.k0s()()(),e.bVm()),2&i){const t=e.XpG();e.R7$(11),e.Y8G("ngIf","cps"!=t.role),e.R7$(5),e.Y8G("ngIf",null!=t.state),e.R7$(1),e.Y8G("ngIf",null==t.state),e.R7$(12),e.Y8G("ngForOf",t.data)}}function Os(i,r){1&i&&(e.j41(0,"th"),e.EFF(1,"Cps"),e.k0s())}function zs(i,r){1&i&&(e.j41(0,"th"),e.EFF(1,"Statut"),e.k0s())}function Ls(i,r){1&i&&(e.j41(0,"th"),e.EFF(1,"Derni\xe8re \xe9tape"),e.k0s())}function Js(i,r){if(1&i&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(1),e.JRh(null==t.district||null==t.district.cps?null:t.district.cps.name)}}function Ws(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(null==t.type_garderie?null:t.type_garderie.name)}}function Hs(i,r){if(1&i&&(e.j41(0,"td")(1,"span"),e.EFF(2),e.k0s()()),2&i){const t=e.XpG().$implicit,n=e.XpG(2);e.R7$(1),e.ZvI("p-1 rounded bg-",n.getColor(t.status)," text-white"),e.R7$(1),e.SpI("",n.getText(t.status)," ")}}function Qs(i,r){if(1&i&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(1),e.SpI(" ",null==t.last_parcours?null:t.last_parcours.libelle," ")}}function Ks(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr"),e.nrm(1,"td"),e.j41(2,"td")(3,"div",26)(4,"input",27),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.DNE(8,Js,2,1,"td",16),e.j41(9,"td")(10,"ul"),e.DNE(11,Ws,2,1,"li",25),e.k0s()(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.DNE(14,Hs,3,4,"td",16),e.DNE(15,Qs,2,1,"td",16),e.j41(16,"td"),e.EFF(17),e.k0s(),e.j41(18,"td"),e.EFF(19),e.k0s(),e.j41(20,"td"),e.EFF(21),e.k0s(),e.j41(22,"td"),e.EFF(23),e.k0s()()}if(2&i){const t=r.$implicit,n=e.XpG(2);e.R7$(6),e.JRh(e.i5U(7,11,t.created_at,"shortDate")),e.R7$(2),e.Y8G("ngIf","cps"!=n.role),e.R7$(3),e.Y8G("ngForOf",t.requete_type_garderies),e.R7$(2),e.JRh(t.name),e.R7$(1),e.Y8G("ngIf",null!=n.state),e.R7$(1),e.Y8G("ngIf",null==n.state),e.R7$(2),e.Lme("",t.name_pomoter," ",t.firstname_pomoter,""),e.R7$(2),e.JRh(t.address),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.phone)}}function Zs(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",20)(2,"table",21)(3,"thead",22)(4,"tr")(5,"th",23),e.EFF(6," # "),e.k0s(),e.j41(7,"th",23),e.nrm(8,"i",24),e.k0s(),e.j41(9,"th"),e.EFF(10,"Date d'inscription"),e.k0s(),e.DNE(11,Os,2,0,"th",16),e.j41(12,"th"),e.EFF(13,"Type Garderie"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Libell\xe9 Centre"),e.k0s(),e.DNE(16,zs,2,0,"th",16),e.DNE(17,Ls,2,0,"th",16),e.j41(18,"th"),e.EFF(19,"Nom promoteur"),e.k0s(),e.j41(20,"th"),e.EFF(21,"Adresse"),e.k0s(),e.j41(22,"th"),e.EFF(23,"email"),e.k0s(),e.j41(24,"th"),e.EFF(25,"phone"),e.k0s()()(),e.j41(26,"tbody"),e.DNE(27,Ks,24,14,"tr",25),e.k0s()()(),e.bVm()),2&i){const t=e.XpG();e.R7$(11),e.Y8G("ngIf","cps"!=t.role),e.R7$(5),e.Y8G("ngIf",null!=t.state),e.R7$(1),e.Y8G("ngIf",null==t.state),e.R7$(10),e.Y8G("ngForOf",t.data)}}function eo(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s()()),2&i){const t=r.$implicit,n=r.index;let s;e.R7$(2),e.JRh(n+1),e.R7$(2),e.JRh(t.libelle),e.R7$(2),e.JRh(e.i5U(7,5,t.created_at,"dd-MM-yyyy hh:mm:ss")),e.R7$(3),e.JRh(t.delay),e.R7$(2),e.JRh(null==t.user?"CAPE":null!==(s=null!==(s=null==t.user?null:t.user.firstname)&&void 0!==s?s:"Pr\xe9nom(s) "+(null==t.user?null:t.user.lastname))&&void 0!==s?s:"Nom")}}function to(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",28)(1,"h6",29),e.EFF(2,"Parcours demande"),e.k0s(),e.j41(3,"button",30),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(4,"i",31),e.k0s()(),e.j41(5,"div",32)(6,"table",21)(7,"thead")(8,"th"),e.EFF(9,"#"),e.k0s(),e.j41(10,"th"),e.EFF(11,"Libell\xe9"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Date et heure"),e.k0s(),e.j41(14,"th"),e.EFF(15,"S\xe9jour (jrs)"),e.k0s(),e.j41(16,"th"),e.EFF(17,"Auteur"),e.k0s()(),e.j41(18,"tbody"),e.DNE(19,eo,12,8,"tr",25),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(19),e.Y8G("ngForOf",t.parcours)}}let V=(()=>{class i{constructor(t,n,s,o,l,p,g,j,C){this.typeService=t,this.reqService=n,this.toastrService=s,this.lsService=l,this.router=p,this.spinner=g,this.activatedRoute=j,this.modalService=C,this.structures=[],this.data=[],this.parcours=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,o.backdrop="static",o.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0},this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.service_id=void 0,this.state=this.activatedRoute.snapshot.paramMap.get("state"),this.type=this.activatedRoute.snapshot.paramMap.get("service"),console.log(this.role,this.state),this.setServiceId()})}setServiceId(){this.typeService.getAll2().subscribe(t=>{t.data.forEach(n=>{n.name.toLowerCase().includes(this.type.toLowerCase())&&(this.service_id=n.id)}),console.log(this.service_id),null!=this.service_id?this.getAll():this.toastrService.info("Impossible de charger les donn\xe9es, service non reconnue","Requ\xeates")})}getAll(){null!=this.state&&null!=this.state?(this.spinner.show(),this.reqService.getByInstance(this.state,this.service_id).subscribe(t=>{this.spinner.hide(),this.data=t},t=>{this.spinner.hide()})):(this.spinner.show(),this.reqService.getAll(this.service_id).subscribe(t=>{this.spinner.hide(),this.data=t},t=>{this.spinner.hide()}))}checked(t){this.selected_data=t,this.is_active=t.is_active}getJson(t){return null==t?[]:JSON.parse(t)}getJson2(t){return null==t?[]:JSON.parse(t)}goToShow(){this.router.navigate(["/admin/requetes/show/"+this.selected_data.code+"/"+this.type])}getColor(t){return 0==t?"secondary":1==t||3==t?"warning":2==t||3==t?"danger":t>=4?"success":"light"}getText(t){switch(t){case 0:return"Nouveau dossier";case 1:return"Dossier mise en attente";case 2:return"Dossier rejet\xe9";case 3:return"Dossier corrig\xe9";case 4:return"Invitation envoy\xe9";case 5:return"Dossier transmis au DD";case 6:return"En attente d'approbation DDASM";case 7:return"En attente d'inscription \xe0 la session";default:return"non d\xe9fini"}return""}add(t){null!=this.selected_data&&(this.modalService.open(t,{size:"lg"}),this.parcours=this.selected_data.parcours)}delete(){null!=this.selected_data&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet enregistrement?").then(n=>{n.isConfirmed&&(this.toastrService.warning("Op\xe9ration en cours"),console.log(this.selected_data),this.reqService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.ngOnInit()},s=>{console.log(s),c.W.simpleAlert("error","Requ\xeate",s.error.message)}))})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(S.M),e.rXU(x.t),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(h.Ix),e.rXU(X),e.rXU(h.nX),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-espace-eservice"]],decls:25,vars:6,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"mb-3"],["class","btn btn-sm btn-primary mx-1",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger mx-1",3,"click",4,"ngIf"],[1,"card-body"],[4,"ngIf"],["parcoursContent",""],[1,"btn","btn-sm","btn-primary","mx-1",3,"click"],[1,"btn","btn-sm","btn-danger","mx-1",3,"click"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[1,"fa","fa-check"],[4,"ngFor","ngForOf"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[1,"modal-header","bg-secondary"],[1,"text-white"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des demandes d'autorisation"),e.k0s()()()()(),e.j41(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12),e.DNE(15,Ns,2,0,"button",13),e.DNE(16,ws,2,0,"button",14),e.DNE(17,Vs,2,0,"button",13),e.k0s(),e.j41(18,"div",15)(19,"p"),e.EFF(20),e.k0s(),e.DNE(21,Ps,30,4,"ng-container",16),e.DNE(22,Zs,28,4,"ng-container",16),e.k0s()()()(),e.DNE(23,to,20,1,"ng-template",null,17,e.C5r)),2&n&&(e.R7$(15),e.Y8G("ngIf",null!=s.state),e.R7$(1),e.Y8G("ngIf","dfea"==s.role),e.R7$(1),e.Y8G("ngIf",null==s.state),e.R7$(3),e.SpI("",s.data.length," \xe9l\xe9ment(s) "),e.R7$(1),e.Y8G("ngIf","cape"==s.type),e.R7$(1),e.Y8G("ngIf","garderie"==s.type))},dependencies:[u.Sq,u.bT,h.Wk,u.vh]})}}return i})();var no=F(2530);let q=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("type-files/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function io(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(46);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function so(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(44);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function oo(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function ro(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function ao(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function lo(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(42);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter une pi\xe8ce \xe0 fournir"),e.k0s(),e.DNE(3,io,3,0,"button",25),e.DNE(4,so,2,0,"button",26),e.DNE(5,oo,2,0,"button",27),e.DNE(6,ro,2,0,"button",28),e.DNE(7,ao,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function co(i,r){1&i&&(e.j41(0,"span",39),e.EFF(1," Oui"),e.k0s())}function mo(i,r){1&i&&(e.j41(0,"span",40),e.EFF(1," Non"),e.k0s())}function _o(i,r){1&i&&(e.j41(0,"span",41),e.EFF(1,"Actif"),e.k0s())}function uo(i,r){1&i&&(e.j41(0,"span",42),e.EFF(1,"Bloqu\xe9"),e.k0s())}function po(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.DNE(15,co,2,0,"span",35),e.DNE(16,mo,2,0,"span",36),e.k0s(),e.j41(17,"td"),e.DNE(18,_o,2,0,"span",37),e.DNE(19,uo,2,0,"span",38),e.k0s()()}if(2&i){const t=r.$implicit;let n;e.R7$(5),e.JRh(null==t.type?null:t.type.name),e.R7$(2),e.JRh(null==t.type_file?null:t.type_file.name),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(null!==(n=t.description)&&void 0!==n?n:"Pas de description"),e.R7$(2),e.JRh(t.max_note),e.R7$(2),e.Y8G("ngIf",t.is_required),e.R7$(1),e.Y8G("ngIf",!t.is_required),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function ho(i,r){if(1&i&&(e.j41(0,"option",63),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function bo(i,r){if(1&i&&(e.j41(0,"option",63),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function go(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",43,44),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",45)(3,"h6",46),e.EFF(4,"Enregistrer un document"),e.k0s(),e.j41(5,"button",47),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",48)(7,"div",49)(8,"div",50)(9,"label",51),e.EFF(10,"Type de service "),e.j41(11,"span",52),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",53),e.DNE(14,ho,2,2,"option",54),e.k0s()(),e.j41(15,"div",50)(16,"label",51),e.EFF(17,"Type de document "),e.j41(18,"span",52),e.EFF(19,"(*)"),e.k0s()(),e.j41(20,"select",55),e.DNE(21,bo,2,2,"option",54),e.k0s()(),e.j41(22,"div",50)(23,"label",51),e.EFF(24,"Libell\xe9 "),e.j41(25,"span",52),e.EFF(26,"(*)"),e.k0s()(),e.nrm(27,"input",56),e.k0s(),e.j41(28,"div",50)(29,"label",51),e.EFF(30,"Description "),e.j41(31,"span",52),e.EFF(32,"(*)"),e.k0s()(),e.nrm(33,"input",57),e.k0s(),e.j41(34,"div",50)(35,"label",51),e.EFF(36,"Note maximun "),e.j41(37,"span",52),e.EFF(38,"(*)"),e.k0s()(),e.nrm(39,"input",58),e.k0s(),e.j41(40,"div",59)(41,"span"),e.EFF(42,"Document obligatoire ?"),e.k0s()()()(),e.j41(43,"div",60)(44,"button",61),e.EFF(45,"Enregistrer "),e.nrm(46,"app-loading",62),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(14),e.Y8G("ngForOf",n.types),e.R7$(7),e.Y8G("ngForOf",n.tfs),e.R7$(23),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function fo(i,r){if(1&i&&(e.j41(0,"option",63),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function vo(i,r){if(1&i&&(e.j41(0,"option",63),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Fo(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",43,64),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",65)(3,"h6",46),e.EFF(4,"Modifier un d\xe9partement"),e.k0s(),e.j41(5,"button",47),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",48)(7,"div",49)(8,"div",50)(9,"label",51),e.EFF(10,"Type de service "),e.j41(11,"span",52),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",66),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.service_id=s)}),e.DNE(14,fo,2,2,"option",54),e.k0s()(),e.j41(15,"div",50)(16,"label",51),e.EFF(17,"Type de document "),e.j41(18,"span",52),e.EFF(19,"(*)"),e.k0s()(),e.j41(20,"select",67),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.type_document_id=s)}),e.DNE(21,vo,2,2,"option",54),e.k0s()(),e.j41(22,"div",50)(23,"label",51),e.EFF(24,"Libell\xe9 "),e.j41(25,"span",52),e.EFF(26,"(*)"),e.k0s()(),e.j41(27,"input",68),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()(),e.j41(28,"div",50)(29,"label",51),e.EFF(30,"Description "),e.k0s(),e.j41(31,"input",69),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.description=s)}),e.k0s()(),e.j41(32,"div",50)(33,"label",51),e.EFF(34,"Note maximum "),e.k0s(),e.j41(35,"input",70),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.max_note=s)}),e.k0s()(),e.j41(36,"div",59)(37,"span"),e.EFF(38,"Document obligatoire ?"),e.k0s()()()(),e.j41(39,"div",60)(40,"button",61),e.EFF(41,"Sauvegarder "),e.nrm(42,"app-loading",62),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.service_id),e.R7$(1),e.Y8G("ngForOf",n.types),e.R7$(6),e.Y8G("ngModel",n.selected_data.type_document_id),e.R7$(1),e.Y8G("ngForOf",n.tfs),e.R7$(6),e.Y8G("ngModel",n.selected_data.name),e.R7$(4),e.Y8G("ngModel",n.selected_data.description),e.R7$(4),e.Y8G("ngModel",n.selected_data.max_note),e.R7$(5),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function ko(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",65)(1,"h4",46),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",47),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",48)(5,"div",71)(6,"table",72)(7,"tbody")(8,"tr")(9,"td",73),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",73),e.EFF(15,"Note maximum attendu"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," "),e.R7$(5),e.SpI("",t.selected_data.max_note," ")}}let jo=(()=>{class i{constructor(t,n,s,o,l,p,g){this.fileService=t,this.tfService=n,this.typeService=s,this.toastrService=o,this.lsService=p,this.modalService=g,this.structures=[],this.data=[],this.tfs=[],this.types=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,l.backdrop="static",l.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll(),this.getTypeFiles(),this.getTypes()}getAll(){this.fileService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}getTypeFiles(){this.tfService.getAll().subscribe(t=>{this.tfs=t.data},t=>{})}getTypes(){this.typeService.getAll().subscribe(t=>{this.types=t.data},t=>{})}store(t){this.loading=!0,this.fileService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Pi\xe8ce \xe0 fournir",n.error.message)})}update(t){this.loading=!0,this.fileService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Pi\xe8ce \xe0 fournir",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.fileService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Pi\xe8ce \xe0 fournir",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.fileService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Document \xe0 joindre",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(no.E),e.rXU(q),e.rXU(S.M),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-file"]],decls:47,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","bg-success p-1 text-white rounded",4,"ngIf"],["class","bg-secondary p-1 rounded",4,"ngIf"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"bg-success","p-1","text-white","rounded"],[1,"bg-secondary","p-1","rounded"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["name","service_id","ngModel","","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["name","type_document_id","ngModel","","required","",1,"form-control"],["type","text","name","name","ngModel","","required","",1,"form-control"],["type","text","name","description","ngModel","",1,"form-control"],["type","number","name","max_note","min","1","ngModel","",1,"form-control"],[1,"d-flex","justify-content-between"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["editForm","ngForm"],[1,"modal-header"],["name","service_id","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","type_document_id","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","max_note",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des pi\xe8ces \xe0 fournir"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,lo,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Service"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Type document"),e.k0s(),e.j41(29,"th"),e.EFF(30,"Libell\xe9"),e.k0s(),e.j41(31,"th"),e.EFF(32,"Description"),e.k0s(),e.j41(33,"th"),e.EFF(34,"Note maximum"),e.k0s(),e.j41(35,"th"),e.EFF(36,"Document obligatoire"),e.k0s(),e.j41(37,"th"),e.EFF(38,"Statut"),e.k0s()()(),e.j41(39,"tbody"),e.DNE(40,po,20,9,"tr",19),e.k0s()()()()()()(),e.DNE(41,go,47,4,"ng-template",null,20,e.C5r),e.DNE(43,Fo,43,9,"ng-template",null,21,e.C5r),e.DNE(45,ko,18,2,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(22),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.Q0,a.wz,a.BC,a.cb,a.YS,a.VZ,a.vS,a.cV]})}}return i})();function Eo(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t.itemName)}}function Co(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",26),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(4);return e.Njj(l.showFile(o.filename))}),e.EFF(7,"Voir document"),e.k0s()()()}if(2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.JRh(n+1),e.R7$(2),e.JRh(t.file.name)}}function So(i,r){if(1&i&&(e.j41(0,"div",19)(1,"h4"),e.nrm(2,"i",20),e.j41(3,"u"),e.EFF(4,"Informations native de la demande"),e.k0s()()(),e.j41(5,"div",21)(6,"div",22)(7,"dl")(8,"dt"),e.EFF(9,"Type Cape"),e.k0s(),e.j41(10,"dd"),e.EFF(11),e.k0s()()(),e.j41(12,"div",22)(13,"dl")(14,"dt"),e.EFF(15,"Nom du centre"),e.k0s(),e.j41(16,"dd"),e.EFF(17),e.k0s()()(),e.j41(18,"div",22)(19,"dl")(20,"dt"),e.EFF(21,"Nom du promoteur"),e.k0s(),e.j41(22,"dd"),e.EFF(23),e.k0s()()(),e.j41(24,"div",22)(25,"dl")(26,"dt"),e.EFF(27,"Nom du directeur"),e.k0s(),e.j41(28,"dd"),e.EFF(29),e.k0s()()(),e.j41(30,"div",22)(31,"dl")(32,"dt"),e.EFF(33,"Contact du directeur"),e.k0s(),e.j41(34,"dd"),e.EFF(35),e.k0s()()(),e.j41(36,"div",22)(37,"dl")(38,"dt"),e.EFF(39,"Cible"),e.k0s(),e.j41(40,"dd")(41,"ul"),e.DNE(42,Eo,2,1,"li",23),e.k0s()()()(),e.j41(43,"div",22)(44,"dl")(45,"dt"),e.EFF(46,"Email"),e.k0s(),e.j41(47,"dd"),e.EFF(48),e.k0s()()(),e.j41(49,"div",22)(50,"dl")(51,"dt"),e.EFF(52,"Contact"),e.k0s(),e.j41(53,"dd"),e.EFF(54),e.k0s()()(),e.j41(55,"div",22)(56,"dl")(57,"dt"),e.EFF(58,"Adresse"),e.k0s(),e.j41(59,"dd"),e.EFF(60),e.k0s()()()(),e.j41(61,"div",19)(62,"h4"),e.nrm(63,"i",20),e.j41(64,"u"),e.EFF(65,"Documents joints \xe0 la soumission"),e.k0s()()(),e.j41(66,"div",24)(67,"table",25)(68,"thead")(69,"th"),e.EFF(70,"#"),e.k0s(),e.j41(71,"th"),e.EFF(72,"R\xe9f\xe9rence"),e.k0s(),e.j41(73,"th"),e.EFF(74,"Action"),e.k0s()(),e.j41(75,"tbody"),e.DNE(76,Co,8,2,"tr",23),e.k0s()()()),2&i){const t=e.XpG(3);e.R7$(11),e.JRh(null==t.data.requete||null==t.data.requete.type_cape?null:t.data.requete.type_cape.name),e.R7$(6),e.JRh(null==t.data.requete?null:t.data.requete.name),e.R7$(6),e.JRh(null==t.data.requete?null:t.data.requete.name_pomoter),e.R7$(6),e.JRh(null==t.data.requete?null:t.data.requete.name_chief),e.R7$(6),e.JRh(null==t.data.requete?null:t.data.requete.phone_chief),e.R7$(7),e.Y8G("ngForOf",t.getJson(null==t.data.requete?null:t.data.requete.target)),e.R7$(6),e.JRh(null==t.data.requete?null:t.data.requete.email),e.R7$(6),e.JRh(null==t.data.requete?null:t.data.requete.phone),e.R7$(6),e.JRh(null==t.data.requete?null:t.data.requete.address),e.R7$(16),e.Y8G("ngForOf",null==t.data.requete?null:t.data.requete.files)}}function xo(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.SpI(" ",n+1," "),e.R7$(2),e.Lme("",t.firstname," ",t.lastname,""),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.phone),e.R7$(2),e.JRh(t.job)}}function yo(i,r){if(1&i&&(e.j41(0,"div",24)(1,"table",27)(2,"thead",12)(3,"tr")(4,"th",28),e.EFF(5,"#"),e.k0s(),e.j41(6,"th"),e.EFF(7,"Identit\xe9"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Email"),e.k0s(),e.j41(10,"th"),e.EFF(11,"Contact"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Profession"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,xo,11,6,"tr",23),e.k0s()()()),2&i){const t=e.XpG(3);e.R7$(15),e.Y8G("ngForOf",t.data.staffs)}}function Ro(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s()()),2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.SpI(" ",n+1," "),e.R7$(2),e.Lme("",t.firstname," ",t.lastname,""),e.R7$(2),e.JRh(e.i5U(7,7,t.birthdate,"shortDate")),e.R7$(3),e.JRh(t.birthplace),e.R7$(2),e.Lme("",t.size," / ",t.weight,"")}}function Io(i,r){if(1&i&&(e.j41(0,"div",24)(1,"table",27)(2,"thead",12)(3,"tr")(4,"th",28),e.EFF(5,"#"),e.k0s(),e.j41(6,"th"),e.EFF(7,"Identit\xe9"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Date de naissance"),e.k0s(),e.j41(10,"th"),e.EFF(11,"Lien de naissance"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Taille / poids"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,Ro,12,10,"tr",23),e.k0s()()()),2&i){const t=e.XpG(3);e.R7$(15),e.Y8G("ngForOf",t.data.residents)}}function To(i,r){if(1&i&&(e.j41(0,"div",12)(1,"ul",13,14)(3,"li",15)(4,"a",16),e.EFF(5,"Information sur le Cape"),e.k0s(),e.DNE(6,So,77,10,"ng-template",17),e.k0s(),e.j41(7,"li",15)(8,"a",16),e.EFF(9,"Personnel"),e.k0s(),e.DNE(10,yo,16,1,"ng-template",17),e.k0s(),e.j41(11,"li",15)(12,"a",16),e.EFF(13,"Pensionnaires"),e.k0s(),e.DNE(14,Io,16,1,"ng-template",17),e.k0s()(),e.nrm(15,"div",18),e.k0s()),2&i){const t=e.sdS(2);e.R7$(15),e.Y8G("ngbNavOutlet",t)}}function Go(i,r){if(1&i&&(e.qex(0),e.DNE(1,To,16,1,"div",11),e.bVm()),2&i){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",null!=t.data)}}function $o(i,r){if(1&i){const t=e.RV6();e.qex(0,29),e.j41(1,"div",30)(2,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.back())}),e.EFF(3,"Fermer le visualiseur"),e.k0s()(),e.nrm(4,"object",32),e.bVm()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("data",t.url,e.f$h)}}let No=(()=>{class i{constructor(t,n,s,o){this.capeService=t,this.route=n,this._sanitizationService=s,this.lsService=o,this.showPreview=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,this.id=this.route.snapshot.paramMap.get("id"),this.getData()}getData(){this.capeService.get(this.id).subscribe(t=>{this.data=t.data},t=>{})}getJson(t){return null==t?[]:JSON.parse(t)}showFile(t){let n=m.w.toFile("docs/"+this.data.requete.code+"/"+t);this.url=this._sanitizationService.bypassSecurityTrustResourceUrl(n),this.showPreview=!0}back(){this.showPreview=!1}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(N),e.rXU(h.nX),e.rXU(R.up),e.rXU(b.s))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-follow-cape-show"]],decls:13,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[4,"ngIf"],["class","container",4,"ngIf"],["class","",4,"ngIf"],[1,""],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"mb-3"],[1,"fa","fa-chevron-right","fw-bold","me-3"],[1,"row"],[1,"col-6"],[4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"btn-sm","btn-dark",3,"click"],[1,"table"],[2,"width","10px"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-dark","mb-3","btn-sm",3,"click"],["type","application/pdf","width","100%","height","1000px",3,"data"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"Suivi CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"D\xe9tails du centre"),e.k0s()()()()(),e.DNE(11,Go,2,1,"ng-container",9),e.DNE(12,$o,5,1,"ng-container",10)),2&n&&(e.R7$(11),e.Y8G("ngIf",!s.showPreview),e.R7$(1),e.Y8G("ngIf",s.showPreview))},dependencies:[u.Sq,u.bT,h.Wk,_.Um,_.X9,_.sy,_.Gx,_.Ri,_.WA,_.m_,u.vh]})}}return i})();function wo(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",24)(3,"input",25),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"a",26)(10,"span"),e.EFF(11,"Consulter le centre"),e.k0s()()()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(null==t.requete.type_cape?null:t.requete.type_cape.name),e.R7$(2),e.JRh(t.requete.name),e.R7$(2),e.Y8G("routerLink","/admin/follow-cape-show/"+t.id)}}function Vo(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t.name)}}function Ao(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.nI1(9,"date"),e.k0s(),e.j41(10,"td")(11,"ol"),e.DNE(12,Vo,2,1,"li",19),e.k0s()()()),2&i){const t=r.$implicit,n=e.XpG(3);e.R7$(2),e.JRh(null==t.type_control?null:t.type_control.name),e.R7$(2),e.JRh(t.chief_name),e.R7$(2),e.JRh(t.observation),e.R7$(2),e.JRh(e.i5U(9,5,t.date_control,"dd-MM-yyyy")),e.R7$(4),e.Y8G("ngForOf",n.getMembers(t.members))}}function Do(i,r){if(1&i&&(e.j41(0,"div",15)(1,"table",16)(2,"thead",17)(3,"tr")(4,"th"),e.EFF(5,"Type Contr\xf4le"),e.k0s(),e.j41(6,"th"),e.EFF(7,"Chef de file"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Observation"),e.k0s(),e.j41(10,"th"),e.EFF(11,"Date de contr\xf4le"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Membre de la visite"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,Ao,13,8,"tr",19),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(15),e.Y8G("ngForOf",t.controls)}}function Xo(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(45);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Mo(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function Yo(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",41),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function Bo(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function qo(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t.name)}}function Uo(i,r){1&i&&(e.j41(0,"span",44),e.EFF(1,"Non transmis"),e.k0s())}function Po(i,r){1&i&&(e.j41(0,"span",45),e.EFF(1,"Transmis"),e.k0s())}function Oo(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",24)(3,"input",25),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.checked2(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"td")(14,"ol"),e.DNE(15,qo,2,1,"li",19),e.k0s()(),e.j41(16,"td"),e.DNE(17,Uo,2,0,"span",42),e.DNE(18,Po,2,0,"span",43),e.k0s()()}if(2&i){const t=r.$implicit,n=e.XpG(3);e.R7$(5),e.JRh(null==t.type_control?null:t.type_control.name),e.R7$(2),e.JRh(t.chief_name),e.R7$(2),e.JRh(t.observation),e.R7$(2),e.JRh(e.i5U(12,7,t.date_control,"dd-MM-yyyy")),e.R7$(4),e.Y8G("ngForOf",n.getMembers(t.members)),e.R7$(2),e.Y8G("ngIf",t.transmissions_count<=1),e.R7$(1),e.Y8G("ngIf",t.transmissions_count>1)}}function zo(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",34)(1,"button",35),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(43);return e.Njj(s.add(o))}),e.EFF(2,"Enregistrer une visite de terrain"),e.k0s(),e.DNE(3,Xo,2,0,"button",36),e.DNE(4,Mo,2,0,"button",37),e.DNE(5,Yo,2,0,"button",38),e.DNE(6,Bo,2,0,"button",37),e.j41(7,"button",35),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.transUp())}),e.EFF(8,"Transmettre"),e.k0s()(),e.j41(9,"p"),e.EFF(10),e.k0s(),e.j41(11,"div",15)(12,"table",16)(13,"thead",17)(14,"tr")(15,"th",18),e.EFF(16,"#"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Type Contr\xf4le"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Chef de file"),e.k0s(),e.j41(21,"th"),e.EFF(22,"Observation"),e.k0s(),e.j41(23,"th"),e.EFF(24,"Date de contr\xf4le"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Membre de la visite"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Etat"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,Oo,19,10,"tr",19),e.k0s()()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active),e.R7$(4),e.SpI("",t.myControls.length," \xe9l\xe9ment(s)"),e.R7$(20),e.Y8G("ngForOf",t.myControls)}}function Lo(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t.name)}}function Jo(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",24)(3,"input",25),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(4);return e.Njj(l.checked2(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"td")(14,"ol"),e.DNE(15,Lo,2,1,"li",19),e.k0s()()()}if(2&i){const t=r.$implicit,n=e.XpG(4);e.R7$(5),e.JRh(null==t.type_control?null:t.type_control.name),e.R7$(2),e.JRh(t.chief_name),e.R7$(2),e.JRh(t.observation),e.R7$(2),e.JRh(e.i5U(12,5,t.date_control,"dd-MM-yyyy")),e.R7$(4),e.Y8G("ngForOf",n.getMembers(t.members))}}function Wo(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",34)(1,"button",35),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.transUp())}),e.EFF(2,"Transmettre"),e.k0s()(),e.j41(3,"p"),e.EFF(4),e.k0s(),e.j41(5,"div",15)(6,"table",16)(7,"thead",17)(8,"tr")(9,"th",18),e.EFF(10,"#"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Type Contr\xf4le"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Chef de file"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Observation"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Date de contr\xf4le"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Membre de la visite"),e.k0s()()(),e.j41(21,"tbody"),e.DNE(22,Jo,16,8,"tr",19),e.k0s()()()}if(2&i){const t=e.XpG(3);e.R7$(4),e.SpI("",t.transmittedControls.length," \xe9l\xe9ment(s)"),e.R7$(18),e.Y8G("ngForOf",t.transmittedControls)}}function Ho(i,r){1&i&&(e.j41(0,"li",29)(1,"a",30),e.EFF(2,"A transmettre"),e.k0s(),e.DNE(3,Wo,23,2,"ng-template",31),e.k0s())}function Qo(i,r){if(1&i&&(e.qex(0),e.j41(1,"ul",27,28)(3,"li",29)(4,"a",30),e.EFF(5,"Contr\xf4les effectu\xe9s"),e.k0s(),e.DNE(6,Do,16,1,"ng-template",31),e.k0s(),e.j41(7,"li",29)(8,"a",30),e.EFF(9,"Mes enregistrements"),e.k0s(),e.DNE(10,zo,31,6,"ng-template",31),e.k0s(),e.DNE(11,Ho,4,0,"li",32),e.k0s(),e.nrm(12,"div",33),e.bVm()),2&i){const t=e.sdS(2),n=e.XpG();e.R7$(11),e.Y8G("ngIf","cps"!=n.role),e.R7$(1),e.Y8G("ngbNavOutlet",t)}}function Ko(i,r){if(1&i&&(e.j41(0,"option",68),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Zo(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t.name)}}function er(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",46,47),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",48)(3,"h6",49),e.EFF(4,"Enregistrer une visite de terrain"),e.k0s(),e.j41(5,"button",50),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",51)(7,"div",52)(8,"div",53)(9,"label",54),e.EFF(10,"Type de contr\xf4le "),e.j41(11,"span",55),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",56),e.DNE(14,Ko,2,2,"option",57),e.k0s()(),e.j41(15,"div",53)(16,"label",54),e.EFF(17,"Date de contr\xf4le "),e.j41(18,"span",55),e.EFF(19,"(*)"),e.k0s()(),e.nrm(20,"input",58),e.k0s(),e.j41(21,"div",53)(22,"label",54),e.EFF(23,"observation "),e.j41(24,"span",55),e.EFF(25,"(*)"),e.k0s()(),e.nrm(26,"textarea",59),e.k0s(),e.nrm(27,"hr"),e.j41(28,"div",53)(29,"label",54),e.EFF(30,"Chef de file "),e.j41(31,"span",55),e.EFF(32,"(*)"),e.k0s()(),e.nrm(33,"input",60),e.k0s(),e.j41(34,"h6"),e.EFF(35,"Liste des membres"),e.k0s(),e.j41(36,"ol"),e.DNE(37,Zo,2,1,"li",19),e.k0s(),e.j41(38,"form",46,61),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(39),o=e.XpG();return e.Njj(o.onAdd(s.value,s))}),e.j41(40,"div",62),e.nrm(41,"input",63),e.j41(42,"button",64),e.EFF(43,"Ajouter un membre de la d\xe9l\xe9gation"),e.k0s()()()()(),e.j41(44,"div",65)(45,"button",66),e.EFF(46,"Enregistrer "),e.nrm(47,"app-loading",67),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.sdS(39),s=e.XpG();e.R7$(14),e.Y8G("ngForOf",s.tcs),e.R7$(23),e.Y8G("ngForOf",s.members),e.R7$(5),e.Y8G("disabled",n.invalid),e.R7$(3),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",s.loading)}}function tr(i,r){if(1&i&&(e.j41(0,"option",68),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function nr(i,r){if(1&i){const t=e.RV6();e.j41(0,"li"),e.EFF(1),e.j41(2,"span",74),e.bIt("click",function(){const o=e.eBV(t).index,l=e.XpG(2);return e.Njj(l.removeMember(o))}),e.nrm(3,"i",75),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(1),e.SpI("",t.name," ")}}function ir(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",46,69),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",70)(3,"h6",49),e.EFF(4,"Modifier une visite de terrain"),e.k0s(),e.j41(5,"button",50),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",51)(7,"div",52)(8,"div",53)(9,"label",54),e.EFF(10,"Type de contr\xf4le "),e.j41(11,"span",55),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",71),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data2.type_control_id=s)}),e.DNE(14,tr,2,2,"option",57),e.k0s()(),e.j41(15,"div",53)(16,"label",54),e.EFF(17,"observation "),e.j41(18,"span",55),e.EFF(19,"(*)"),e.k0s()(),e.j41(20,"input",72),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data2.observation=s)}),e.k0s()(),e.j41(21,"div",53)(22,"label",54),e.EFF(23,"Date de contr\xf4le "),e.j41(24,"span",55),e.EFF(25,"(*)"),e.k0s()(),e.j41(26,"input",73),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data2.date_control=s)}),e.k0s()(),e.nrm(27,"hr"),e.j41(28,"div",53)(29,"label",54),e.EFF(30,"Chef de file "),e.j41(31,"span",55),e.EFF(32,"(*)"),e.k0s()(),e.nrm(33,"input",60),e.k0s(),e.j41(34,"h6"),e.EFF(35,"Liste des membres"),e.k0s(),e.j41(36,"ol"),e.DNE(37,nr,4,1,"li",19),e.k0s(),e.j41(38,"form",46,61),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(39),o=e.XpG();return e.Njj(o.onAdd(s.value,s))}),e.j41(40,"div",62),e.nrm(41,"input",63),e.j41(42,"button",64),e.EFF(43,"Ajouter un membre de la d\xe9l\xe9gation"),e.k0s()()()()(),e.j41(44,"div",65)(45,"button",66),e.EFF(46,"Sauvegarder "),e.nrm(47,"app-loading",67),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.sdS(39),s=e.XpG();e.R7$(13),e.Y8G("ngModel",s.selected_data2.type_control_id),e.R7$(1),e.Y8G("ngForOf",s.tcs),e.R7$(6),e.Y8G("ngModel",s.selected_data2.observation),e.R7$(6),e.Y8G("ngModel",s.selected_data2.date_control),e.R7$(11),e.Y8G("ngForOf",s.members),e.R7$(5),e.Y8G("disabled",n.invalid),e.R7$(3),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",s.loading)}}let oe=(()=>{class i{constructor(t,n,s,o,l,p,g,j,C){this.typeService=t,this.activatedRoute=n,this.controlService=s,this.controlTypeService=o,this.capeService=l,this.toastrService=p,this.lsService=j,this.modalService=C,this.structures=[],this.data=[],this.controls=[],this.myControls=[],this.transmittedControls=[],this.referals=[],this.tcs=[],this.members=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,g.backdrop="static",g.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,this.activatedRoute.paramMap.subscribe(t=>{this.type=this.activatedRoute.snapshot.paramMap.get("service"),this.init()}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.setServiceId(),this.getTypeControls()}setServiceId(){this.typeService.getAll2().subscribe(t=>{t.data.forEach(n=>{n.name.toLowerCase().includes(this.type.toLowerCase())&&(this.service_id=n.id)}),console.log(this.service_id),null!=this.service_id?this.getAllAuthorized():this.toastrService.info("Impossible de charger les donn\xe9es, service non reconnue","Requ\xeates")})}getAllAuthorized(){this.controls=[],this.myControls=[],this.transmittedControls=[],this.capeService.getAllAuthorized(this.service_id).subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}getTypeControls(){this.controlTypeService.getAll().subscribe(t=>{this.tcs=t.data},t=>{})}checked2(t){this.selected_data2=t,this.members=this.getMembers(t.members)}checked(t){this.selected_data=t,this.controls=t.controls,this.myControls=t.my_controls,this.transmittedControls=t.transmitted_controls}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}add(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}store(t){this.loading=!0,t.cape_id=this.selected_data.id,t.members=JSON.stringify(this.members),this.controlService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAllAuthorized()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Visite de terrain",n.error.message)})}update(t){this.loading=!0,this.controlService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAllAuthorized()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Visite de terrain",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.controlService.delete(this.selected_data2.id).subscribe(s=>{this.toastrService.success(s.message),this.getAllAuthorized()},s=>{console.log(s),c.W.simpleAlert("error","Visite de terrain",s.error.message)})})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.controlService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAllAuthorized()},n=>{console.log(n),c.W.simpleAlert("error","Visite de terrain",n.error.message)})}transUp(){this.toastrService.warning("Op\xe9ration en cours"),this.controlService.transUP(this.selected_data2.id).subscribe(t=>{this.toastrService.success(t.message),this.getAllAuthorized()},t=>{console.log(t),c.W.simpleAlert("error","Visite de terrain",t.error.message)})}onAdd(t,n){this.members.push({name:t.member_name}),n.resetForm()}getMembers(t){return""==t?[]:JSON.parse(t)}removeMember(t){this.members.splice(t,1)}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(S.M),e.rXU(h.nX),e.rXU(ne),e.rXU(M),e.rXU(N),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-follow-cape"]],decls:46,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-5"],[1,"col-lg-12"],[1,"card"],[1,"card-header","cape-bg-blue"],[1,"text-white"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],[1,"row"],[4,"ngIf"],["addContent",""],["editContent",""],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[1,"d-flex"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],["class","bg-secondary py-1 px-2 rounded text-white",4,"ngIf"],["class","bg-success py-1 px-2 rounded text-white",4,"ngIf"],[1,"bg-secondary","py-1","px-2","rounded","text-white"],[1,"bg-success","py-1","px-2","rounded","text-white"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["name","type_control_id","ngModel","","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","date","name","date_control","ngModel","","required","",1,"form-control"],["name","observation","ngModel","",1,"form-control"],["type","text","name","chief_name","ngModel","","required","",1,"form-control"],["refForm","ngForm"],[1,"input-group","mb-3"],["type","text","name","member_name","required","","ngModel","",1,"form-control"],["type","submit","id","button-addon2",1,"btn","btn-sm","btn-outline-secondary",3,"disabled"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["editForm","ngForm"],[1,"modal-header"],["name","type_control_id","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","observation",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","date_control","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"ms-3",3,"click"],[1,"fa","fa-times"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Contr\xf4le des capes autoris\xe9s"),e.k0s()()()()(),e.j41(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"h6",13),e.EFF(16,"Liste des CAPE autoris\xe9s"),e.k0s()(),e.j41(17,"div",14)(18,"p"),e.EFF(19),e.k0s(),e.j41(20,"div",15)(21,"table",16)(22,"thead",17)(23,"tr")(24,"th",18),e.EFF(25,"#"),e.k0s(),e.j41(26,"th"),e.EFF(27,"Type Cape"),e.k0s(),e.j41(28,"th"),e.EFF(29,"Libell\xe9"),e.k0s(),e.j41(30,"th"),e.EFF(31,"Action"),e.k0s()()(),e.j41(32,"tbody"),e.DNE(33,wo,12,3,"tr",19),e.k0s()()()()()()(),e.j41(34,"div",20)(35,"div",10)(36,"div",11)(37,"div",12)(38,"h6",13),e.EFF(39,"Liste des visites de terrain"),e.k0s()(),e.j41(40,"div",14),e.DNE(41,Qo,13,2,"ng-container",21),e.k0s()()()(),e.DNE(42,er,48,5,"ng-template",null,22,e.C5r),e.DNE(44,ir,48,8,"ng-template",null,23,e.C5r)),2&n&&(e.R7$(19),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(14),e.Y8G("ngForOf",s.data),e.R7$(8),e.Y8G("ngIf",null!=s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV,_.Um,_.X9,_.sy,_.Gx,_.Ri,_.WA,_.m_,u.vh]})}}return i})(),sr=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("dash/")}getAll(){return this.http.get(`${this.url}`)}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function or(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"div",14)(6,"h6",15),e.EFF(7,"Dossiers \xe0 valider"),e.k0s()(),e.j41(8,"div",14)(9,"h4",15),e.EFF(10),e.k0s()()(),e.j41(11,"div",16)(12,"a",17)(13,"u"),e.EFF(14,"Voir plus "),e.nrm(15,"i",18),e.k0s()()()()(),e.j41(16,"div",19)(17,"div",20)(18,"div",13)(19,"div",14)(20,"h6",15),e.EFF(21,"Contr\xf4les effectu\xe9es"),e.k0s()(),e.j41(22,"div",14)(23,"h4",15),e.EFF(24),e.k0s()()(),e.j41(25,"div",16)(26,"a",21)(27,"u"),e.EFF(28,"Voir plus "),e.nrm(29,"i",18),e.k0s()()()()(),e.j41(30,"div",11)(31,"div",22)(32,"div",13)(33,"div",14)(34,"h6",15),e.EFF(35,"Cape visit\xe9"),e.k0s()(),e.j41(36,"div",14)(37,"h4",15),e.EFF(38),e.k0s()()(),e.j41(39,"div",16)(40,"a",17)(41,"u"),e.EFF(42,"Voir plus "),e.nrm(43,"i",18),e.k0s()()()()()(),e.bVm()),2&i){const t=e.XpG();let n,s,o;e.R7$(10),e.JRh(null!==(n=null==t.data?null:t.data.pending_validation)&&void 0!==n?n:"0"),e.R7$(14),e.JRh(null!==(s=null==t.data?null:t.data.controls)&&void 0!==s?s:"0"),e.R7$(14),e.JRh(null!==(o=null==t.data?null:t.data.total)&&void 0!==o?o:"0")}}function rr(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",10)(2,"div",11)(3,"div",23)(4,"div",13)(5,"div",14)(6,"h6",15),e.EFF(7,"Recommandations en cours"),e.k0s()(),e.j41(8,"div",14)(9,"h4",15),e.EFF(10),e.k0s()()(),e.j41(11,"div",16)(12,"a",21)(13,"u"),e.EFF(14,"Voir plus "),e.nrm(15,"i",18),e.k0s()()()()(),e.j41(16,"div",11)(17,"div",20)(18,"div",13)(19,"div",14)(20,"h6",15),e.EFF(21,"Contr\xf4les effectu\xe9es"),e.k0s()(),e.j41(22,"div",14)(23,"h4",15),e.EFF(24),e.k0s()()(),e.j41(25,"div",16)(26,"a",21)(27,"u"),e.EFF(28,"Voir plus "),e.nrm(29,"i",18),e.k0s()()()()(),e.j41(30,"div",11)(31,"div",24)(32,"div",13)(33,"div",14)(34,"h6",15),e.EFF(35,"CAPE autoris\xe9s"),e.k0s()(),e.j41(36,"div",14)(37,"h4",15),e.EFF(38),e.k0s()()(),e.j41(39,"div",16)(40,"a",25)(41,"u"),e.EFF(42,"Voir plus "),e.nrm(43,"i",18),e.k0s()()()()(),e.j41(44,"div",11)(45,"div",26)(46,"div",13)(47,"div",14)(48,"h6",15),e.EFF(49,"CAPE inscrits"),e.k0s()(),e.j41(50,"div",14)(51,"h4",15),e.EFF(52),e.k0s()()(),e.j41(53,"div",16)(54,"a",27)(55,"u"),e.EFF(56,"Voir plus "),e.nrm(57,"i",18),e.k0s()()()()(),e.j41(58,"div",11)(59,"div",12)(60,"div",13)(61,"div",14)(62,"h6",15),e.EFF(63,"Dossiers \xe0 valider"),e.k0s()(),e.j41(64,"div",14)(65,"h4",15),e.EFF(66),e.k0s()()(),e.j41(67,"div",16)(68,"a",17)(69,"u"),e.EFF(70,"Voir plus "),e.nrm(71,"i",18),e.k0s()()()()()(),e.bVm()),2&i){const t=e.XpG();let n,s,o,l;e.R7$(10),e.JRh(null==t.data?null:t.data.referals),e.R7$(14),e.JRh(null!==(n=null==t.data?null:t.data.controls)&&void 0!==n?n:"0"),e.R7$(14),e.JRh(null!==(s=null==t.data?null:t.data.authorized)&&void 0!==s?s:"0"),e.R7$(14),e.JRh(null!==(o=null==t.data?null:t.data.registered)&&void 0!==o?o:"0"),e.R7$(14),e.JRh(null!==(l=null==t.data?null:t.data.pending_validation)&&void 0!==l?l:"0")}}function ar(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"div",14)(6,"h6",15),e.EFF(7,"Nombre d'enfants"),e.k0s()(),e.j41(8,"div",14)(9,"h4",15),e.EFF(10),e.k0s()()(),e.j41(11,"div",16)(12,"a",17)(13,"u"),e.EFF(14,"Voir plus "),e.nrm(15,"i",18),e.k0s()()()()(),e.j41(16,"div",11)(17,"div",23)(18,"div",13)(19,"div",14)(20,"h6",15),e.EFF(21,"Recommandations en attente"),e.k0s()(),e.j41(22,"div",14)(23,"h4",15),e.EFF(24),e.k0s()()(),e.j41(25,"div",16)(26,"a",21)(27,"u"),e.EFF(28,"Voir plus "),e.nrm(29,"i",18),e.k0s()()()()()(),e.bVm()),2&i){const t=e.XpG();let n,s;e.R7$(10),e.JRh(null!==(n=null==t.data?null:t.data.residents)&&void 0!==n?n:"0"),e.R7$(14),e.JRh(null!==(s=null==t.data?null:t.data.referals)&&void 0!==s?s:"0")}}function lr(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",10)(2,"div",28)(3,"div",29)(4,"div",13)(5,"div",14)(6,"h6",15),e.EFF(7,"Nb utilisateurs"),e.k0s()(),e.j41(8,"div",14)(9,"h4",15),e.EFF(10),e.k0s()()(),e.j41(11,"div",16)(12,"a",30)(13,"u"),e.EFF(14,"Voir plus "),e.nrm(15,"i",18),e.k0s()()()()(),e.j41(16,"div",28)(17,"div",24)(18,"div",13)(19,"div",14)(20,"h6",15),e.EFF(21,"CAPE autoris\xe9s"),e.k0s()(),e.j41(22,"div",14)(23,"h4",15),e.EFF(24),e.k0s()()(),e.j41(25,"div",16)(26,"a",25)(27,"u"),e.EFF(28,"Voir plus "),e.nrm(29,"i",18),e.k0s()()()()(),e.j41(30,"div",28)(31,"div",26)(32,"div",13)(33,"div",14)(34,"h6",15),e.EFF(35,"CAPE inscrits"),e.k0s()(),e.j41(36,"div",14)(37,"h4",15),e.EFF(38),e.k0s()()(),e.j41(39,"div",16)(40,"a",27)(41,"u"),e.EFF(42,"Voir plus "),e.nrm(43,"i",18),e.k0s()()()()()(),e.bVm()),2&i){const t=e.XpG();let n,s,o;e.R7$(10),e.JRh(null!==(n=null==t.data?null:t.data.users)&&void 0!==n?n:"0"),e.R7$(14),e.JRh(null!==(s=null==t.data?null:t.data.authorized)&&void 0!==s?s:"0"),e.R7$(14),e.JRh(null!==(o=null==t.data?null:t.data.registered)&&void 0!==o?o:"0")}}function cr(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",10)(2,"div",11)(3,"div",23)(4,"div",13)(5,"div",14)(6,"h6",15),e.EFF(7,"Recommandations en cours"),e.k0s()(),e.j41(8,"div",14)(9,"h4",15),e.EFF(10),e.k0s()()(),e.j41(11,"div",16)(12,"a",21)(13,"u"),e.EFF(14,"Voir plus "),e.nrm(15,"i",18),e.k0s()()()()(),e.j41(16,"div",11)(17,"div",20)(18,"div",13)(19,"div",14)(20,"h6",15),e.EFF(21,"Contr\xf4les effectu\xe9es"),e.k0s()(),e.j41(22,"div",14)(23,"h4",15),e.EFF(24),e.k0s()()(),e.j41(25,"div",16)(26,"a",21)(27,"u"),e.EFF(28,"Voir plus "),e.nrm(29,"i",18),e.k0s()()()()(),e.j41(30,"div",11)(31,"div",24)(32,"div",13)(33,"div",14)(34,"h6",15),e.EFF(35,"CAPE autoris\xe9s"),e.k0s()(),e.j41(36,"div",14)(37,"h4",15),e.EFF(38),e.k0s()()(),e.j41(39,"div",16)(40,"a",25)(41,"u"),e.EFF(42,"Voir plus "),e.nrm(43,"i",18),e.k0s()()()()(),e.j41(44,"div",11)(45,"div",26)(46,"div",13)(47,"div",14)(48,"h6",15),e.EFF(49,"CAPE inscrits"),e.k0s()(),e.j41(50,"div",14)(51,"h4",15),e.EFF(52),e.k0s()()(),e.j41(53,"div",16)(54,"a",27)(55,"u"),e.EFF(56,"Voir plus "),e.nrm(57,"i",18),e.k0s()()()()()(),e.bVm()),2&i){const t=e.XpG();let n,s,o;e.R7$(10),e.JRh(null==t.data?null:t.data.referals),e.R7$(14),e.JRh(null!==(n=null==t.data?null:t.data.controls)&&void 0!==n?n:"0"),e.R7$(14),e.JRh(null!==(s=null==t.data?null:t.data.authorized)&&void 0!==s?s:"0"),e.R7$(14),e.JRh(null!==(o=null==t.data?null:t.data.registered)&&void 0!==o?o:"0")}}function dr(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",10)(2,"div",11)(3,"div",22)(4,"div",13)(5,"div",14)(6,"h6",15),e.EFF(7,"Dossiers inscrits"),e.k0s()(),e.j41(8,"div",14)(9,"h4",15),e.EFF(10),e.k0s()()(),e.j41(11,"div",16)(12,"a",31)(13,"u"),e.EFF(14,"Voir plus "),e.nrm(15,"i",18),e.k0s()()()()(),e.j41(16,"div",11)(17,"div",32)(18,"div",13)(19,"div",14)(20,"h6",15),e.EFF(21,"Dossiers \xe0 valider"),e.k0s()(),e.j41(22,"div",14)(23,"h4",15),e.EFF(24),e.k0s()()(),e.j41(25,"div",16)(26,"a",31)(27,"u"),e.EFF(28,"Voir plus "),e.nrm(29,"i",18),e.k0s()()()()()(),e.bVm()),2&i){const t=e.XpG();let n,s;e.R7$(10),e.JRh(null!==(n=null==t.data?null:t.data.all)&&void 0!==n?n:"0"),e.R7$(14),e.JRh(null!==(s=null==t.data?null:t.data.treated)&&void 0!==s?s:"0")}}let mr=(()=>{class i{constructor(t,n){this.lsService=t,this.dashService=n}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,this.getAll()}getAll(){this.dashService.getAll().subscribe(t=>{this.data=t.data},t=>{})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(b.s),e.rXU(sr))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-home"]],decls:17,vars:6,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","javascript:;"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[4,"ngIf"],[1,"row"],[1,"col-12","col-md-6","mb-3"],[1,"shadow","p-3","mb-5","bg-body-tertiary","rounded",2,"background-color","orange"],[1,"d-flex","justify-content-between","mb-3"],[1,"align-self-center"],[1,"text-white"],[1,"d-flex","justify-content-center"],["routerLink","/admin/requetes/new",1,"text-white","h6"],[1,"ms-1","fa","fa-arrow-right"],[1,"col-12","col-md-6","col-md-4","mb-3"],[1,"shadow","p-3","mb-5","bg-body-tertiary","rounded","bg-danger"],["routerLink","/admin/referals",1,"text-white","h6"],[1,"shadow","p-3","mb-5","bg-body-tertiary","bg-primary","rounded"],[1,"shadow","p-3","mb-5","bg-body-tertiary","rounded","bg-info"],[1,"shadow","p-3","mb-5","bg-body-tertiary","rounded","bg-success"],["routerLink","/admin/capes",1,"text-white","h6"],[1,"shadow","p-3","mb-5","bg-body-tertiary","rounded","bg-secondary"],["routerLink","/admin/requetes",1,"text-white","h6"],[1,"col-12","col-md-4","mb-3"],[1,"shadow","p-3","mb-5","bg-body-tertiary","rounded","bg-primary"],["routerLink","/admin/users",1,"text-white","h6"],["routerLink","/admin/session-requests",1,"text-white","h6"],[1,"shadow","p-3","mb-5","bg-body-tertiary","bg-success","rounded"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Tableau de bord"),e.k0s()()()()(),e.DNE(11,or,44,3,"ng-container",9),e.DNE(12,rr,72,5,"ng-container",9),e.DNE(13,ar,30,2,"ng-container",9),e.DNE(14,lr,44,3,"ng-container",9),e.DNE(15,cr,58,4,"ng-container",9),e.DNE(16,dr,30,2,"ng-container",9)),2&n&&(e.R7$(11),e.Y8G("ngIf","ddasm"==s.role),e.R7$(1),e.Y8G("ngIf","dfea"==s.role||"ministre"==s.role||"service"==s.role),e.R7$(1),e.Y8G("ngIf","cape"==s.role),e.R7$(1),e.Y8G("ngIf","admin"==s.role),e.R7$(1),e.Y8G("ngIf","cps"==s.role),e.R7$(1),e.Y8G("ngIf","member"==s.role))},dependencies:[u.bT,h.Wk]})}}return i})(),_r=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("activity-logs/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ur(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()()),2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.SpI("",n+1," "),e.R7$(2),e.JRh(t.description),e.R7$(2),e.JRh(t.causer_type),e.R7$(2),e.JRh(t.name)}}function pr(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",21,22),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",23)(3,"h6",24),e.EFF(4,"Enregistrer un d\xe9partement"),e.k0s(),e.j41(5,"button",25),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",26)(7,"div",27)(8,"div",28)(9,"label",29),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",30),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",31),e.k0s()()(),e.j41(14,"div",32)(15,"button",33),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",34),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function hr(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",21,35),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",36)(3,"h6",24),e.EFF(4,"Modifier un d\xe9partement"),e.k0s(),e.j41(5,"button",25),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",26)(7,"div",27)(8,"div",28)(9,"label",29),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",30),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",37),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",32)(15,"button",33),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",34),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function br(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",36)(1,"h4",24),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",25),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",26)(5,"div",38)(6,"table",39)(7,"tbody")(8,"tr")(9,"td",40),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let gr=(()=>{class i{constructor(t,n,s,o,l){this.alService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.alService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.alService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Historique des activit\xe9s",n.error.message)})}update(t){this.loading=!0,this.alService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Historique des activit\xe9s",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.alService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Historique des activit\xe9s",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.alService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Suggestions",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(_r),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-journal"]],decls:37,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Journal"),e.k0s()()()()(),e.j41(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"p"),e.EFF(16),e.k0s(),e.j41(17,"div",13)(18,"table",14)(19,"thead",15)(20,"tr")(21,"th",16),e.EFF(22,"#"),e.k0s(),e.j41(23,"th"),e.EFF(24,"Description "),e.k0s(),e.j41(25,"th"),e.EFF(26,"Table affect\xe9e"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Auteur "),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,ur,9,4,"tr",17),e.k0s()()()()()()(),e.DNE(31,pr,18,2,"ng-template",null,18,e.C5r),e.DNE(33,hr,18,3,"ng-template",null,19,e.C5r),e.DNE(35,br,13,1,"ng-template",null,20,e.C5r)),2&n&&(e.R7$(16),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(14),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),re=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("members/")}getAll(){return this.http.get(`${this.url}`)}getDepartmentWithRelation(){return this.http.get(`${this.url}with/relations`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),U=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("unite-admins/")}getAll(){return this.http.get(`${this.url}`)}getDepartmentWithRelation(){return this.http.get(`${this.url}with/relations`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function fr(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(40);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function vr(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(38);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Fr(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function kr(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function jr(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function Er(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(36);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un membre"),e.k0s(),e.DNE(3,fr,3,0,"button",25),e.DNE(4,vr,2,0,"button",26),e.DNE(5,Fr,2,0,"button",27),e.DNE(6,kr,2,0,"button",28),e.DNE(7,jr,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function Cr(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.Lme("",t.lastname," ",t.firstname,""),e.R7$(2),e.JRh(t.office),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.phone)}}function Sr(i,r){if(1&i&&(e.j41(0,"option",55),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function xr(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",35,36),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",37)(3,"h6",38),e.EFF(4,"Enregistrer un membre"),e.k0s(),e.j41(5,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",40)(7,"div",41)(8,"div",42)(9,"label",43),e.EFF(10,"Structure "),e.j41(11,"span",44),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",45),e.DNE(14,Sr,2,2,"option",46),e.k0s()(),e.j41(15,"div",42)(16,"label",43),e.EFF(17,"Nom "),e.j41(18,"span",44),e.EFF(19,"(*)"),e.k0s()(),e.nrm(20,"input",47),e.k0s(),e.j41(21,"div",42)(22,"label",43),e.EFF(23,"Pr\xe9nom(s) "),e.j41(24,"span",44),e.EFF(25,"(*)"),e.k0s()(),e.nrm(26,"input",48),e.k0s(),e.j41(27,"div",42)(28,"label",43),e.EFF(29,"Poste "),e.j41(30,"span",44),e.EFF(31,"(*)"),e.k0s()(),e.nrm(32,"input",49),e.k0s(),e.j41(33,"div",42)(34,"label",43),e.EFF(35,"Email "),e.j41(36,"span",44),e.EFF(37,"(*)"),e.k0s()(),e.nrm(38,"input",50),e.k0s(),e.j41(39,"div",42)(40,"label",43),e.EFF(41,"Contact "),e.j41(42,"span",44),e.EFF(43,"(*)"),e.k0s()(),e.nrm(44,"input",51),e.k0s()()(),e.j41(45,"div",52)(46,"button",53),e.EFF(47,"Enregistrer "),e.nrm(48,"app-loading",54),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(14),e.Y8G("ngForOf",n.uas),e.R7$(32),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function yr(i,r){if(1&i&&(e.j41(0,"option",55),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Rr(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",35,56),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",37)(3,"h6",38),e.EFF(4,"Modifier un membre"),e.k0s(),e.j41(5,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",40)(7,"div",41)(8,"div",42)(9,"label",43),e.EFF(10,"Structure "),e.j41(11,"span",44),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",57),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.unite_admin_id=s)}),e.DNE(14,yr,2,2,"option",46),e.k0s()(),e.j41(15,"div",42)(16,"label",43),e.EFF(17,"Nom "),e.j41(18,"span",44),e.EFF(19,"(*)"),e.k0s()(),e.j41(20,"input",58),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.lastname=s)}),e.k0s()(),e.j41(21,"div",42)(22,"label",43),e.EFF(23,"Pr\xe9nom(s) "),e.j41(24,"span",44),e.EFF(25,"(*)"),e.k0s()(),e.j41(26,"input",59),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.firstname=s)}),e.k0s()(),e.j41(27,"div",42)(28,"label",43),e.EFF(29,"Poste "),e.j41(30,"span",44),e.EFF(31,"(*)"),e.k0s()(),e.j41(32,"input",60),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.office=s)}),e.k0s()(),e.j41(33,"div",42)(34,"label",43),e.EFF(35,"Email "),e.j41(36,"span",44),e.EFF(37,"(*)"),e.k0s()(),e.j41(38,"input",61),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.email=s)}),e.k0s()(),e.j41(39,"div",42)(40,"label",43),e.EFF(41,"Contact "),e.j41(42,"span",44),e.EFF(43,"(*)"),e.k0s()(),e.j41(44,"input",62),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.phone=s)}),e.k0s()()()(),e.j41(45,"div",52)(46,"button",53),e.EFF(47,"Sauvegarder "),e.nrm(48,"app-loading",54),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.unite_admin_id),e.R7$(1),e.Y8G("ngForOf",n.uas),e.R7$(6),e.Y8G("ngModel",n.selected_data.lastname),e.R7$(6),e.Y8G("ngModel",n.selected_data.firstname),e.R7$(6),e.Y8G("ngModel",n.selected_data.office),e.R7$(6),e.Y8G("ngModel",n.selected_data.email),e.R7$(6),e.Y8G("ngModel",n.selected_data.phone),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Ir(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",37)(1,"h6",38),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",40)(5,"div",63)(6,"table",64)(7,"tbody")(8,"tr")(9,"td",65),e.EFF(10,"Nom"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",65),e.EFF(15,"Pr\xe9nom(s)"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()(),e.j41(18,"tr")(19,"td",65),e.EFF(20,"Poste"),e.k0s(),e.j41(21,"td"),e.EFF(22),e.k0s()(),e.j41(23,"tr")(24,"td",65),e.EFF(25,"Email"),e.k0s(),e.j41(26,"td"),e.EFF(27),e.k0s()(),e.j41(28,"tr")(29,"td",65),e.EFF(30,"Contact"),e.k0s(),e.j41(31,"td"),e.EFF(32),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.lastname," "),e.R7$(5),e.SpI("",t.selected_data.firstname," "),e.R7$(5),e.SpI("",t.selected_data.office," "),e.R7$(5),e.SpI("",t.selected_data.email," "),e.R7$(5),e.SpI("",t.selected_data.phone," ")}}let Tr=(()=>{class i{constructor(t,n,s,o,l,p){this.membreService=t,this.uaService=n,this.toastrService=s,this.lsService=l,this.modalService=p,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,o.backdrop="static",o.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll(),this.getUAs()}getAll(){this.membreService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}getUAs(){this.uaService.getAll().subscribe(t=>{this.uas=t.data},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.membreService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Membres",n.error.message)})}update(t){this.loading=!0,this.membreService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Membres",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.membreService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Membres",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.membreService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Membre",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(re),e.rXU(U),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-member"]],decls:41,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["name","unite_admin_id","ngModel","","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","lastname","ngModel","","required","",1,"form-control"],["type","text","name","firstname","ngModel","","required","",1,"form-control"],["type","text","name","office","ngModel","","required","",1,"form-control"],["type","text","name","email","ngModel","","required","",1,"form-control"],["type","text","name","phone","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["editForm","ngForm"],["name","unite_admin_id","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","lastname","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","firstname","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","office","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","phone","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des membres"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,Er,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Identit\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Poste"),e.k0s(),e.j41(29,"th"),e.EFF(30,"Email"),e.k0s(),e.j41(31,"th"),e.EFF(32,"Contact"),e.k0s()()(),e.j41(33,"tbody"),e.DNE(34,Cr,12,5,"tr",19),e.k0s()()()()()()(),e.DNE(35,xr,49,3,"ng-template",null,20,e.C5r),e.DNE(37,Rr,49,9,"ng-template",null,21,e.C5r),e.DNE(39,Ir,33,5,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(16),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();var Gr=F(6375);function $r(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",21)(3,"input",22),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.phone),e.R7$(2),e.JRh(t.service),e.R7$(2),e.JRh(t.observation)}}function Nr(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",23,24),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",25)(3,"h6",26),e.EFF(4,"Enregistrer un d\xe9partement"),e.k0s(),e.j41(5,"button",27),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",28)(7,"div",29)(8,"div",30)(9,"label",31),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",32),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",33),e.k0s()()(),e.j41(14,"div",34)(15,"button",35),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",36),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function wr(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",23,37),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",38)(3,"h6",26),e.EFF(4,"Modifier un d\xe9partement"),e.k0s(),e.j41(5,"button",27),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",28)(7,"div",29)(8,"div",30)(9,"label",31),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",32),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",39),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",34)(15,"button",35),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",36),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Vr(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",38)(1,"h4",26),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",27),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",28)(5,"div",40)(6,"table",41)(7,"tbody")(8,"tr")(9,"td",42),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let Ar=(()=>{class i{constructor(t,n,s,o,l){this.messageService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.messageService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.messageService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Suggestion",n.error.message)})}update(t){this.loading=!0,this.messageService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Suggestion",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.messageService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Suggestion",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.messageService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Suggestions",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(Gr.b),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-message"]],decls:41,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des suggestions"),e.k0s()()()()(),e.j41(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"p"),e.EFF(16),e.k0s(),e.j41(17,"div",13)(18,"table",14)(19,"thead",15)(20,"tr")(21,"th",16),e.EFF(22,"#"),e.k0s(),e.j41(23,"th"),e.EFF(24,"Identit\xe9 "),e.k0s(),e.j41(25,"th"),e.EFF(26,"Email "),e.k0s(),e.j41(27,"th"),e.EFF(28,"Contact "),e.k0s(),e.j41(29,"th"),e.EFF(30,"Fonction "),e.k0s(),e.j41(31,"th"),e.EFF(32,"Message "),e.k0s()()(),e.j41(33,"tbody"),e.DNE(34,$r,14,5,"tr",17),e.k0s()()()()()()(),e.DNE(35,Nr,18,2,"ng-template",null,18,e.C5r),e.DNE(37,wr,18,3,"ng-template",null,19,e.C5r),e.DNE(39,Vr,13,1,"ng-template",null,20,e.C5r)),2&n&&(e.R7$(16),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(18),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();function Dr(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(38);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Xr(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(36);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Mr(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function Yr(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function Br(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function qr(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(34);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter une comune"),e.k0s(),e.DNE(3,Dr,3,0,"button",25),e.DNE(4,Xr,2,0,"button",26),e.DNE(5,Mr,2,0,"button",27),e.DNE(6,Yr,2,0,"button",28),e.DNE(7,Br,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function Ur(i,r){1&i&&(e.j41(0,"span",37),e.EFF(1,"Actif"),e.k0s())}function Pr(i,r){1&i&&(e.j41(0,"span",38),e.EFF(1,"Bloqu\xe9"),e.k0s())}function Or(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.DNE(9,Ur,2,0,"span",35),e.DNE(10,Pr,2,0,"span",36),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.JRh(t.department.name),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function zr(i,r){if(1&i&&(e.j41(0,"option",55),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Lr(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,40),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Enregistrer une commune"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Departement "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",49),e.DNE(14,zr,2,2,"option",50),e.k0s()(),e.j41(15,"div",46)(16,"label",47),e.EFF(17,"Libell\xe9 "),e.j41(18,"span",48),e.EFF(19,"(*)"),e.k0s()(),e.nrm(20,"input",51),e.k0s()()(),e.j41(21,"div",52)(22,"button",53),e.EFF(23,"Enregistrer "),e.nrm(24,"app-loading",54),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(14),e.Y8G("ngForOf",n.departments),e.R7$(8),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Jr(i,r){if(1&i&&(e.j41(0,"option",55),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Wr(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,56),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",57)(3,"h6",42),e.EFF(4,"Modifier un utilisateur"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Departement "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",58),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.department_id=s)}),e.DNE(14,Jr,2,2,"option",50),e.k0s()(),e.j41(15,"div",46)(16,"label",47),e.EFF(17,"Libell\xe9 "),e.j41(18,"span",48),e.EFF(19,"(*)"),e.k0s()(),e.j41(20,"input",59),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(21,"div",52)(22,"button",53),e.EFF(23,"Sauvegarder "),e.nrm(24,"app-loading",54),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.department_id),e.R7$(1),e.Y8G("ngForOf",n.departments),e.R7$(6),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Hr(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",57)(1,"h4",42),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",44)(5,"div",60)(6,"table",61)(7,"tbody")(8,"tr")(9,"td",62),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",62),e.EFF(15,"Departement"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," "),e.R7$(5),e.SpI("",t.selected_data.department.name," ")}}let Qr=(()=>{class i{constructor(t,n,s,o,l,p){this.municipalityService=t,this.departmentService=n,this.toastrService=s,this.lsService=l,this.modalService=p,this.structures=[],this.departments=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,o.backdrop="static",o.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll(),this.getDepartments()}getDepartments(){this.departmentService.getAll().subscribe(t=>{this.departments=t.data},t=>{})}getAll(){this.municipalityService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.municipalityService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Communes",n.error.message)})}update(t){this.loading=!0,this.municipalityService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Communes",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.municipalityService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Communes",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.municipalityService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Commune",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(w),e.rXU(G.a),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-municipality"]],decls:39,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["name","department_id","ngModel","","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["editForm","ngForm"],[1,"modal-header"],["name","department_id","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des communes"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,qr,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"D\xe9partement"),e.k0s(),e.j41(29,"th"),e.EFF(30,"Statut"),e.k0s()()(),e.j41(31,"tbody"),e.DNE(32,Or,11,4,"tr",19),e.k0s()()()()()()(),e.DNE(33,Lr,25,3,"ng-template",null,20,e.C5r),e.DNE(35,Wr,25,5,"ng-template",null,21,e.C5r),e.DNE(37,Hr,18,2,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(14),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),Kr=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("referal-controls/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}transUP(t){return this.http.get(`${this.url}trans-up/${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Zr=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("referals/")}getAll(t){return this.http.get(`${this.url}?service_id=${t}`)}getAllWithCape(t){return this.http.get(`${this.url}with-cape/all?service_id=${t}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ea(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",25),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(14);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function ta(i,r){if(1&i&&(e.j41(0,"div",23),e.DNE(1,ea,3,0,"button",24),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.show)}}function na(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",26)(3,"input",27),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.libelle),e.R7$(2),e.JRh(t.controls.length)}}function ia(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16),e.DNE(5,ta,2,1,"div",17),e.j41(6,"p"),e.EFF(7),e.k0s(),e.j41(8,"div",18)(9,"table",19)(10,"thead",20)(11,"tr")(12,"th",21),e.EFF(13,"#"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Recommandations"),e.k0s(),e.j41(16,"th"),e.EFF(17,"Contr\xf4les effectu\xe9s"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,na,8,2,"tr",22),e.k0s()()()()()()(),e.bVm()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("ngIf",t.buttonsPermission),e.R7$(2),e.SpI("",t.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",t.data)}}function sa(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",26)(3,"input",27),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(null==t.requete.type_cape?null:t.requete.type_cape.name),e.R7$(2),e.JRh(t.requete.name)}}function oa(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",25),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(14);return e.Njj(s.show(o))}),e.j41(2,"span"),e.EFF(3,"Consulter"),e.k0s()()()}}function ra(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",26)(3,"input",27),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.checked2(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.libelle),e.R7$(2),e.JRh(t.controls.length)}}function aa(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()()),2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.libelle),e.R7$(2),e.JRh(t.observation)}}function la(i,r){if(1&i&&(e.j41(0,"div",18)(1,"table",19)(2,"thead",20)(3,"tr")(4,"th"),e.EFF(5,"Avis"),e.k0s(),e.j41(6,"th"),e.EFF(7,"Constat"),e.k0s()()(),e.j41(8,"tbody"),e.DNE(9,aa,5,2,"tr",22),e.k0s()()()),2&i){const t=e.XpG(3);e.R7$(9),e.Y8G("ngForOf",t.controls)}}function ca(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",44),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4),o=e.sdS(18);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function da(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function ma(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function _a(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function ua(i,r){1&i&&(e.j41(0,"span",49),e.EFF(1,"Non transmis"),e.k0s())}function pa(i,r){1&i&&(e.j41(0,"span",50),e.EFF(1,"Transmis"),e.k0s())}function ha(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",26)(3,"input",27),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(4);return e.Njj(l.checked3(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.DNE(9,ua,2,0,"span",47),e.DNE(10,pa,2,0,"span",48),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.libelle),e.R7$(2),e.JRh(t.observation),e.R7$(2),e.Y8G("ngIf",t.transmissions_count<=1),e.R7$(1),e.Y8G("ngIf",t.transmissions_count>1)}}function ba(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",39)(1,"button",25),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(16);return e.Njj(s.add(o))}),e.j41(2,"span"),e.EFF(3,"Enregistrer un contr\xf4le effectu\xe9"),e.k0s()(),e.DNE(4,ca,2,0,"button",40),e.DNE(5,da,2,0,"button",41),e.DNE(6,ma,2,0,"button",42),e.DNE(7,_a,2,0,"button",41),e.j41(8,"button",43),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.transUp())}),e.EFF(9,"Transmettre"),e.k0s()(),e.j41(10,"p"),e.EFF(11),e.k0s(),e.j41(12,"div",18)(13,"table",19)(14,"thead",20)(15,"tr")(16,"th",21),e.EFF(17,"#"),e.k0s(),e.j41(18,"th"),e.EFF(19,"Avis"),e.k0s(),e.j41(20,"th"),e.EFF(21,"Constat"),e.k0s(),e.j41(22,"th"),e.EFF(23,"Etat"),e.k0s()()(),e.j41(24,"tbody"),e.DNE(25,ha,11,4,"tr",22),e.k0s()()()}if(2&i){const t=e.XpG(3);e.R7$(4),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active),e.R7$(4),e.SpI("",t.myControls.length," \xe9l\xe9ment(s)"),e.R7$(14),e.Y8G("ngForOf",t.myControls)}}function ga(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",26)(3,"input",27),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(5);return e.Njj(l.checked3(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.libelle),e.R7$(2),e.JRh(t.observation)}}function fa(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",39)(1,"button",43),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.transUp())}),e.EFF(2,"Transmettre"),e.k0s()(),e.j41(3,"p"),e.EFF(4),e.k0s(),e.j41(5,"div",18)(6,"table",19)(7,"thead",20)(8,"tr")(9,"th",21),e.EFF(10,"#"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Avis"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Constat"),e.k0s()()(),e.j41(15,"tbody"),e.DNE(16,ga,8,2,"tr",22),e.k0s()()()}if(2&i){const t=e.XpG(4);e.R7$(4),e.SpI("",t.transmittedControls.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",t.transmittedControls)}}function va(i,r){1&i&&(e.j41(0,"li",34)(1,"a",35),e.EFF(2,"A transmettre"),e.k0s(),e.DNE(3,fa,17,2,"ng-template",36),e.k0s())}function Fa(i,r){if(1&i&&(e.qex(0),e.j41(1,"ul",32,33)(3,"li",34)(4,"a",35),e.EFF(5,"Contr\xf4les effectu\xe9s"),e.k0s(),e.DNE(6,la,10,1,"ng-template",36),e.k0s(),e.j41(7,"li",34)(8,"a",35),e.EFF(9,"Mes enregistrements"),e.k0s(),e.DNE(10,ba,26,6,"ng-template",36),e.k0s(),e.DNE(11,va,4,0,"li",37),e.k0s(),e.nrm(12,"div",38),e.bVm()),2&i){const t=e.sdS(2),n=e.XpG(2);e.R7$(11),e.Y8G("ngIf","cps"!=n.role),e.R7$(1),e.Y8G("ngbNavOutlet",t)}}function ka(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",28)(2,"div",29)(3,"div",15)(4,"div",30)(5,"h6",31),e.EFF(6,"Liste des CAPE avec recommandations"),e.k0s()(),e.j41(7,"div",16)(8,"p"),e.EFF(9),e.k0s(),e.j41(10,"div",18)(11,"table",19)(12,"thead",20)(13,"tr")(14,"th",21),e.EFF(15,"#"),e.k0s(),e.j41(16,"th"),e.EFF(17,"Type cape"),e.k0s(),e.j41(18,"th"),e.EFF(19,"Nom du centre"),e.k0s()()(),e.j41(20,"tbody"),e.DNE(21,sa,8,2,"tr",22),e.k0s()()()()()()(),e.j41(22,"div",28)(23,"div",14)(24,"div",15)(25,"div",30)(26,"h6",31),e.EFF(27,"Liste des recommandations"),e.k0s()(),e.j41(28,"div",16),e.DNE(29,oa,4,0,"div",17),e.j41(30,"p"),e.EFF(31),e.k0s(),e.j41(32,"div",18)(33,"table",19)(34,"thead",20)(35,"tr")(36,"th",21),e.EFF(37,"#"),e.k0s(),e.j41(38,"th"),e.EFF(39,"Recommandations"),e.k0s(),e.j41(40,"th"),e.EFF(41,"Contr\xf4les effectu\xe9s"),e.k0s()()(),e.j41(42,"tbody"),e.DNE(43,ra,8,2,"tr",22),e.k0s()()()()()()(),e.j41(44,"div",13)(45,"div",14)(46,"div",15)(47,"div",30)(48,"h6",31),e.EFF(49,"Liste des contr\xf4les"),e.k0s()(),e.j41(50,"div",16),e.DNE(51,Fa,13,2,"ng-container",9),e.k0s()()()(),e.bVm()),2&i){const t=e.XpG();e.R7$(9),e.SpI("",t.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",t.data),e.R7$(8),e.Y8G("ngIf",t.buttonsPermission),e.R7$(2),e.SpI("",t.referals.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",t.referals),e.R7$(8),e.Y8G("ngIf",null!=t.data)}}function ja(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",56),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2),p=e.sdS(18);return e.Njj(l.add2(p,o))}),e.j41(7,"span"),e.EFF(8,"Modifier"),e.k0s()()()()}if(2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.JRh(n+1),e.R7$(2),e.JRh(t.libelle)}}function Ea(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",51)(1,"h6",52),e.EFF(2,"Contr\xf4le"),e.k0s(),e.j41(3,"button",53),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",54)(5,"dl")(6,"dt")(7,"b"),e.EFF(8,"Libell\xe9 de la recommandation"),e.k0s()(),e.j41(9,"dd"),e.EFF(10),e.k0s()(),e.nrm(11,"hr"),e.j41(12,"dl")(13,"dt"),e.EFF(14,"Contr\xf4les"),e.k0s(),e.j41(15,"dd")(16,"table",55)(17,"thead")(18,"th"),e.EFF(19,"#"),e.k0s(),e.j41(20,"th"),e.EFF(21,"Libell\xe9"),e.k0s(),e.j41(22,"th"),e.EFF(23,"Action"),e.k0s()(),e.j41(24,"tbody"),e.DNE(25,ja,9,2,"tr",22),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(10),e.JRh(t.selected_data2.libelle),e.R7$(15),e.Y8G("ngForOf",t.selected_data2.controls)}}function Ca(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",57,58),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",51)(3,"h6",52),e.EFF(4,"Contr\xf4le"),e.k0s(),e.j41(5,"button",53),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",54)(7,"div",59)(8,"label",60),e.EFF(9,"Avis"),e.k0s(),e.nrm(10,"input",61),e.k0s(),e.j41(11,"div",59)(12,"label",60),e.EFF(13,"Constat"),e.k0s(),e.nrm(14,"textarea",62),e.k0s()(),e.j41(15,"div",63)(16,"div",64)(17,"button",65),e.EFF(18,"Sauvegarder "),e.nrm(19,"app-loading",66),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(19),e.Y8G("isVisible",t.loading)}}function Sa(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",57,58),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",51)(3,"h6",52),e.EFF(4,"Contr\xf4le"),e.k0s(),e.j41(5,"button",53),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",54)(7,"div",59)(8,"label",60),e.EFF(9,"Libell\xe9"),e.k0s(),e.j41(10,"input",67),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data3.libelle=s)}),e.k0s()(),e.j41(11,"div",59)(12,"label",60),e.EFF(13,"Libell\xe9"),e.k0s(),e.j41(14,"textarea",68),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data3.observation=s)}),e.k0s()()(),e.j41(15,"div",63)(16,"div",64)(17,"button",65),e.EFF(18,"Sauvegarder "),e.nrm(19,"app-loading",66),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(10),e.Y8G("ngModel",t.selected_data3.libelle),e.R7$(4),e.Y8G("ngModel",t.selected_data3.observation),e.R7$(5),e.Y8G("isVisible",t.loading)}}let ae=(()=>{class i{constructor(t,n,s,o,l,p,g,j){this.typeService=t,this.activatedRoute=n,this.referalControlService=s,this.referalService=o,this.toastrService=l,this.lsService=g,this.modalService=j,this.structures=[],this.data=[],this.referals=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,this.controls=[],this.myControls=[],this.transmittedControls=[],p.backdrop="static",p.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,this.activatedRoute.paramMap.subscribe(t=>{this.type=this.activatedRoute.snapshot.paramMap.get("service"),this.init()}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.setServiceId()}setServiceId(){this.typeService.getAll2().subscribe(t=>{t.data.forEach(n=>{n.name.toLowerCase().includes(this.type.toLowerCase())&&(this.service_id=n.id)}),console.log(this.service_id),null!=this.service_id?"cape"==this.role?this.getAll():this.getAllWithCape():this.toastrService.info("Impossible de charger les donn\xe9es, service non reconnue","Requ\xeates")})}getAll(){this.referalService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}getAllWithCape(){this.controls=[],this.myControls=[],this.transmittedControls=[],this.referalService.getAllWithCape(this.service_id).subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.referal_id=this.selected_data2.id,this.referalControlService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.modalService.dismissAll(),this.referals=[],"cape"==this.role?this.getAll():this.getAllWithCape()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Recommandation",n.error.message)})}update(t){this.loading=!0,this.referalControlService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),"cape"==this.role?this.getAll():this.getAllWithCape()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Recommandation",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.referalControlService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.init()},s=>{console.log(s),c.W.simpleAlert("error","Recommandation",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active,this.referals=this.selected_data.requete.referals}checked3(t){this.selected_data3=t,this.is_active=t.is_active}checked2(t){this.selected_data2=t,this.controls=t.controls,this.myControls=t.my_controls,this.transmittedControls=t.transmitted_controls}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data2||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}add2(t,n){this.selected_data3=n,this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.referalService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Recommandation",n.error.message)})}transUp(){this.toastrService.warning("Op\xe9ration en cours"),this.referalControlService.transUP(this.selected_data2.id).subscribe(t=>{this.toastrService.success(t.message),this.getAllWithCape()},t=>{console.log(t),c.W.simpleAlert("error","Suivi de recommendation",t.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(S.M),e.rXU(h.nX),e.rXU(Kr),e.rXU(Zr),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-referal"]],decls:19,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[4,"ngIf"],["showContent",""],["addContent",""],["editContent",""],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],[1,"d-flex","mb-5"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[1,"row","mb-5"],[1,"col-12"],[1,"card-header","cape-bg-blue"],[1,"text-white"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[1,"d-flex"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],["class","bg-secondary py-1 px-2 rounded text-white",4,"ngIf"],["class","bg-success py-1 px-2 rounded text-white",4,"ngIf"],[1,"bg-secondary","py-1","px-2","rounded","text-white"],[1,"bg-success","py-1","px-2","rounded","text-white"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table","table-sm","table-bordered"],["type","button",1,"btn","btn-outline-warning",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"form-group"],["for",""],["type","text","name","libelle","ngModel","",1,"form-control"],["name","observation","ngModel","",1,"form-control"],[1,"modal-footer"],[1,"d-flex","justify-content-end"],[1,"btn","btn-sm","btn-success"],[3,"isVisible"],["type","text","name","libelle",1,"form-control",3,"ngModel","ngModelChange"],["name","observation",1,"form-control",3,"ngModel","ngModelChange"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des recommandations"),e.k0s()()()()(),e.DNE(11,ia,20,3,"ng-container",9),e.DNE(12,ka,52,6,"ng-container",9),e.DNE(13,Ea,26,2,"ng-template",null,10,e.C5r),e.DNE(15,Ca,20,1,"ng-template",null,11,e.C5r),e.DNE(17,Sa,20,3,"ng-template",null,12,e.C5r)),2&n&&(e.R7$(11),e.Y8G("ngIf","cape"==s.role),e.R7$(1),e.Y8G("ngIf","cape"!=s.role))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.vS,a.cV,_.Um,_.X9,_.sy,_.Gx,_.Ri,_.WA,_.m_]})}}return i})();function xa(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.authorized())}),e.EFF(1," Cl\xf4turer"),e.k0s()}}function ya(i,r){1&i&&(e.j41(0,"span",28),e.EFF(1," Accord donn\xe9 sous r\xe9serve"),e.k0s())}function Ra(i,r){1&i&&(e.j41(0,"span",29),e.EFF(1," Accord donn\xe9"),e.k0s())}function Ia(i,r){1&i&&(e.j41(0,"span",28),e.EFF(1," Autorisation mise en attente"),e.k0s())}function Ta(i,r){1&i&&(e.j41(0,"span",29),e.EFF(1," Autorisation accord\xe9e"),e.k0s())}function Ga(i,r){if(1&i&&(e.j41(0,"tr")(1,"td")(2,"div",23),e.nrm(3,"input",24),e.k0s()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.DNE(7,ya,2,0,"span",25),e.DNE(8,Ra,2,0,"span",26),e.k0s(),e.j41(9,"td"),e.DNE(10,Ia,2,0,"span",25),e.DNE(11,Ta,2,0,"span",26),e.k0s(),e.j41(12,"td")(13,"a",27),e.EFF(14,"Ouvrir le dossier "),e.k0s()()()),2&i){const t=r.$implicit;e.R7$(3),e.Y8G("checked",t.is_authorized),e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("ngIf",1==t.has_agreemant),e.R7$(1),e.Y8G("ngIf",2==t.has_agreemant),e.R7$(2),e.Y8G("ngIf",0==t.is_authorized),e.R7$(1),e.Y8G("ngIf",1==t.is_authorized),e.R7$(2),e.Y8G("routerLink","/admin/session-request-show/"+t.code)}}function $a(i,r){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div",46)(2,"label",38),e.EFF(3,"Observation "),e.j41(4,"span",47),e.EFF(5,"(*)"),e.k0s()(),e.nrm(6,"textarea",48),e.k0s(),e.nrm(7,"hr"),e.j41(8,"h6"),e.EFF(9,"Liste des recommandations"),e.k0s(),e.j41(10,"form",30,49),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(11),o=e.XpG(2);return e.Njj(o.onAdd(s.value,s))}),e.j41(12,"div",50),e.nrm(13,"input",51),e.j41(14,"button",52),e.EFF(15,"Ajouter une recommandation"),e.k0s()()(),e.bVm()}if(2&i){const t=e.sdS(11);e.R7$(14),e.Y8G("disabled",t.invalid)}}function Na(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",30,31),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.setStatus())}),e.j41(2,"div",32)(3,"h6",33),e.EFF(4,"D\xe9cision finale"),e.k0s(),e.j41(5,"button",34),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",35)(7,"div",36)(8,"div",37)(9,"label",38),e.EFF(10,"D\xe9cision"),e.k0s(),e.j41(11,"select",39),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.decision=s)}),e.j41(12,"option",40),e.EFF(13,"Favorable"),e.k0s(),e.j41(14,"option",41),e.EFF(15,"Mise en attente"),e.k0s()()(),e.DNE(16,$a,16,1,"ng-container",42),e.k0s()(),e.j41(17,"div",43)(18,"button",44),e.EFF(19,"Vadlier ma d\xe9cision "),e.nrm(20,"app-loading",45),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(11),e.Y8G("ngModel",n.decision),e.R7$(5),e.Y8G("ngIf",0==n.decision),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}let wa=(()=>{class i{constructor(t,n,s,o,l,p){this.reqService=t,this.mService=n,this.toastrService=s,this.lsService=l,this.modalService=p,this.structures=[],this.decisions=[],this.municipalities=[],this.data=[],this.data2=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,this.canClosed=!1,o.backdrop="static",o.keyboard=!1}onAdd(t,n){this.decisions.push({observation:t.observation}),console.log(this.decisions),n.resetForm()}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.reqService.getDecisions().subscribe(t=>{this.data=t.data,-1==this.data.findIndex(n=>null==n.is_authorized)&&(this.canClosed=!0),this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id}update(t){this.loading=!0,this.reqService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Accord",n.error.message)})}checked(t){this.selected_data=t,this.is_active=t.is_authorized}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(){let t=new FormData,n=[];this.data.forEach(s=>{n.push({id:s.id,has_agreemant:s.has_agreemant})}),t.append("requetes",JSON.stringify(n)),t.append("decision",this.decision),t.append("decisions",JSON.stringify(this.decisions)),this.toastrService.warning("Op\xe9ration en cours"),this.reqService.setDecision(t).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","D\xe9cision Session",s.error.message)})}authorized(){this.toastrService.warning("Op\xe9ration en cours"),this.reqService.authorized().subscribe(t=>{this.toastrService.success(t.message),this.getAll()},t=>{console.log(t),c.W.simpleAlert("error","D\xe9cision finale",t.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(x.t),e.rXU(w),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-request-has-agreement"]],decls:39,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"d-flex"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"checked"],["class","p-1 bg-warning text-white",4,"ngIf"],["class","p-1 bg-success text-white",4,"ngIf"],[1,"btn","btn-sm","btn-primary",3,"routerLink"],[1,"p-1","bg-warning","text-white"],[1,"p-1","bg-success","text-white"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-group"],["for",""],["name","decision","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","0"],[4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[1,"form-group","col-12","mb-3"],[1,"text-danger","ml-2"],["name","observation","ngModel","","required","","cols","30","rows","3",1,"form-control"],["refForm","ngForm"],[1,"input-group","mb-3"],["type","text","name","observation","required","","ngModel","",1,"form-control"],["type","submit","id","button-addon2",1,"btn","btn-sm","btn-outline-secondary",3,"disabled"]],template:function(n,s){if(1&n){const o=e.RV6();e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des CAPE \xe0 autoriser"),e.k0s()()()()(),e.j41(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"button",14),e.bIt("click",function(){e.eBV(o);const p=e.sdS(38);return e.Njj(s.add(p))}),e.EFF(17," D\xe9cider"),e.k0s(),e.DNE(18,xa,2,0,"button",15),e.k0s(),e.j41(19,"p"),e.EFF(20),e.k0s(),e.j41(21,"div",16)(22,"table",17)(23,"thead",18)(24,"tr")(25,"th",19),e.EFF(26,"#"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Cape"),e.k0s(),e.j41(29,"th"),e.EFF(30,"D\xe9cision du comit\xe9"),e.k0s(),e.j41(31,"th"),e.EFF(32,"D\xe9cision du ministre"),e.k0s(),e.j41(33,"th"),e.EFF(34,"Action"),e.k0s()()(),e.j41(35,"tbody"),e.DNE(36,Ga,15,7,"tr",20),e.k0s()()()()()()(),e.DNE(37,Na,21,4,"ng-template",null,21,e.C5r)}2&n&&(e.R7$(18),e.Y8G("ngIf",s.canClosed),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(16),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();function Va(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t.itemName)}}function Aa(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"ul"),e.DNE(11,Va,2,1,"li",17),e.k0s()(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()()),2&i){const t=r.$implicit,n=r.index,s=e.XpG();e.R7$(2),e.SpI(" ",n+1," "),e.R7$(2),e.JRh(null==t.type_cape?null:t.type_cape.name),e.R7$(2),e.JRh(t.name),e.R7$(2),e.Lme("",t.name_pomoter," ",t.firstname_pomoter,""),e.R7$(3),e.Y8G("ngForOf",s.getJson(t.target)),e.R7$(2),e.JRh(t.address),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.phone)}}let Da=(()=>{class i{constructor(t,n,s,o,l,p,g){this.typeService=t,this.activatedRoute=n,this.requeteService=s,this.toastrService=o,this.lsService=p,this.modalService=g,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,l.backdrop="static",l.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.activatedRoute.paramMap.subscribe(t=>{this.init()}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.setServiceId()}setServiceId(){this.typeService.getAll2().subscribe(t=>{t.data.forEach(n=>{console.log(this.type),console.log(n),n.name.toLowerCase().includes(this.type.toLowerCase())&&(this.service_id=n.id)}),console.log(this.service_id),this.getAll()})}getAll(){this.requeteService.getAll(this.service_id).subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}getJson(t){return null==t?[]:JSON.parse(t)}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(S.M),e.rXU(h.nX),e.rXU(x.t),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-requetes"]],decls:39,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des CAPE inscrits"),e.k0s()()()()(),e.j41(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"p"),e.EFF(16),e.k0s(),e.j41(17,"div",13)(18,"table",14)(19,"thead",15)(20,"tr")(21,"th",16),e.EFF(22,"#"),e.k0s(),e.j41(23,"th"),e.EFF(24,"Type Cape"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9 Centre"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Nom promoteur"),e.k0s(),e.j41(29,"th"),e.EFF(30,"Cible"),e.k0s(),e.j41(31,"th"),e.EFF(32,"Adresse"),e.k0s(),e.j41(33,"th"),e.EFF(34,"email"),e.k0s(),e.j41(35,"th"),e.EFF(36,"phone"),e.k0s()()(),e.j41(37,"tbody"),e.DNE(38,Aa,18,9,"tr",17),e.k0s()()()()()()()),2&n&&(e.R7$(16),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(22),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,h.Wk]})}}return i})(),Xa=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("residents/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ma(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(42);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Ya(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(40);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Ba(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function qa(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function Ua(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function Pa(i,r){if(1&i&&(e.j41(0,"div",24),e.DNE(1,Ma,3,0,"button",25),e.DNE(2,Ya,2,0,"button",26),e.DNE(3,Ba,2,0,"button",27),e.DNE(4,qa,2,0,"button",28),e.DNE(5,Ua,2,0,"button",27),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function Oa(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.Lme("",t.firstname," ",t.lastname,""),e.R7$(2),e.JRh(e.i5U(8,6,t.birthdate,"shortDate")),e.R7$(3),e.JRh(t.birthplace),e.R7$(2),e.Lme("",t.size," / ",t.weight,"")}}function za(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",35,36),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",37)(3,"h6",38),e.EFF(4,"Enregistrer un personnel"),e.k0s(),e.j41(5,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",40)(7,"div",41)(8,"div",42)(9,"label",43),e.EFF(10,"Pr\xe9nom(s) "),e.j41(11,"span",44),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",45),e.k0s(),e.j41(14,"div",42)(15,"label",43),e.EFF(16,"Nom "),e.j41(17,"span",44),e.EFF(18,"(*)"),e.k0s()(),e.nrm(19,"input",46),e.k0s(),e.j41(20,"div",42)(21,"label",43),e.EFF(22,"Date de naissance "),e.j41(23,"span",44),e.EFF(24,"(*)"),e.k0s()(),e.nrm(25,"input",47),e.k0s(),e.j41(26,"div",42)(27,"label",43),e.EFF(28,"Lieu de naissance "),e.j41(29,"span",44),e.EFF(30,"(*)"),e.k0s()(),e.nrm(31,"input",48),e.k0s(),e.j41(32,"div",42)(33,"label",43),e.EFF(34,"Adresse "),e.j41(35,"span",44),e.EFF(36,"(*)"),e.k0s()(),e.nrm(37,"input",49),e.k0s(),e.j41(38,"div",42)(39,"label",43),e.EFF(40,"Sexe "),e.j41(41,"span",44),e.EFF(42,"(*)"),e.k0s()(),e.j41(43,"select",50)(44,"option",51),e.EFF(45,"Masculin"),e.k0s(),e.j41(46,"option",52),e.EFF(47,"F\xe9minin"),e.k0s()()(),e.j41(48,"div",42)(49,"label",43),e.EFF(50,"Taille "),e.j41(51,"span",44),e.EFF(52,"(*)"),e.k0s()(),e.nrm(53,"input",53),e.k0s(),e.j41(54,"div",42)(55,"label",43),e.EFF(56,"Poids "),e.j41(57,"span",44),e.EFF(58,"(*)"),e.k0s()(),e.nrm(59,"input",54),e.k0s()()(),e.j41(60,"div",55)(61,"button",56),e.EFF(62,"Enregistrer "),e.nrm(63,"app-loading",57),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(61),e.Y8G("disabled",t.invalid||n.loading),e.R7$(2),e.Y8G("isVisible",n.loading)}}function La(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",35,58),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",37)(3,"h6",38),e.EFF(4,"Modifier un personnel"),e.k0s(),e.j41(5,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",40)(7,"div",41)(8,"div",41)(9,"div",42)(10,"label",43),e.EFF(11,"Pr\xe9nom(s) "),e.j41(12,"span",44),e.EFF(13,"(*)"),e.k0s()(),e.j41(14,"input",59),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.firstname=s)}),e.k0s()(),e.j41(15,"div",42)(16,"label",43),e.EFF(17,"Nom "),e.j41(18,"span",44),e.EFF(19,"(*)"),e.k0s()(),e.j41(20,"input",60),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.lastname=s)}),e.k0s()(),e.j41(21,"div",42)(22,"label",43),e.EFF(23,"Date de naissance "),e.j41(24,"span",44),e.EFF(25,"(*)"),e.k0s()(),e.j41(26,"input",61),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.birthdate=s)}),e.k0s()(),e.j41(27,"div",42)(28,"label",43),e.EFF(29,"Lieu de naissance "),e.j41(30,"span",44),e.EFF(31,"(*)"),e.k0s()(),e.j41(32,"input",62),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.birthplace=s)}),e.k0s()(),e.j41(33,"div",42)(34,"label",43),e.EFF(35,"Adresse "),e.j41(36,"span",44),e.EFF(37,"(*)"),e.k0s()(),e.j41(38,"input",63),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.address=s)}),e.k0s()(),e.j41(39,"div",42)(40,"label",43),e.EFF(41,"Sexe "),e.j41(42,"span",44),e.EFF(43,"(*)"),e.k0s()(),e.j41(44,"select",64),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.sex=s)}),e.j41(45,"option",51),e.EFF(46,"Masculin"),e.k0s(),e.j41(47,"option",52),e.EFF(48,"F\xe9minin"),e.k0s()()(),e.j41(49,"div",42)(50,"label",43),e.EFF(51,"Taille "),e.j41(52,"span",44),e.EFF(53,"(*)"),e.k0s()(),e.j41(54,"input",65),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.size=s)}),e.k0s()(),e.j41(55,"div",42)(56,"label",43),e.EFF(57,"Poids "),e.j41(58,"span",44),e.EFF(59,"(*)"),e.k0s()(),e.j41(60,"input",66),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.weight=s)}),e.k0s()()()()(),e.j41(61,"div",55)(62,"button",56),e.EFF(63,"Sauvegarder "),e.nrm(64,"app-loading",57),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(14),e.Y8G("ngModel",n.selected_data.firstname),e.R7$(6),e.Y8G("ngModel",n.selected_data.lastname),e.R7$(6),e.Y8G("ngModel",n.selected_data.birthdate),e.R7$(6),e.Y8G("ngModel",n.selected_data.birthplace),e.R7$(6),e.Y8G("ngModel",n.selected_data.address),e.R7$(6),e.Y8G("ngModel",n.selected_data.sex),e.R7$(10),e.Y8G("ngModel",n.selected_data.size),e.R7$(6),e.Y8G("ngModel",n.selected_data.weight),e.R7$(2),e.Y8G("disabled",t.invalid||n.loading),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Ja(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",37)(1,"h4",38),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",40)(5,"div",67)(6,"table",68)(7,"tbody")(8,"tr")(9,"td",69),e.EFF(10,"Pr\xe9nom"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",69),e.EFF(15,"Nom"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()(),e.j41(18,"tr")(19,"td",69),e.EFF(20,"Date de naissance"),e.k0s(),e.j41(21,"td"),e.EFF(22),e.nI1(23,"date"),e.k0s()(),e.j41(24,"tr")(25,"td",69),e.EFF(26,"Lieu de naissance"),e.k0s(),e.j41(27,"td"),e.EFF(28),e.k0s()(),e.j41(29,"tr")(30,"td",69),e.EFF(31,"Taille"),e.k0s(),e.j41(32,"td"),e.EFF(33),e.k0s()(),e.j41(34,"tr")(35,"td",69),e.EFF(36,"Poids"),e.k0s(),e.j41(37,"td"),e.EFF(38),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.firstname," "),e.R7$(5),e.SpI("",t.selected_data.lastname," "),e.R7$(5),e.SpI("",e.i5U(23,6,t.selected_data.birthdate,"shortDate")," "),e.R7$(6),e.SpI("",t.selected_data.birthplace," "),e.R7$(5),e.SpI("",t.selected_data.size," "),e.R7$(5),e.SpI("",t.selected_data.weight," ")}}let Wa=(()=>{class i{constructor(t,n,s,o,l){this.residentService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.residentService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.residentService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Personnel",n.error.message)})}update(t){this.loading=!0,this.residentService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Personnel",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.residentService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Personnel",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.residentService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Pensionnaire",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(Xa),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-resident"]],decls:43,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","firstname","ngModel","","required","",1,"form-control"],["type","text","name","lastname","ngModel","","required","",1,"form-control"],["type","date","name","birthdate","ngModel","","required","",1,"form-control"],["type","text","name","birthplace","ngModel","","required","",1,"form-control"],["type","text","name","address","ngModel","","required","",1,"form-control"],["name","sex","ngModel","","required","",1,"form-control"],["value","Masculin"],["value","F\xe9minin"],["type","text","name","size","ngModel","","required","",1,"form-control"],["type","text","name","weight","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],["type","text","name","firstname","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","lastname","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","birthdate","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","birthplace","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","address","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","sex","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","size","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","weight","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){if(1&n){const o=e.RV6();e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des pensionnaires"),e.k0s()()()(),e.j41(11,"div",9)(12,"button",10),e.bIt("click",function(){e.eBV(o);const p=e.sdS(38);return e.Njj(s.add(p))}),e.EFF(13,"Ajouter un pensionnaire"),e.k0s()()(),e.j41(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14),e.DNE(18,Pa,6,5,"div",15),e.j41(19,"p"),e.EFF(20),e.k0s(),e.j41(21,"div",16)(22,"table",17)(23,"thead",18)(24,"tr")(25,"th",19),e.EFF(26,"#"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Identit\xe9"),e.k0s(),e.j41(29,"th"),e.EFF(30,"Date de naissance"),e.k0s(),e.j41(31,"th"),e.EFF(32,"Lien de naissance"),e.k0s(),e.j41(33,"th"),e.EFF(34,"Taille / poids"),e.k0s()()(),e.j41(35,"tbody"),e.DNE(36,Oa,13,9,"tr",20),e.k0s()()()()()()(),e.DNE(37,za,64,2,"ng-template",null,21,e.C5r),e.DNE(39,La,65,10,"ng-template",null,22,e.C5r),e.DNE(41,Ja,39,9,"ng-template",null,23,e.C5r)}2&n&&(e.R7$(18),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(16),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV,u.vh]})}}return i})(),le=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("type-sanctions/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ha=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("sanctions/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return n.append("_method","put"),this.http.post(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Qa(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(19);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Ka(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(17);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Za(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function el(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.setStatus(1))}),e.EFF(1," Cl\xf4tuer"),e.k0s()}}function tl(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",25)(1,"button",26),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(15);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter une sanction"),e.k0s(),e.DNE(3,Qa,3,0,"button",27),e.DNE(4,Ka,2,0,"button",28),e.DNE(5,Za,2,0,"button",29),e.DNE(6,el,2,0,"button",30),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active)}}function nl(i,r){if(1&i){const t=e.RV6();e.j41(0,"span")(1,"button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.showFile(s.decret_filename,s.cape.requete.code))}),e.EFF(2,"Ouvrir"),e.k0s()()}}function il(i,r){1&i&&(e.j41(0,"span"),e.EFF(1,"Non d\xe9fini"),e.k0s())}function sl(i,r){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(1),e.JRh(e.i5U(2,1,t.closed_date,"shortDate"))}}function ol(i,r){1&i&&(e.j41(0,"span"),e.EFF(1,"Non d\xe9fini"),e.k0s())}function rl(i,r){1&i&&(e.j41(0,"span",41),e.EFF(1,"Cl\xf4tur\xe9e"),e.k0s())}function al(i,r){1&i&&(e.j41(0,"span",42),e.EFF(1,"En cours"),e.k0s())}function ll(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",35)(3,"input",36),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.DNE(9,nl,3,0,"span",37),e.DNE(10,il,2,0,"span",37),e.k0s(),e.j41(11,"td"),e.DNE(12,sl,3,4,"span",37),e.DNE(13,ol,2,0,"span",37),e.k0s(),e.j41(14,"td"),e.DNE(15,rl,2,0,"span",38),e.DNE(16,al,2,0,"span",39),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.type_sanction.name),e.R7$(2),e.JRh(t.description),e.R7$(2),e.Y8G("ngIf",null!=t.decret_filename),e.R7$(1),e.Y8G("ngIf",null==t.decret_filename),e.R7$(2),e.Y8G("ngIf",null!=t.closed_date),e.R7$(1),e.Y8G("ngIf",null==t.closed_date),e.R7$(2),e.Y8G("ngIf",t.status),e.R7$(1),e.Y8G("ngIf",!t.status)}}function cl(i,r){if(1&i&&(e.j41(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),e.DNE(4,tl,7,4,"div",19),e.j41(5,"p"),e.EFF(6),e.k0s(),e.j41(7,"div",20)(8,"table",21)(9,"thead",22)(10,"tr")(11,"th",23),e.EFF(12,"#"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Type de sanction"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Instruction"),e.k0s(),e.j41(17,"th"),e.EFF(18,"D\xe9cision de fermeture"),e.k0s(),e.j41(19,"th"),e.EFF(20,"D\xe9lai de cl\xf4ture"),e.k0s(),e.j41(21,"th"),e.EFF(22,"Statut de la sanction"),e.k0s()()(),e.j41(23,"tbody"),e.DNE(24,ll,17,8,"tr",24),e.k0s()()()(),e.nrm(25,"div",18),e.k0s()()()),2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.buttonsPermission),e.R7$(2),e.SpI("",t.data.length," \xe9l\xe9ment(s)"),e.R7$(18),e.Y8G("ngForOf",t.data)}}function dl(i,r){if(1&i){const t=e.RV6();e.qex(0,43),e.j41(1,"div",44)(2,"button",45),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.back())}),e.EFF(3,"Fermer le visualiseur"),e.k0s()(),e.nrm(4,"object",46),e.bVm()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("data",t.url,e.f$h)}}function ml(i,r){if(1&i&&(e.j41(0,"option",66),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function _l(i,r){if(1&i&&(e.j41(0,"option",66),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.cape.id),e.R7$(1),e.JRh(t.name)}}function ul(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",47,48),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",49)(3,"h6",50),e.EFF(4,"Enregistrer une sanction"),e.k0s(),e.j41(5,"button",51),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",52)(7,"div",53)(8,"div",54)(9,"label",55),e.EFF(10,"Type de sanction "),e.j41(11,"span",56),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",57),e.DNE(14,ml,2,2,"option",58),e.k0s()(),e.j41(15,"div",54)(16,"label",55),e.EFF(17,"Instruction "),e.j41(18,"span",56),e.EFF(19,"(*)"),e.k0s()(),e.nrm(20,"textarea",59),e.k0s(),e.nrm(21,"hr"),e.j41(22,"div",54)(23,"label",55),e.EFF(24,"D\xe9cision de fermeture "),e.k0s(),e.j41(25,"input",60),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload(s))}),e.k0s()(),e.j41(26,"div",54)(27,"label",55),e.EFF(28,"D\xe9lai de fermeture"),e.k0s(),e.nrm(29,"input",61),e.k0s(),e.nrm(30,"hr"),e.j41(31,"div",54)(32,"label",55),e.EFF(33,"Cape "),e.j41(34,"span",56),e.EFF(35,"(*)"),e.k0s()(),e.j41(36,"select",62),e.DNE(37,_l,2,2,"option",58),e.k0s()()()(),e.j41(38,"div",63)(39,"button",64),e.EFF(40,"Enregistrer "),e.nrm(41,"app-loading",65),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(14),e.Y8G("ngForOf",n.ts),e.R7$(23),e.Y8G("ngForOf",n.capes),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function pl(i,r){if(1&i&&(e.j41(0,"option",66),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function hl(i,r){if(1&i&&(e.j41(0,"option",66),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.cape.id),e.R7$(1),e.JRh(t.name)}}function bl(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",47,67),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",49)(3,"h6",50),e.EFF(4,"Modifier une sanction"),e.k0s(),e.j41(5,"button",51),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",52)(7,"div",53)(8,"div",54)(9,"label",55),e.EFF(10,"Type de sanction "),e.j41(11,"span",56),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",68),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.type_sanction_id=s)}),e.DNE(14,pl,2,2,"option",58),e.k0s()(),e.j41(15,"div",54)(16,"label",55),e.EFF(17,"Instruction "),e.j41(18,"span",56),e.EFF(19,"(*)"),e.k0s()(),e.j41(20,"textarea",69),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.description=s)}),e.k0s()(),e.nrm(21,"hr"),e.j41(22,"div",54)(23,"label",55),e.EFF(24,"D\xe9cision de fermeture "),e.k0s(),e.j41(25,"input",60),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload(s))}),e.k0s()(),e.j41(26,"div",54)(27,"label",55),e.EFF(28,"D\xe9lai de fermeture"),e.k0s(),e.j41(29,"input",70),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.closed_date=s)}),e.k0s()(),e.nrm(30,"hr"),e.j41(31,"div",54)(32,"label",55),e.EFF(33,"Cape "),e.j41(34,"span",56),e.EFF(35,"(*)"),e.k0s()(),e.j41(36,"select",71),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.cape_id=s)}),e.DNE(37,hl,2,2,"option",58),e.k0s()()()(),e.j41(38,"div",63)(39,"button",64),e.EFF(40,"Sauvegarder "),e.nrm(41,"app-loading",65),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.type_sanction_id),e.R7$(1),e.Y8G("ngForOf",n.ts),e.R7$(6),e.Y8G("ngModel",n.selected_data.description),e.R7$(9),e.Y8G("ngModel",n.selected_data.closed_date),e.R7$(7),e.Y8G("ngModel",n.selected_data.cape_id),e.R7$(1),e.Y8G("ngForOf",n.capes),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function gl(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td",74),e.EFF(2,"Decret de fermeture"),e.k0s(),e.j41(3,"td")(4,"button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.showFile(s.selected_data.decret_filename,s.selected_data.cape.requete.code))}),e.EFF(5,"Ouvrir"),e.k0s()()()}}function fl(i,r){if(1&i&&(e.j41(0,"tr")(1,"td",74),e.EFF(2,"Date de fermutre"),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"date"),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(4),e.SpI("",e.i5U(5,1,t.selected_data.closed_date,"shortDate")," ")}}function vl(i,r){1&i&&(e.j41(0,"span",41),e.EFF(1,"Cl\xf4tur\xe9e"),e.k0s())}function Fl(i,r){1&i&&(e.j41(0,"span",42),e.EFF(1,"En cours"),e.k0s())}function kl(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",49)(1,"h6",50),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",51),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",52)(5,"div",72)(6,"table",73)(7,"tbody")(8,"tr")(9,"td",74),e.EFF(10,"Type sanction"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",74),e.EFF(15,"Description"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()(),e.DNE(18,gl,6,0,"tr",37),e.DNE(19,fl,6,4,"tr",37),e.j41(20,"tr")(21,"td",74),e.EFF(22,"Statut"),e.k0s(),e.j41(23,"td"),e.DNE(24,vl,2,0,"span",38),e.DNE(25,Fl,2,0,"span",39),e.k0s()()()()()()}if(2&i){const t=r.dismiss,n=e.XpG();e.R7$(12),e.SpI("",n.selected_data.type_sanction.name," "),e.R7$(5),e.SpI("",n.selected_data.description," "),e.R7$(1),e.Y8G("ngIf",n.selected_data.decret_filename),e.R7$(1),e.Y8G("ngIf",n.selected_data.closed_date),e.R7$(5),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}let jl=(()=>{class i{constructor(t,n,s,o,l,p,g,j){this.tsService=t,this.reqService=n,this.sanctionService=s,this.toastrService=o,this._sanitizationService=l,this.lsService=g,this.modalService=j,this.showPreview=!1,this.structures=[],this.data=[],this.ts=[],this.capes=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,p.backdrop="static",p.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll(),this.getCapes(),this.getTypeSanction()}getAll(){this.sanctionService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}getTypeSanction(){this.tsService.getAll().subscribe(t=>{this.ts=t.data},t=>{})}getCapes(){this.reqService.getListForPublic(1).subscribe(t=>{this.capes=t},t=>{})}upload(t){t.target.files.length>0&&(this.fileInput=t.target.files[0])}store(t){let n=new FormData,s=(0,u.Yq)(t.closed_date,"yyyy-MM-dd","en_US");if((0,u.Yq)(new Date,"yyyy-MM-dd","en_US")<s)this.toastrService.error("La date fin ne peut \xeatre ant\xe9rieur \xe0 la date d\xe9but ");else if(null!=this.fileInput){n.append("file",this.fileInput);for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&n.append(l,t[l]);this.loading=!0,this.sanctionService.store(n).subscribe(l=>{this.loading=!1,this.toastrService.success(l.message),this.getAll()},l=>{this.loading=!1,console.log(l),c.W.simpleAlert("error","Sanctions",l.error.message)})}else this.toastrService.error("Veuillez charger la d\xe9cision de cl\xf4ture")}update(t){let n=new FormData,s=(0,u.Yq)(t.closed_date,"yyyy-MM-dd","en_US");if((0,u.Yq)(new Date,"yyyy-MM-dd","en_US")<s)this.toastrService.error("La date fin ne peut \xeatre ant\xe9rieur \xe0 la date d\xe9but ");else{null!=this.fileInput&&n.append("file",this.fileInput);for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&n.append(l,t[l]);this.loading=!0,this.sanctionService.update(this.selected_data.id,n).subscribe(l=>{this.loading=!1,this.toastrService.success(l.message),this.getAll()},l=>{this.loading=!1,console.log(l),c.W.simpleAlert("error","Sanctions",l.error.message)})}}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.sanctionService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Sanctions",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.status}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}showFile(t,n){let s=m.w.toFile("docs/"+n+"/"+t);this.url=this._sanitizationService.bypassSecurityTrustResourceUrl(s),this.modalService.dismissAll(),this.showPreview=!0}back(){this.showPreview=!1,this.getAll()}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.sanctionService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","D\xe9partement",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(le),e.rXU(x.t),e.rXU(Ha),e.rXU(f.tw),e.rXU(R.up),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-sanction"]],decls:20,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],["class","row",4,"ngIf"],["class","container",4,"ngIf"],["addContent",""],["editContent",""],["showContent",""],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[4,"ngIf"],["class","bg-success p-1 rounded text-white",4,"ngIf"],["class","bg-danger p-1 rounded text-white",4,"ngIf"],[1,"btn","btn-sm","btn-outline-success",3,"click"],[1,"bg-success","p-1","rounded","text-white"],[1,"bg-danger","p-1","rounded","text-white"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["name","type_sanction_id","ngModel","","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["name","description","ngModel","","required","",1,"form-control"],["type","file",1,"form-control",3,"change"],["type","date","name","closed_date","ngModel","",1,"form-control"],["name","cape_id","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["editForm","ngForm"],["name","type_sanction_id","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","description","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","closed_date",1,"form-control",3,"ngModel","ngModelChange"],["name","cape_id","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des sanctions"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.DNE(12,cl,26,3,"div",10),e.DNE(13,dl,5,1,"ng-container",11),e.DNE(14,ul,42,4,"ng-template",null,12,e.C5r),e.DNE(16,bl,42,8,"ng-template",null,13,e.C5r),e.DNE(18,kl,26,6,"ng-template",null,14,e.C5r)),2&n&&(e.R7$(12),e.Y8G("ngIf",!s.showPreview),e.R7$(1),e.Y8G("ngIf",s.showPreview))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV,u.vh]})}}return i})(),El=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("searches/")}getAll(t,n,s){return this.http.get(`${this.url}${t}?service_id=${s}`)}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Cl(i,r){if(1&i&&(e.j41(0,"option",30),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Sl(i,r){if(1&i&&(e.j41(0,"option",30),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function xl(i,r){if(1&i&&(e.j41(0,"option",30),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function yl(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.SpI(" ",n+1," "),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(null==t.district||null==t.district.municipality||null==t.district.municipality.department?null:t.district.municipality.department.name),e.R7$(2),e.JRh(null==t.district||null==t.district.municipality?null:t.district.municipality.name),e.R7$(2),e.JRh(null==t.district?null:t.district.name)}}let ce=(()=>{class i{constructor(t,n,s,o,l){this.typeService=t,this.searchService=n,this.departmentService=s,this.route=o,this.toastrService=l,this.data=[],this.filteredData=[],this.departments=[],this.municipalities=[],this.districts=[],this.isDtInitialized=!1}ngOnInit(){this.route.paramMap.subscribe(t=>{this.type=this.route.snapshot.paramMap.get("type"),this.service=this.route.snapshot.paramMap.get("service"),this.setServiceId()}),this.getDepartmentWithRelations()}setServiceId(){this.typeService.getAll2().subscribe(t=>{if(t.data.forEach(n=>{n.name.toLowerCase().includes(this.service.toLowerCase())&&(this.service_id=n.id)}),console.log(this.service_id),null!=this.service_id)switch(this.type){case"cape-inscrits":this.getForCape();break;case"cape-autorises":this.getForCapeAuthorized()}else this.toastrService.info("Impossible de charger les donn\xe9es, service non reconnue","Requ\xeates")})}getDepartmentWithRelations(){this.departmentService.getDepartmentWithRelation().subscribe(t=>{this.departments=t.data},t=>{})}filter(t){this.filteredData=this.data.filter(n=>n.district.id==t.target.value)}loadMunicipalities(t){this.filteredData=this.data.filter(n=>n.district?.municipality?.department?.id==t.target.value),this.municipalities=this.departments.find(n=>n.id==t.target.value).municipalities}loadDistricts(t){this.filteredData=this.data.filter(n=>n.district?.municipality?.id==t.target.value),this.districts=this.municipalities.find(n=>n.id==t.target.value).districts}getForCape(){this.searchService.getAll(this.type,void 0,this.service_id).subscribe(t=>{this.data=t,this.filteredData=this.data},t=>{})}getForCapeAuthorized(){this.searchService.getAll(this.type,void 0,this.service_id).subscribe(t=>{this.data=t,this.filteredData=this.data},t=>{})}reset(t){t.resetForm()}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(S.M),e.rXU(El),e.rXU(G.a),e.rXU(h.nX),e.rXU(f.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-search"]],decls:54,vars:5,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[3,"ngSubmit"],["formR","ngForm"],[1,"d-flex"],[1,"input-group","mb-3"],["for","inputGroupSelect01",1,"input-group-text"],["id","inputGroupSelect01","name","department_id","ngModel","",1,"form-select",3,"change"],["disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","inputGroupSelect01","name","municipality_id","ngModel","",1,"form-select",3,"change"],["id","inputGroupSelect01","name","district_id","ngModel","",1,"form-select",3,"change"],["type","submit",1,"btn","btn-outline-secondary"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(n,s){if(1&n){const o=e.RV6();e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Recherche"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"form",14,15),e.bIt("ngSubmit",function(){e.eBV(o);const p=e.sdS(17);return e.Njj(s.reset(p))}),e.j41(18,"div",16)(19,"div",17)(20,"label",18),e.EFF(21,"D\xe9partement"),e.k0s(),e.j41(22,"select",19),e.bIt("change",function(p){return s.loadMunicipalities(p)}),e.j41(23,"option",20),e.EFF(24,"Choisir un d\xe9partement"),e.k0s(),e.DNE(25,Cl,2,2,"option",21),e.k0s(),e.j41(26,"select",22),e.bIt("change",function(p){return s.loadDistricts(p)}),e.j41(27,"option",20),e.EFF(28,"Choisir une commune"),e.k0s(),e.DNE(29,Sl,2,2,"option",21),e.k0s(),e.j41(30,"select",23),e.bIt("change",function(p){return s.filter(p)}),e.j41(31,"option",20),e.EFF(32,"Choisir un arrondissement"),e.k0s(),e.DNE(33,xl,2,2,"option",21),e.k0s(),e.j41(34,"button",24),e.EFF(35,"R\xe9initialiser"),e.k0s()()()(),e.j41(36,"p"),e.EFF(37),e.k0s(),e.j41(38,"div",25)(39,"table",26)(40,"thead",27)(41,"tr")(42,"th",28),e.EFF(43,"#"),e.k0s(),e.j41(44,"th"),e.EFF(45,"Libell\xe9"),e.k0s(),e.j41(46,"th"),e.EFF(47,"Departement"),e.k0s(),e.j41(48,"th"),e.EFF(49,"Commune"),e.k0s(),e.j41(50,"th"),e.EFF(51,"Arrondissement"),e.k0s()()(),e.j41(52,"tbody"),e.DNE(53,yl,11,5,"tr",29),e.k0s()()()()()()()}2&n&&(e.R7$(25),e.Y8G("ngForOf",s.departments),e.R7$(4),e.Y8G("ngForOf",s.municipalities),e.R7$(4),e.Y8G("ngForOf",s.districts),e.R7$(4),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(16),e.Y8G("ngForOf",s.filteredData))},dependencies:[u.Sq,h.Wk,a.qT,a.xH,a.y7,a.wz,a.BC,a.cb,a.vS,a.cV]})}}return i})(),de=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("cfes/")}getAll(){return this.http.get(`${this.url}`)}getAllActives(t){return this.http.get(`${m.w.toApiUrl("cfes-actives/")}${t}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Rl=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("avis/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return n.append("_method","patch"),this.http.post(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();const Il=["contentFiles"],Tl=["contentFiche"],Gl=["contentDetail"],$l=["contentFilePreview"];function Nl(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(21);return e.Njj(s.add(o))}),e.EFF(1,"D\xe9cision finale sur le dossier"),e.k0s()}}function wl(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.decide())}),e.EFF(1,"Modifier mon traitement"),e.k0s()}}function Vl(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.decide())}),e.EFF(1,"D\xe9cider"),e.k0s()}}function Al(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(19);return e.Njj(s.open(o,s.data.avis))}),e.EFF(1,"Voir tous les avis"),e.k0s()}}function Dl(i,r){if(1&i&&(e.j41(0,"div",23),e.DNE(1,Nl,2,0,"button",24),e.DNE(2,wl,2,0,"button",25),e.DNE(3,Vl,2,0,"button",25),e.DNE(4,Al,2,0,"button",26),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",1!=t.data.has_agreemant&&t.data.session.is_active&&"dfea"==t.role),e.R7$(1),e.Y8G("ngIf",1!=t.data.has_agreemant&&0!=(null==t.data?null:t.data.session.is_active)&&null!=(null==t.data?null:t.data.my_avis)&&null!=t.user.session_member_id),e.R7$(1),e.Y8G("ngIf",1!=t.data.has_agreemant&&0!=(null==t.data?null:t.data.session.is_active)&&null==(null==t.data?null:t.data.my_avis)&&null!=t.user.session_member_id),e.R7$(1),e.Y8G("ngIf",null!=t.data.session.is_active)}}function Xl(i,r){1&i&&(e.j41(0,"p",39),e.EFF(1,"Session cl\xf4tur\xe9e"),e.k0s())}function Ml(i,r){1&i&&(e.j41(0,"p",40),e.EFF(1,"Session en attente d'ouverture"),e.k0s())}function Yl(i,r){1&i&&(e.j41(0,"p",41),e.EFF(1,"Session ouverte"),e.k0s())}function Bl(i,r){if(1&i&&(e.j41(0,"div",32)(1,"h4")(2,"b"),e.EFF(3,"Note globale Membre :"),e.k0s(),e.EFF(4),e.nI1(5,"number"),e.j41(6,"b"),e.EFF(7),e.k0s()()()),2&i){const t=e.XpG(3);e.R7$(4),e.SpI(" ",e.i5U(5,2,t.note3.max,".2")," / "),e.R7$(3),e.JRh(t.note3.total)}}function ql(i,r){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div",31)(2,"div",32),e.DNE(3,Xl,2,0,"p",33),e.DNE(4,Ml,2,0,"p",34),e.DNE(5,Yl,2,0,"p",35),e.k0s(),e.j41(6,"div",36)(7,"button",37),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.showFile2(s.data.session.filename))}),e.EFF(8,"Consulter la note d'accord \xe0 la session"),e.k0s()()(),e.j41(9,"div",38)(10,"div",32)(11,"h4")(12,"b"),e.EFF(13,"Note globale Dossier :"),e.k0s(),e.EFF(14),e.nI1(15,"number"),e.j41(16,"b"),e.EFF(17),e.k0s()()(),e.DNE(18,Bl,8,5,"div",30),e.k0s(),e.bVm()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",0==t.data.session.is_active),e.R7$(1),e.Y8G("ngIf",null==t.data.session.is_active),e.R7$(1),e.Y8G("ngIf",t.data.session.is_active),e.R7$(9),e.SpI(" ",e.i5U(15,6,t.note2.max,".2")," / "),e.R7$(3),e.JRh(t.note2.total),e.R7$(1),e.Y8G("ngIf","member"==t.role)}}function Ul(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t.libelle)}}function Pl(i,r){if(1&i&&(e.j41(0,"dl")(1,"dt"),e.EFF(2,"Recommandations"),e.k0s(),e.j41(3,"dd")(4,"ol"),e.DNE(5,Ul,2,1,"li",48),e.k0s()()()),2&i){const t=e.XpG(4);e.R7$(5),e.Y8G("ngForOf",t.data.referals)}}function Ol(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",43)(2,"h4"),e.nrm(3,"i",44),e.j41(4,"u"),e.EFF(5,"D\xe9cision de la session"),e.k0s()()(),e.j41(6,"div",38)(7,"dl")(8,"dt"),e.EFF(9,"Observation"),e.k0s(),e.j41(10,"dd"),e.EFF(11),e.k0s()(),e.j41(12,"dl")(13,"dt"),e.EFF(14,"D\xe9cision"),e.k0s(),e.j41(15,"dd"),e.EFF(16),e.k0s()(),e.DNE(17,Pl,6,1,"dl",10),e.k0s(),e.bVm()),2&i){const t=e.XpG(3);e.R7$(11),e.SpI(" ",t.data.observation," "),e.R7$(5),e.SpI(" ",0==t.data.has_agreemant?"Accord non donn\xe9e":1==t.data.has_agreemant?"Accord donn\xe9 sous r\xe9serve":"Accord donn\xe9 provisoirement"," "),e.R7$(1),e.Y8G("ngIf",t.data.has_agreemant)}}function zl(i,r){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t.itemName)}}function Ll(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",52),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.showFile(o.filename,o,o.my_avis))}),e.EFF(7,"Voir document"),e.k0s()()()}if(2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.JRh(n+1),e.R7$(2),e.JRh(null==t.file?null:t.file.name)}}function Jl(i,r){if(1&i&&(e.j41(0,"div",42),e.DNE(1,Ol,18,3,"ng-container",10),e.j41(2,"div",43)(3,"h4"),e.nrm(4,"i",44),e.j41(5,"u"),e.EFF(6,"Informations native du CAPE"),e.k0s()()(),e.j41(7,"fieldset")(8,"legend",45),e.EFF(9,"Information sur le promoteur"),e.k0s(),e.j41(10,"div",46)(11,"div",47)(12,"dl")(13,"dt"),e.EFF(14,"Nom "),e.k0s(),e.j41(15,"dd"),e.EFF(16),e.k0s()()(),e.j41(17,"div",47)(18,"dl")(19,"dt"),e.EFF(20,"Contact"),e.k0s(),e.j41(21,"dd"),e.EFF(22),e.k0s()()(),e.j41(23,"div",47)(24,"dl")(25,"dt"),e.EFF(26,"Email "),e.k0s(),e.j41(27,"dd"),e.EFF(28),e.k0s()()(),e.j41(29,"div",47)(30,"dl")(31,"dt"),e.EFF(32,"Contact N\xb0 2"),e.k0s(),e.j41(33,"dd"),e.EFF(34),e.k0s()()()()(),e.j41(35,"fieldset")(36,"legend",45),e.EFF(37,"Information sur le centre"),e.k0s(),e.j41(38,"div",46)(39,"div",47)(40,"dl")(41,"dt"),e.EFF(42,"Type Cape"),e.k0s(),e.j41(43,"dd"),e.EFF(44),e.k0s()()(),e.j41(45,"div",47)(46,"dl")(47,"dt"),e.EFF(48,"Nom du centre"),e.k0s(),e.j41(49,"dd"),e.EFF(50),e.k0s()()(),e.j41(51,"div",47)(52,"dl")(53,"dt"),e.EFF(54,"Nom du directeur"),e.k0s(),e.j41(55,"dd"),e.EFF(56),e.k0s()()(),e.j41(57,"div",47)(58,"dl")(59,"dt"),e.EFF(60,"Contact du directeur"),e.k0s(),e.j41(61,"dd"),e.EFF(62),e.k0s()()(),e.j41(63,"div",47)(64,"dl")(65,"dt"),e.EFF(66,"Cible"),e.k0s(),e.j41(67,"dd")(68,"ul"),e.DNE(69,zl,2,1,"li",48),e.k0s()()()()()(),e.j41(70,"fieldset")(71,"legend",45),e.EFF(72,"Localisation"),e.k0s(),e.j41(73,"div",46)(74,"div",47)(75,"dl")(76,"dt"),e.EFF(77,"D\xe9partement"),e.k0s(),e.j41(78,"dd"),e.EFF(79),e.k0s()()(),e.j41(80,"div",47)(81,"dl")(82,"dt"),e.EFF(83,"Commune"),e.k0s(),e.j41(84,"dd"),e.EFF(85),e.k0s()()(),e.j41(86,"div",47)(87,"dl")(88,"dt"),e.EFF(89,"Arrondissement"),e.k0s(),e.j41(90,"dd"),e.EFF(91),e.k0s()()(),e.j41(92,"div",47)(93,"dl")(94,"dt"),e.EFF(95,"Adresse"),e.k0s(),e.j41(96,"dd"),e.EFF(97),e.k0s()()()()(),e.j41(98,"div",49)(99,"h4"),e.nrm(100,"i",44),e.j41(101,"u"),e.EFF(102,"Documents joints \xe0 la soumission"),e.k0s()()(),e.j41(103,"div",50)(104,"table",51)(105,"thead")(106,"th"),e.EFF(107,"#"),e.k0s(),e.j41(108,"th"),e.EFF(109,"R\xe9f\xe9rence"),e.k0s(),e.j41(110,"th"),e.EFF(111,"Action"),e.k0s()(),e.j41(112,"tbody"),e.DNE(113,Ll,8,2,"tr",48),e.k0s()()()()),2&i){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",null!=t.data.has_agreemant),e.R7$(15),e.Lme("",t.data.name_pomoter," ",t.data.firstname_pomoter,""),e.R7$(6),e.JRh(t.data.phone_pomoter),e.R7$(6),e.JRh(t.data.email),e.R7$(6),e.JRh(t.data.phone),e.R7$(10),e.JRh(null==t.data.type_cape?null:t.data.type_cape.name),e.R7$(6),e.JRh(t.data.name),e.R7$(6),e.JRh(t.data.name_chief),e.R7$(6),e.JRh(t.data.phone_chief),e.R7$(7),e.Y8G("ngForOf",t.getJson(t.data.target)),e.R7$(10),e.JRh(null==t.data.district||null==t.data.district.municipality||null==t.data.district.municipality.department?null:t.data.district.municipality.department.name),e.R7$(6),e.JRh(null==t.data.district||null==t.data.district.municipality?null:t.data.district.municipality.name),e.R7$(6),e.JRh(null==t.data.district?null:t.data.district.name),e.R7$(6),e.JRh(t.data.address),e.R7$(16),e.Y8G("ngForOf",t.data.files)}}function Wl(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",32)(1,"div",46)(2,"div",47)(3,"dl")(4,"dt"),e.EFF(5,"Nom de l'enqu\xeateur"),e.k0s(),e.j41(6,"dd"),e.EFF(7),e.k0s()()(),e.j41(8,"div",47)(9,"dl")(10,"dt"),e.EFF(11,"Observation sur l'enqu\xeate"),e.k0s(),e.j41(12,"dd"),e.EFF(13),e.k0s()()(),e.j41(14,"div",47)(15,"dl")(16,"dt"),e.EFF(17,"Date de l'enqu\xeate"),e.k0s(),e.j41(18,"dd"),e.EFF(19),e.nI1(20,"date"),e.k0s()()(),e.j41(21,"div",47)(22,"dl")(23,"dt"),e.EFF(24,"Fiche de l'enqu\xeate sociale"),e.k0s(),e.j41(25,"dd")(26,"button",53),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.showFileCpsFile())}),e.EFF(27,"Voir document"),e.k0s()()()()()()}if(2&i){const t=e.XpG(2);e.R7$(7),e.JRh(t.data.social_investigator_name),e.R7$(6),e.JRh(t.data.social_investigator_observation),e.R7$(6),e.JRh(e.i5U(20,3,t.data.social_investigator_date,"shortDate"))}}function Hl(i,r){if(1&i&&(e.qex(0),e.DNE(1,ql,19,9,"ng-container",10),e.DNE(2,Jl,114,16,"div",11),e.DNE(3,Wl,28,6,"div",30),e.bVm()),2&i){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",null!=t.data),e.R7$(1),e.Y8G("ngIf",null!=t.data),e.R7$(1),e.Y8G("ngIf",null==t.data?null:t.data.has_cps_file)}}function Ql(i,r){if(1&i){const t=e.RV6();e.qex(0,42),e.j41(1,"div",54)(2,"div",32)(3,"button",55),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.back())}),e.EFF(4,"Fermer le visualiseur"),e.k0s()(),e.nrm(5,"div",32),e.k0s(),e.nrm(6,"object",56),e.bVm()}if(2&i){const t=e.XpG();e.R7$(6),e.Y8G("data",t.url,e.f$h)}}function Kl(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",57,58),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.storeAvis(s.value))}),e.j41(2,"div",59)(3,"h6",60),e.EFF(4,"Avis dossier"),e.k0s(),e.j41(5,"button",61),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(6,"i",62),e.k0s()(),e.j41(7,"div",63)(8,"div",64)(9,"label",65),e.EFF(10,"Saisissez votre avis"),e.k0s(),e.nrm(11,"textarea",66),e.k0s(),e.j41(12,"div",64)(13,"label",65),e.EFF(14,"Note "),e.j41(15,"span",67),e.EFF(16),e.k0s()(),e.nrm(17,"input",68),e.k0s()(),e.j41(18,"div",69)(19,"button",70),e.EFF(20,"Sauvegarder "),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(16),e.SpI("(Note: ",n.requete_file.file.max_note,")"),e.R7$(1),e.Y8G("max",n.requete_file.file.max_note),e.R7$(2),e.Y8G("disabled",t.invalid||n.loading)}}function Zl(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",57,58),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.updateAvis(s.value))}),e.j41(2,"div",59)(3,"h6",60),e.EFF(4,"Avis dossier"),e.k0s(),e.j41(5,"button",61),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.nrm(6,"i",62),e.k0s()(),e.j41(7,"div",63)(8,"div",64)(9,"label",65),e.EFF(10,"Saisissez votre avis"),e.k0s(),e.j41(11,"textarea",71),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myAvis.observation=s)}),e.k0s()(),e.j41(12,"div",64)(13,"label",65),e.EFF(14,"Note "),e.j41(15,"span",67),e.EFF(16),e.k0s()(),e.j41(17,"input",72),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myAvis.note=s)}),e.k0s()()(),e.j41(18,"div",69)(19,"button",70),e.EFF(20,"Sauvegarder "),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(11),e.Y8G("ngModel",n.myAvis.observation),e.R7$(5),e.SpI("(Note: ",n.requete_file.file.max_note,")"),e.R7$(1),e.Y8G("max",n.requete_file.file.max_note)("ngModel",n.myAvis.note),e.R7$(2),e.Y8G("disabled",t.invalid||n.loading)}}function ec(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",78),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.showDetails(o))}),e.j41(1,"h6")(2,"small")(3,"strong"),e.EFF(4),e.k0s(),e.EFF(5),e.nI1(6,"date"),e.k0s()(),e.j41(7,"p"),e.EFF(8),e.k0s(),e.j41(9,"p",79)(10,"b"),e.EFF(11,"Note : "),e.k0s(),e.EFF(12),e.k0s()()}if(2&i){const t=r.$implicit,n=e.XpG(2);e.R7$(4),e.Lme("",null==t.sm||null==t.sm.member?null:t.sm.member.firstname," ",null==t.sm||null==t.sm.member?null:t.sm.member.lastname,""),e.R7$(1),e.SpI(" , le ",e.i5U(6,6,t.created_at,"dd-MM-yyyy HH:MM:SS")," "),e.R7$(3),e.JRh(t.observation),e.R7$(4),e.Lme(" ",t.note," /",n.note.total,"")}}function tc(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",73)(1,"h4",74),e.EFF(2,"Avis sur le dossier"),e.k0s(),e.j41(3,"button",75),e.bIt("click",function(){const o=e.eBV(t).$implicit;return e.Njj(o.dismiss("Cross click"))}),e.k0s()(),e.j41(4,"div",76)(5,"h4")(6,"b"),e.EFF(7,"Note globale :"),e.k0s(),e.EFF(8),e.j41(9,"b"),e.EFF(10),e.k0s()(),e.DNE(11,ec,13,9,"div",77),e.k0s()}if(2&i){const t=e.XpG();e.R7$(8),e.SpI(" ",t.note.max," / "),e.R7$(2),e.JRh(t.note.total),e.R7$(1),e.Y8G("ngForOf",t.avis)}}function nc(i,r){if(1&i&&(e.j41(0,"div",98)(1,"p"),e.EFF(2),e.k0s()()),2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.observation)}}function ic(i,r){if(1&i){const t=e.RV6();e.qex(0),e.nrm(1,"hr"),e.j41(2,"h6"),e.EFF(3,"Liste des recommandations"),e.k0s(),e.DNE(4,nc,3,1,"div",93),e.j41(5,"form",57,94),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(6),o=e.XpG(2);return e.Njj(o.onAdd(s.value,s))}),e.j41(7,"div",95),e.nrm(8,"input",96),e.j41(9,"button",97),e.EFF(10,"Ajouter une recommandation"),e.k0s()()(),e.bVm()}if(2&i){const t=e.sdS(6),n=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",n.decisions),e.R7$(5),e.Y8G("disabled",t.invalid)}}function sc(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",57,80),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.finish(s.value))}),e.j41(2,"div",59)(3,"h6",81),e.EFF(4,"Cl\xf4ture de dossier"),e.k0s(),e.j41(5,"button",75),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",63)(7,"div",82)(8,"div",83)(9,"label",65),e.EFF(10,"D\xe9cision"),e.k0s(),e.j41(11,"select",84),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.decision=s)}),e.j41(12,"option",85),e.EFF(13,"Rejet\xe9"),e.k0s(),e.j41(14,"option",86),e.EFF(15,"Favorable sous r\xe9serve"),e.k0s(),e.j41(16,"option",87),e.EFF(17,"Favorable provisoire"),e.k0s()()(),e.j41(18,"div",88)(19,"label",65),e.EFF(20,"Observation "),e.j41(21,"span",89),e.EFF(22,"(*)"),e.k0s()(),e.nrm(23,"textarea",90),e.k0s(),e.DNE(24,ic,11,2,"ng-container",10),e.k0s()(),e.j41(25,"div",69)(26,"button",91),e.EFF(27,"Enregistrer "),e.nrm(28,"app-loading",92),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(11),e.Y8G("ngModel",n.decision),e.R7$(13),e.Y8G("ngIf",1==n.decision||2==n.decision),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function oc(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",106),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(33);return e.Njj(s.open2(o))}),e.EFF(1,"Modifier ma r\xe9ponse"),e.k0s()}}function rc(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",107),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(31);return e.Njj(s.openFinished(o))}),e.EFF(1,"Finaliser le traitement"),e.k0s()}}function ac(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"input",108),e.bIt("ngModelChange",function(s){const l=e.eBV(t).$implicit;return e.Njj(l.note=s)})("change",function(s){const o=e.eBV(t),l=o.$implicit,p=o.index,g=e.XpG(2);return e.Njj(g.changeAlert(s,l.note_max,p))}),e.k0s(),e.nrm(7,"br"),e.j41(8,"span",109)(9,"b"),e.EFF(10),e.k0s()()(),e.j41(11,"td")(12,"input",110),e.bIt("ngModelChange",function(s){const l=e.eBV(t).$implicit;return e.Njj(l.observation=s)}),e.k0s()()()}if(2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.JRh(n+1),e.R7$(2),e.JRh(t.name),e.R7$(2),e.ZvI("form-control-sm ",t.alert?"border border-danger border-start-0":"border  border-dark",""),e.Y8G("max",t.note_max)("ngModel",t.note),e.R7$(4),e.SpI("max: ",t.note_max,""),e.R7$(2),e.Y8G("ngModel",t.observation)}}function lc(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",73)(1,"div",99)(2,"h4",74),e.EFF(3,"Grille de notation"),e.k0s(),e.DNE(4,oc,2,0,"button",100),e.DNE(5,rc,2,0,"button",101),e.k0s(),e.j41(6,"button",102),e.bIt("click",function(){const o=e.eBV(t).$implicit;return e.Njj(o.dismiss("Cross click"))}),e.k0s()(),e.j41(7,"div",103)(8,"table",104)(9,"thead",105)(10,"tr")(11,"th"),e.EFF(12,"#"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Crit\xe8re d'\xe9valuation"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Notes sur"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Commentaire"),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,ac,13,9,"tr",48),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",0!=(null==t.data?null:t.data.session.is_active)&&null!=(null==t.data?null:t.data.my_avis)),e.R7$(1),e.Y8G("ngIf",0!=(null==t.data?null:t.data.session.is_active)&&null==(null==t.data?null:t.data.my_avis)),e.R7$(15),e.Y8G("ngForOf",t.elements)}}function cc(i,r){if(1&i){const t=e.RV6();e.j41(0,"li",114),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.showFile3(o.url))}),e.EFF(1),e.k0s()}if(2&i){const t=r.$implicit;e.R7$(1),e.JRh(t.name)}}function dc(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",73)(1,"button",111),e.bIt("click",function(){const o=e.eBV(t).$implicit;return e.Njj(o.dismiss("Cross click"))}),e.k0s()(),e.j41(2,"div",103)(3,"ul",112),e.DNE(4,cc,2,1,"li",113),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.filesForTreatment)}}function mc(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()()),2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.JRh(n+1),e.R7$(2),e.JRh(t.name),e.R7$(2),e.Lme("",t.note," /",t.note_max,""),e.R7$(2),e.JRh(t.observation)}}function _c(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",73)(1,"button",111),e.bIt("click",function(){const o=e.eBV(t).$implicit;return e.Njj(o.dismiss("Cross click"))}),e.k0s()(),e.j41(2,"div",103)(3,"table",104)(4,"thead")(5,"th"),e.EFF(6,"#"),e.k0s(),e.j41(7,"th"),e.EFF(8,"El\xe9ment"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Note sur"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Commentaire"),e.k0s()(),e.j41(13,"tbody"),e.DNE(14,mc,9,5,"tr",48),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(14),e.Y8G("ngForOf",t.detail)}}function uc(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",73)(1,"button",102),e.bIt("click",function(){const o=e.eBV(t).$implicit;return e.Njj(o.dismiss("Cross click"))}),e.k0s()(),e.j41(2,"div",103),e.nrm(3,"ngx-extended-pdf-viewer",115),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("src",t.pdfSrc)}}function pc(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",57,80),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.storeResponse(s.value))}),e.j41(2,"div",116)(3,"h6",117),e.EFF(4,"Finalisation de votre \xe9tude"),e.k0s(),e.j41(5,"button",75),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",63)(7,"div",118)(8,"b"),e.EFF(9),e.k0s()(),e.j41(10,"div",82)(11,"div",119)(12,"label",65),e.EFF(13,"Observation g\xe9n\xe9rale"),e.k0s(),e.nrm(14,"textarea",120),e.k0s()()(),e.j41(15,"div",69)(16,"button",91),e.EFF(17,"Sauvegarder"),e.nrm(18,"app-loading",92),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(9),e.SpI(" A la suite de votre \xe9tude de dossier, ce dossier obtient la note de ",n.getFolderNote(),""),e.R7$(7),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function hc(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",57,80),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.updateResponse(s.value))}),e.j41(2,"div",116)(3,"h6",117),e.EFF(4,"D\xe9cision finale du membre"),e.k0s(),e.j41(5,"button",75),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",63)(7,"div",118)(8,"b"),e.EFF(9),e.k0s()(),e.j41(10,"div",82)(11,"div",119)(12,"label",65),e.EFF(13,"Observation "),e.k0s(),e.j41(14,"textarea",121),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.data.my_avis.observation=s)}),e.k0s()()()(),e.j41(15,"div",69)(16,"button",91),e.EFF(17,"Sauvegarder"),e.nrm(18,"app-loading",92),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(9),e.SpI(" A la suite de votre modification de traitement du dossier, ce dossier obtient la note de ",n.getFolderNote(),""),e.R7$(5),e.Y8G("ngModel",n.data.my_avis.observation),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}let bc=(()=>{class i{constructor(t,n,s,o,l,p,g,j,C,$,P,O,Ou,zu){this.reqService=t,this.cfeService=n,this.avisService=s,this.toastrService=o,this.formBuilder=l,this.lsService=g,this.router=j,this.activatedRoute=C,this._sanitizationService=$,this.responseService=P,this.offcanvasService=Ou,this.modalService=zu,this.pdfSrc="https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf",this.showPreview=!1,this.canSetAvis=!0,this.is_signed=!1,this.loading=!1,this.avis=[],this.filesForTreatment=[],this.elements=[],this.decisions=[],this.formInfoHolder=[],this.isSessionFile=!1,this.note={max:0,total:0},this.note2={max:0,total:0},this.note3={max:0,total:0},p.backdrop="static",p.keyboard=!1,O.position="end",O.backdropClass="bg-dark",O.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.init()}init(){this.filesForTreatment=[],this.note2.max=0,this.note3.max=0,this.reqService.get2(this.code).subscribe(t=>{if(this.data=t,this.acteUrl=m.w.toFile("sessions/"+this.data.session.filename),"member"==this.role&&(this.note3.max+=this.data.my_avis?.note),this.data.session?.is_active){let o=0;this.data.avis.forEach(l=>o+=l.note),this.note2.max+=o/this.data.avis.length}t.files.forEach(o=>{this.filesForTreatment.push({name:o.file?.name,url:m.w.toFile("docs/"+this.data.code+"/"+o.filename)})});let n=this.data.files2.find(o=>"Enqu\xeate sociale"==o.reference)?.filename,s=m.w.toFile("docs/"+this.data.code+"/"+n);this.filesForTreatment.push({name:"Enqu\xeate sociale",url:s}),this.getElements(this.data.service_id),console.log(this.note3)},t=>{})}getElements(t){this.elements=[],this.note.total=0,this.note2.total=0,this.note3.total=0,this.cfeService.getAllActives(t).subscribe(n=>{n.data.forEach((s,o)=>{this.elements.push({name:s.name,note_max:s.note_max,note:null,observation:"",alert:!1}),"member"==this.role&&(this.note3.total+=s.note_max),this.note2.total+=s.note_max,this.note.total+=s.note_max})},n=>{})}getJson(t){return null==t?[]:JSON.parse(t)}showFileCpsFile(){let t=this.data.files2.find(s=>"Enqu\xeate sociale"==s.reference)?.filename,n=m.w.toFile("docs/"+this.data.code+"/"+t);this.url=this._sanitizationService.bypassSecurityTrustResourceUrl(n),this.showPreview=!0}open2(t){this.modalService.open(t,{size:"lg"})}decide(){this.data?.my_avis&&(this.elements=[],JSON.parse(this.data?.my_avis?.treatment).forEach((n,s)=>{this.elements.push({name:n.name,note_max:n.note_max,note:n.note,alert:!1,observation:n.observation})})),this.offcanvasService.open(this.contentFiche,{panelClass:"details-panel2",position:"start"}),this.offcanvasService.open(this.contentFiles,{panelClass:"details-panel2",position:"end"})}showDetails(t){this.detail=JSON.parse(t?.treatment),this.offcanvasService.open(this.contentDetail,{panelClass:"details-panel2",position:"start"})}updateResponse(t){let n=new FormData;for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.append(o,t[o]);let s=0;this.elements.forEach(o=>s+=o.note),n.append("note",s),n.append("treatment",JSON.stringify(this.elements)),console.log(s,this.elements),this.loading=!0,this.avisService.update(this.data?.my_avis?.id,n).subscribe(o=>{this.loading=!1,this.modalService.dismissAll();let l=document.getElementById("closePDFBtn"),p=document.getElementById("closeFicheBtn");this.init(),l?.click(),p?.click(),this.toastrService.success("Votre \xe9l\xe9ment de r\xe9ponse a \xe9t\xe9 sauvegard\xe9 avec succ\xe8s")},o=>{this.loading=!1})}openFinished(t){if(this.elements.filter(s=>null==s.note).length>0)return this.elements.forEach(s=>{null==s.response&&(s.alert=!0)}),void this.toastrService.warning("Veuillez remplir toute la fiche svp");this.modalService.open(t,{size:"lg"})}changeAlert(t,n,s){0>t.target.value&&(this.elements[s].note=0),t.target.value>n&&(this.elements[s].note=n),this.elements[s].alert&&(this.elements[s].alert=!1)}storeResponse(t){let n=new FormData;for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.append(o,t[o]);let s=0;this.elements.forEach(o=>s+=o.note),n.append("note",s),n.append("session_member_id",this.user.session_member_id),n.append("requete_id",this.data.id),n.append("treatment",JSON.stringify(this.elements)),this.loading=!0,this.avisService.store(n).subscribe(o=>{this.loading=!1,this.modalService.dismissAll();let l=document.getElementById("closePDFBtn"),p=document.getElementById("closeFicheBtn");this.init(),l?.click(),p?.click(),this.toastrService.success("Votre \xe9l\xe9ment de r\xe9ponse a \xe9t\xe9 sauvegard\xe9 avec succ\xe8s")},o=>{this.loading=!1})}open(t,n){this.avis=n,this.note.max=0,this.avis.forEach(s=>{this.note.max+=s.note}),this.note.max=this.note.max/n.length,this.offcanvasService.open(t,{panelClass:"details-panel2",position:"end"})}showFile(t,n,s){null!=s&&(this.canSetAvis=!1),this.requete_file=n;let o=m.w.toFile("docs/"+this.data.code+"/"+t);this.url=this._sanitizationService.bypassSecurityTrustResourceUrl(o),this.showPreview=!0}showFile2(t){this.isSessionFile=!0;let n=m.w.toFile("sessions/"+t);this.url=this._sanitizationService.bypassSecurityTrustResourceUrl(n),this.showPreview=!0}showFile3(t){this.pdfSrc=t,this.offcanvasService.open(this.contentFilePreview,{panelClass:"details-panel3",position:"bottom"})}back(){this.showPreview=!1,this.isSessionFile=!1}add(t){this.modalService.open(t,{size:"lg"})}add2(t,n){this.myAvis=n,this.modalService.open(t,{size:"lg"})}upload(t){t.target.files.length>0&&(this.fileInput=t.target.files[0])}upload2(t){t.target.files.length>0&&(this.fileInput2=t.target.files[0])}storeAvis(t){t.session_member_id=this.user.session_member_id,this.loading=!0,this.avisService.store(t).subscribe(n=>{c.W.simpleAlert("success","Avis",n?.message),this.loading=!1,this.modalService.dismissAll(),this.init()},n=>{c.W.simpleAlert("error","Transmission",n.error.message),this.loading=!1})}updateAvis(t){this.loading=!0,this.avisService.update(this.myAvis.id,t).subscribe(n=>{c.W.simpleAlert("success","Avis",n?.message),this.loading=!1,this.modalService.dismissAll(),this.back(),this.init()},n=>{c.W.simpleAlert("error","Transmission",n.error.message),this.loading=!1})}finish(t){t.id=this.data.id,t.referals=JSON.stringify(this.decisions),t.note=this.note2.max,this.loading=!0,this.reqService.finish(t).subscribe(n=>{c.W.simpleAlert("success","Cl\xf4ture de dossier",n?.message),this.loading=!1,this.modalService.dismissAll(),this.router.navigate(["/admin/sessions"])},n=>{c.W.simpleAlert("error","Cl\xf4ture de dossier",n.error.message),this.loading=!1})}onAdd(t,n){this.decisions.push({observation:t.observation}),console.log(this.decisions),n.resetForm()}deleteLine(t){this.formInfoHolder.splice(t,1)}setCorrectvalue(t,n,s){alert(),0>t.target.value&&(this.elements[s].note=0),t.target.value>n&&(this.elements[s].note=n)}getFolderNote(){let t=0,n=0;return this.elements.forEach(s=>{t+=s.note,n+=s.note_max}),`${t}/${n}`}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(x.t),e.rXU(de),e.rXU(Rl),e.rXU(f.tw),e.rXU(a.ok),e.rXU(_.LY),e.rXU(b.s),e.rXU(h.Ix),e.rXU(h.nX),e.rXU(R.up),e.rXU(B),e.rXU(_.VF),e.rXU(_.RS),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-session-request-show"]],viewQuery:function(n,s){if(1&n&&(e.GBs(Il,5),e.GBs(Tl,5),e.GBs(Gl,5),e.GBs($l,5)),2&n){let o;e.mGM(o=e.lsd())&&(s.contentFiles=o.first),e.mGM(o=e.lsd())&&(s.contentFiche=o.first),e.mGM(o=e.lsd())&&(s.contentDetail=o.first),e.mGM(o=e.lsd())&&(s.contentFilePreview=o.first)}},decls:34,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],["class","ms-auto",4,"ngIf"],[4,"ngIf"],["class","container",4,"ngIf"],["backContent",""],["backContentM",""],["id","myCanvas"],["content",""],["addContent",""],["contentFiche",""],["contentFiles",""],["contentDetail",""],["contentFilePreview",""],["contentFinish",""],["contentR",""],[1,"ms-auto"],["type","button","class","btn btn-danger px-5 rounded-0",3,"click",4,"ngIf"],["type","button","class","btn btn-primary px-5 rounded-0",3,"click",4,"ngIf"],["class","btn btn-primary px-5 rounded-0",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","px-5","rounded-0",3,"click"],["type","button",1,"btn","btn-primary","px-5","rounded-0",3,"click"],[1,"btn","btn-primary","px-5","rounded-0",3,"click"],["class","",4,"ngIf"],[1,"container","d-flex","justify-content-between"],[1,""],["class"," text-white d-flex justify-content-between bg-danger p-1",4,"ngIf"],["class"," text-white d-flex justify-content-between bg-secondary p-1",4,"ngIf"],["class"," text-white d-flex justify-content-between bg-success p-1",4,"ngIf"],[1,"align-self-center"],[1,"btn","btn-sm","btn-outline-dark",3,"click"],[1,"d-flex","flex-column"],[1,"text-white","d-flex","justify-content-between","bg-danger","p-1"],[1,"text-white","d-flex","justify-content-between","bg-secondary","p-1"],[1,"text-white","d-flex","justify-content-between","bg-success","p-1"],[1,"container"],[1,"mb-3"],[1,"fa","fa-chevron-right","fw-bold","me-3"],[1,"bg-secondary","text-white"],[1,"row"],[1,"col-6"],[4,"ngFor","ngForOf"],[1,"mb-5"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"btn-sm","btn-dark",3,"click"],[1,"btn","btn-sm","btn-dark",3,"click"],[1,"d-flex","justify-content-around"],[1,"btn","btn-dark","mb-3","btn-sm",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],[3,"ngSubmit"],["addSusp","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"text-white"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group","mb-3","mb-5"],["for",""],["name","observation","ngModel","",1,"form-control"],[1,"mx-1","text-warning"],["type","number","name","note","min","0","ngModel","","required","",1,"form-control",3,"max"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],["name","observation",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","note","min","0","required","",1,"form-control",3,"max","ngModel","ngModelChange"],[1,"offcanvas-header"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body",2,"min-height","80vh","overflow","auto"],["class","bg-light mb-3 p-3","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"bg-light","mb-3","p-3",2,"cursor","pointer",3,"click"],[1,"text-end"],["addForm","ngForm"],["id","modal-basic-title",1,"modal-title","text-white"],[1,"row","mb-3"],[1,"form-group"],["name","decision","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],[1,"form-group","col-12","mb-3"],[1,"text-danger","ml-2"],["name","observation","ngModel","","required","","cols","30","rows","3",1,"form-control"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["class","bg-light mb-1",4,"ngFor","ngForOf"],["refForm","ngForm"],[1,"input-group","mb-3"],["type","text","name","observation","required","","ngModel","",1,"form-control"],["type","submit","id","button-addon2",1,"btn","btn-sm","btn-outline-secondary",3,"disabled"],[1,"bg-light","mb-1"],[1,"d-flex","justify-content-between"],["type","button","class","btn btn-warning px-5 rounded-0 text-white",3,"click",4,"ngIf"],["class","btn btn-sm btn-primary",3,"click",4,"ngIf"],["id","closeFicheBtn","type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[1,"table","table-sm"],[1,"bg-dark","text-white"],["type","button",1,"btn","btn-warning","px-5","rounded-0","text-white",3,"click"],[1,"btn","btn-sm","btn-primary",3,"click"],["type","number","min","0","name","note",3,"max","ngModel","ngModelChange","change"],[1,"helper-text","text-info"],["type","text","name","observation",1,"form-control",3,"ngModel","ngModelChange"],["id","closePDFBtn","type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"list-group"],["class","list-group-item","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",2,"cursor","pointer",3,"click"],[2,"width","100%","height","100%",3,"src"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"p-3","text-primary-emphasis","bg-primary-subtle","border","border-primary-subtle","rounded-3","mb-3"],[1,"form-goup","col-12","mb-3"],["name","observation","ngModel","","required","",1,"form-control"],["name","observation","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Contenu du dossier "),e.k0s()()()(),e.DNE(11,Dl,5,4,"div",9),e.k0s(),e.DNE(12,Hl,4,3,"ng-container",10),e.DNE(13,Ql,7,1,"ng-container",11),e.DNE(14,Kl,21,3,"ng-template",null,12,e.C5r),e.DNE(16,Zl,21,5,"ng-template",null,13,e.C5r),e.DNE(18,tc,12,3,"ng-template",14,15,e.C5r),e.DNE(20,sc,29,4,"ng-template",null,16,e.C5r),e.DNE(22,lc,21,3,"ng-template",null,17,e.C5r),e.DNE(24,dc,5,1,"ng-template",null,18,e.C5r),e.DNE(26,_c,15,1,"ng-template",null,19,e.C5r),e.DNE(28,uc,4,1,"ng-template",null,20,e.C5r),e.DNE(30,pc,19,3,"ng-template",null,21,e.C5r),e.DNE(32,hc,19,4,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(11),e.Y8G("ngIf",null!=s.data),e.R7$(1),e.Y8G("ngIf",!s.showPreview),e.R7$(1),e.Y8G("ngIf",s.showPreview))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.Q0,a.wz,a.BC,a.cb,a.YS,a.VZ,a.zX,a.vS,a.cV,u.QX,u.vh],styles:[".details-panel{width:70%!important}.details-panel2{width:50%!important}.details-panel3{height:90%!important}.form-check-input-secondary[type=number]{border:2px solid black!important}.form-check-input-danger[type=number]{border:2px solid red!important}\n"],encapsulation:2})}}return i})();var me=F(4786);function gc(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",18)(3,"input",19),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td")(7,"a",20),e.EFF(8,"Ouvrir le dossier "),e.k0s()()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.Y8G("routerLink","/admin/session-request-show/"+t.code)}}let fc=(()=>{class i{constructor(t,n,s,o,l){this.sessionService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.sessionService.getSessionRequest().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.sessionService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Session",n.error.message)})}update(t){this.loading=!0,this.sessionService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Session",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.sessionService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Session",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.sessionService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Session",n.error.message)})}openDir(){}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(me.J),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-session-request"]],decls:29,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[1,"btn","btn-sm","btn-primary",3,"routerLink"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des dossiers incrists"),e.k0s()()()()(),e.j41(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"p"),e.EFF(16),e.k0s(),e.j41(17,"div",13)(18,"table",14)(19,"thead",15)(20,"tr")(21,"th",16),e.EFF(22,"#"),e.k0s(),e.j41(23,"th"),e.EFF(24,"CAPE"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Action"),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,gc,9,2,"tr",17),e.k0s()()()()()()()),2&n&&(e.R7$(16),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,h.Wk]})}}return i})();function vc(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(23);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Fc(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),o=e.sdS(17);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function kc(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function jc(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",41),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.setStatus(1))}),e.EFF(1," Ouvrir"),e.k0s()}}function Ec(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.setStatus(0))}),e.EFF(1," Cl\xf4turer"),e.k0s()}}function Cc(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",31)(1,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(15);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter une session"),e.k0s(),e.DNE(3,vc,3,0,"button",33),e.DNE(4,Fc,2,0,"button",34),e.DNE(5,kc,2,0,"button",35),e.DNE(6,jc,2,0,"button",36),e.DNE(7,Ec,2,0,"button",35),e.j41(8,"button",37),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(19);return e.Njj(s.show(o))}),e.EFF(9," Affecter des membres \xe0 la session"),e.k0s(),e.j41(10,"button",37),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(21);return e.Njj(s.show(o))}),e.EFF(11," Inscrire les dossiers \xe0 la session"),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null==t.is_active),e.R7$(1),e.Y8G("ngIf",t.is_active)}}function Sc(i,r){1&i&&(e.j41(0,"span",47),e.EFF(1,"En attente"),e.k0s())}function xc(i,r){1&i&&(e.j41(0,"span",48),e.EFF(1,"Ouvert"),e.k0s())}function yc(i,r){1&i&&(e.j41(0,"span",49),e.EFF(1,"Ferm\xe9"),e.k0s())}function Rc(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr"),e.nrm(1,"td"),e.j41(2,"td")(3,"div",42)(4,"input",43),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(5,"td",26),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.nI1(9,"date"),e.k0s(),e.j41(10,"td"),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"td"),e.DNE(14,Sc,2,0,"span",44),e.DNE(15,xc,2,0,"span",45),e.DNE(16,yc,2,0,"span",46),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(6),e.SpI(" ",t.name,""),e.R7$(2),e.JRh(e.i5U(9,6,t.date_start,"shortDate")),e.R7$(3),e.JRh(e.i5U(12,9,t.date_end,"shortDate")),e.R7$(3),e.Y8G("ngIf",null==t.is_active),e.R7$(1),e.Y8G("ngIf",1==t.is_active),e.R7$(1),e.Y8G("ngIf",0==t.is_active)}}function Ic(i,r){if(1&i){const t=e.RV6();e.j41(0,"i",54),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.setStatutMember(s.id,1))}),e.k0s()}}function Tc(i,r){if(1&i){const t=e.RV6();e.j41(0,"i",55),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.setStatutMember(s.id,0))}),e.k0s()}}function Gc(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"div",50),e.DNE(7,Ic,1,0,"i",51),e.DNE(8,Tc,1,0,"i",52),e.j41(9,"i",53),e.bIt("click",function(){const s=e.eBV(t),o=s.$implicit,l=s.index,p=e.XpG(2);return e.Njj(p.removeMember(o.id,l))}),e.k0s()()()()}if(2&i){const t=r.$implicit,n=r.index,s=e.XpG(2);e.R7$(2),e.JRh(n+1),e.R7$(2),e.Lme("",null==t.member?null:t.member.lastname," ",null==t.member?null:t.member.firstname,""),e.R7$(3),e.Y8G("ngIf",s.selected_data.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",s.selected_data.is_active&&t.is_active)}}function $c(i,r){if(1&i){const t=e.RV6();e.j41(0,"i",53),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=s.$implicit,l=s.index,p=e.XpG(2);return e.Njj(p.removeRequete(o.id,l))}),e.k0s()}}function Nc(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"div",50),e.DNE(7,$c,1,0,"i",56),e.j41(8,"a",57),e.EFF(9,"Ouvrir le dossier "),e.k0s()()()()),2&i){const t=r.$implicit,n=r.index,s=e.XpG(2);e.R7$(2),e.JRh(n+1),e.R7$(2),e.Lme("",t.name," ",t.name,""),e.R7$(3),e.Y8G("ngIf",!s.selected_data.is_active),e.R7$(1),e.Y8G("routerLink","/admin/session-request-show/"+t.code)}}function wc(i,r){if(1&i&&(e.qex(0,16),e.j41(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20)(5,"h6",21),e.EFF(6,"Sessions"),e.k0s()(),e.j41(7,"div",22),e.DNE(8,Cc,12,5,"div",23),e.j41(9,"p"),e.EFF(10),e.k0s(),e.j41(11,"div",24)(12,"table",25)(13,"thead",26)(14,"tr")(15,"th",27),e.EFF(16,"#"),e.k0s(),e.j41(17,"th",27),e.nrm(18,"i",28),e.k0s(),e.j41(19,"th"),e.EFF(20,"Libell\xe9"),e.k0s(),e.j41(21,"th"),e.EFF(22,"Date d\xe9but"),e.k0s(),e.j41(23,"th"),e.EFF(24,"Date Fin"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Statut"),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,Rc,17,12,"tr",29),e.k0s()()()()()()(),e.j41(29,"div",17)(30,"div",18)(31,"div",19)(32,"div",20)(33,"h6",21),e.EFF(34,"Membres"),e.k0s()(),e.j41(35,"div",22)(36,"table",30)(37,"thead")(38,"th"),e.EFF(39,"#"),e.k0s(),e.j41(40,"th"),e.EFF(41,"Identit\xe9"),e.k0s(),e.j41(42,"th"),e.EFF(43,"Action"),e.k0s()(),e.j41(44,"tbody"),e.DNE(45,Gc,10,5,"tr",29),e.k0s()()()()()(),e.j41(46,"div",17)(47,"div",18)(48,"div",19)(49,"div",20)(50,"h6",21),e.EFF(51,"Dossiers inscrits"),e.k0s()(),e.j41(52,"div",22)(53,"table",30)(54,"thead")(55,"th"),e.EFF(56,"#"),e.k0s(),e.j41(57,"th"),e.EFF(58,"cape"),e.k0s(),e.j41(59,"th"),e.EFF(60,"Actions"),e.k0s()(),e.j41(61,"tbody"),e.DNE(62,Nc,10,5,"tr",29),e.k0s()()()()()(),e.bVm()),2&i){const t=e.XpG();e.R7$(8),e.Y8G("ngIf",t.buttonsPermission),e.R7$(2),e.SpI("",t.data.length," \xe9l\xe9ment(s)"),e.R7$(18),e.Y8G("ngForOf",t.data),e.R7$(17),e.Y8G("ngForOf",t.members),e.R7$(17),e.Y8G("ngForOf",t.requetes)}}function Vc(i,r){if(1&i){const t=e.RV6();e.qex(0,16),e.j41(1,"div",58)(2,"button",59),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.back())}),e.EFF(3,"Fermer le visualiseur"),e.k0s()(),e.nrm(4,"object",60),e.bVm()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("data",t.url,e.f$h)}}function Ac(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",61,62),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",63)(3,"h6",64),e.EFF(4,"Cr\xe9er une session"),e.k0s(),e.j41(5,"button",65),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",66)(7,"div",17)(8,"div",67)(9,"label",68),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",69),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",70),e.k0s(),e.j41(14,"div",67)(15,"label",68),e.EFF(16,"Date d\xe9but "),e.j41(17,"span",69),e.EFF(18,"(*)"),e.k0s()(),e.nrm(19,"input",71),e.k0s(),e.j41(20,"div",67)(21,"label",68),e.EFF(22,"Date fin "),e.j41(23,"span",69),e.EFF(24,"(*)"),e.k0s()(),e.nrm(25,"input",72),e.k0s(),e.j41(26,"div",67)(27,"label",68),e.EFF(28,"Note d'accord \xe0 la session "),e.j41(29,"span",69),e.EFF(30,"(*)"),e.k0s()(),e.j41(31,"input",73),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload(s))}),e.k0s()()()(),e.j41(32,"div",74)(33,"button",75),e.EFF(34,"Cr\xe9er "),e.nrm(35,"app-loading",76),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(33),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Dc(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",61,77),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",63)(3,"h6",64),e.EFF(4,"Modifier une session"),e.k0s(),e.j41(5,"button",65),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",66)(7,"div",17)(8,"div",67)(9,"label",68),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",69),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",78),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()(),e.j41(14,"div",67)(15,"label",68),e.EFF(16,"Date d\xe9but "),e.j41(17,"span",69),e.EFF(18,"(*)"),e.k0s()(),e.j41(19,"input",79),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.date_start=s)}),e.k0s()(),e.j41(20,"div",67)(21,"label",68),e.EFF(22,"Date fin "),e.j41(23,"span",69),e.EFF(24,"(*)"),e.k0s()(),e.j41(25,"input",80),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.date_end=s)}),e.k0s()(),e.j41(26,"div",67)(27,"label",68),e.EFF(28,"Acte d'ouverture de la session "),e.j41(29,"span",69),e.EFF(30,"(*)"),e.k0s()(),e.j41(31,"input",81),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload(s))}),e.k0s()()()(),e.j41(32,"div",74)(33,"button",75),e.EFF(34,"Sauvegarder "),e.nrm(35,"app-loading",76),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(6),e.Y8G("ngModel",n.selected_data.date_start),e.R7$(6),e.Y8G("ngModel",n.selected_data.date_end),e.R7$(8),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Xc(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",61,77),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.storeDistricts(s.value))}),e.j41(2,"div",63)(3,"h6",64),e.EFF(4,"Affeter des membres \xe0 la session"),e.k0s(),e.j41(5,"button",65),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",66)(7,"div",82)(8,"label",68),e.EFF(9,"Choix des membres"),e.k0s()()(),e.j41(10,"div",74)(11,"button",75),e.EFF(12,"Affecter "),e.nrm(13,"app-loading",76),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(11),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Mc(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",61,77),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.storeRequetes(s.value))}),e.j41(2,"div",63)(3,"h6",64),e.EFF(4,"Inscrire des dossiers \xe0 la session"),e.k0s(),e.j41(5,"button",65),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",66)(7,"div",82)(8,"label",68),e.EFF(9,"Choix des dossiers"),e.k0s(),e.j41(10,"angular2-multiselect",83),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selectedItems2=s)})("onSelect",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.onItemSelect(s))})("onDeSelect",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.OnItemDeSelect(s))})("onSelectAll",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.onSelectAll(s))})("onDeSelectAll",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.onDeSelectAll(s))}),e.k0s()()(),e.j41(11,"div",74)(12,"button",75),e.EFF(13,"Affecter "),e.nrm(14,"app-loading",76),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(10),e.Y8G("data",n.dropdownList2)("ngModel",n.selectedItems2)("settings",n.dropdownSettings2),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Yc(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",84)(1,"h6",64),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",65),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",66)(5,"div",85)(6,"table",86)(7,"tbody")(8,"tr")(9,"td",87),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",87),e.EFF(15,"Date d\xe9but "),e.k0s(),e.j41(16,"td"),e.EFF(17),e.nI1(18,"date"),e.k0s()(),e.j41(19,"tr")(20,"td",87),e.EFF(21,"Date fin"),e.k0s(),e.j41(22,"td"),e.EFF(23),e.nI1(24,"date"),e.k0s()(),e.j41(25,"tr")(26,"td",87),e.EFF(27,"Ouvrir l'acte d'ouverture"),e.k0s(),e.j41(28,"td")(29,"button",88),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.showFile(s.selected_data.filename))}),e.EFF(30,"Ouvrir"),e.k0s()()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," "),e.R7$(5),e.SpI("",e.i5U(18,3,t.selected_data.date_start,"shortDate")," "),e.R7$(6),e.SpI("",e.i5U(24,6,t.selected_data.date_end,"shortDate")," ")}}let Bc=(()=>{class i{constructor(t,n,s,o,l,p,g,j){this.sessionService=t,this.memberService=n,this.reqService=s,this.toastrService=o,this.lsService=p,this._sanitizationService=g,this.modalService=j,this.structures=[],this.data=[],this.isDtInitialized=!1,this.loading=!1,this.members=[],this.membersAll=[],this.requetes=[],this.requetesAll=[],this.dropdownList=[],this.selectedItems=[],this.dropdownSettings={},this.dropdownList2=[],this.selectedItems2=[],this.dropdownSettings2={},this.showPreview=!1,l.backdrop="static",l.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0},this.dropdownSettings={singleSelection:!1,text:"Selectionnez les membres",selectAllText:"Tous coch\xe9s",unSelectAllText:"D\xe9cochez tous",enableSearchFilter:!0,classes:"myclass custom-class"},this.dropdownSettings2={singleSelection:!1,text:"Selectionnez les dossiers",selectAllText:"Tous coch\xe9s",unSelectAllText:"D\xe9cochez tous",enableSearchFilter:!0,classes:"myclass custom-class"}}init(){this.getAll(),this.getMembers(),this.getRequetes()}getAll(){this.sessionService.getAll().subscribe(t=>{this.data=t.data,this.selectedItems=[],this.selectedItems2=[],this.dropdownList=[],this.dropdownList2=[],this.modalService.dismissAll()},t=>{})}getMembers(){this.memberService.getAll().subscribe(t=>{this.membersAll=t.data},t=>{})}getRequetes(){this.reqService.getByInstance("admissible").subscribe(t=>{this.requetesAll=t},t=>{})}upload(t){t.target.files.length>0&&(this.fileInput=t.target.files[0])}store(t){let n=new FormData,s=(0,u.Yq)(t.date_start,"yyyy-MM-dd","en_US"),o=(0,u.Yq)(t.date_end,"yyyy-MM-dd","en_US"),l=new Date(t.date_start).getDay(),p=new Date(t.date_end).getDay();if(o<s)this.toastrService.error("La date fin ne peut \xeatre ant\xe9rieur \xe0 la date d\xe9but ");else if(6!==l&&0!==l&&6!==p&&0!==p)if(null!=this.fileInput){n.append("file",this.fileInput);for(const g in t)Object.prototype.hasOwnProperty.call(t,g)&&n.append(g,t[g]);this.loading=!0,this.sessionService.store(n).subscribe(g=>{this.loading=!1,this.toastrService.success(g.message),this.getAll()},g=>{this.loading=!1,console.log(g),c.W.simpleAlert("error","Session",g.error.message)})}else this.toastrService.error("Veuillez charger la note d'accord de la session");else this.toastrService.error("Veuillez choisir une date de jour ouvr\xe9 ")}update(t){let n=new FormData,s=(0,u.Yq)(t.date_start,"yyyy-MM-dd","en_US"),o=(0,u.Yq)(t.date_end,"yyyy-MM-dd","en_US"),l=new Date(t.date_start).getDay(),p=new Date(t.date_end).getDay();if(o<s)this.toastrService.error("La date fin ne peut \xeatre ant\xe9rieur \xe0 la date d\xe9but ");else if(6!==l&&0!==l&&6!==p&&0!==p){null!=this.fileInput&&n.append("file",this.fileInput);for(const g in t)Object.prototype.hasOwnProperty.call(t,g)&&n.append(g,t[g]);this.loading=!0,this.sessionService.update(this.selected_data.id,t).subscribe(g=>{this.loading=!1,this.toastrService.success(g.message),this.getAll()},g=>{this.loading=!1,console.log(g),c.W.simpleAlert("error","Session",g.error.message)})}else this.toastrService.error("Veuillez choisir une date de jour ouvr\xe9 ")}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.sessionService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Session",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active,this.members=this.selected_data.session_members,this.requetes=this.selected_data.requetes,this.membersAll.forEach(n=>{-1==this.members.findIndex(s=>s.member?.id==n.id)&&this.dropdownList.push({id:n.id,itemName:n.lastname+" "+n.firstname})}),this.requetesAll.forEach(n=>{this.requetes.findIndex(s=>s.id!=n.id)&&this.dropdownList2.push({id:n.id,itemName:n.name})})}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.sessionService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Session",n.error.message)})}storeDistricts(t){this.toastrService.warning("Op\xe9ration en cours"),this.loading=!0,this.sessionService.storeMembers({id:this.selected_data.id,items:JSON.stringify(this.selectedItems)}).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,c.W.simpleAlert("error","Session",n.error.message)})}storeRequetes(t){this.toastrService.warning("Op\xe9ration en cours"),this.loading=!0,this.sessionService.storeRequetes({id:this.selected_data.id,items:JSON.stringify(this.selectedItems2)}).subscribe(n=>{this.loading=!1,this.selectedItems2=[],this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,c.W.simpleAlert("error","Session",n.error.message)})}onItemSelect(t){console.log(t),console.log(this.selectedItems)}OnItemDeSelect(t){console.log(t),console.log(this.selectedItems)}onSelectAll(t){console.log(t)}onDeSelectAll(t){console.log(t)}setStatutMember(t,n){this.toastrService.warning("Op\xe9ration en cours"),this.sessionService.setStatutMember(t,n).subscribe(s=>{this.toastrService.success(s.message),this.members=[],this.init()},s=>{console.log(s),c.W.simpleAlert("error","Session",s.error.message)})}removeMember(t,n){c.W.confirmBox("info","Retrait membre","Voulez vous vraiment retirer cet membre?").then(o=>{o.isConfirmed&&this.sessionService.removeMember(t).subscribe(l=>{this.toastrService.success(l.message),this.members.splice(n,1),this.getAll()},l=>{console.log(l),c.W.simpleAlert("error","Retrait membre",l.error.message)})})}removeRequete(t,n){c.W.confirmBox("info","Retrait dossier","Voulez vous vraiment retirer ce dossier?").then(o=>{o.isConfirmed&&this.sessionService.removeRequete(t).subscribe(l=>{this.toastrService.success(l.message),this.requetes.splice(n,1),this.getAll()},l=>{console.log(l),c.W.simpleAlert("error","Retrait dossier",l.error.message)})})}back(){this.showPreview=!1}showFile(t){this.modalService.dismissAll();let n=m.w.toFile("sessions/"+t);this.url=this._sanitizationService.bypassSecurityTrustResourceUrl(n),this.showPreview=!0}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(me.J),e.rXU(re),e.rXU(x.t),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(R.up),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-session"]],decls:24,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],["class","container",4,"ngIf"],["addContent",""],["editContent",""],["arrContent",""],["sessContent",""],["showContent",""],[1,"container"],[1,"row","mb-3"],[1,"col-lg-12"],[1,"card"],[1,"card-header","cape-bg-green"],[1,"text-white"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[1,"fa","fa-check"],[4,"ngFor","ngForOf"],[1,"table","table-sm","table-bordered"],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-info","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","bg-secondary text-white p-1 rounded",4,"ngIf"],["class","bg-success p-1 rounded text-white",4,"ngIf"],["class","bg-danger p-1 rounded text-white",4,"ngIf"],[1,"bg-secondary","text-white","p-1","rounded"],[1,"bg-success","p-1","rounded","text-white"],[1,"bg-danger","p-1","rounded","text-white"],[1,"d-flex","justify-content-around",2,"cursor","pointer"],["class","fa fa-check text-success",3,"click",4,"ngIf"],["class","fa fa-lock text-secondary",3,"click",4,"ngIf"],[1,"fa","fa-trash","text-danger",3,"click"],[1,"fa","fa-check","text-success",3,"click"],[1,"fa","fa-lock","text-secondary",3,"click"],["class","fa fa-trash text-danger",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","text-white",3,"routerLink"],[1,"d-flex","justify-content-around"],[1,"btn","btn-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],["type","date","name","date_start","ngModel","","required","",1,"form-control"],["type","date","name","date_end","ngModel","","required","",1,"form-control"],["type","file","required","",1,"form-control",3,"change"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","date_start","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","date_end","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","file",1,"form-control",3,"change"],[1,"form-goup"],["name","selectedItems",3,"data","ngModel","settings","ngModelChange","onSelect","onDeSelect","onSelectAll","onDeSelectAll"],[1,"modal-header"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"],[1,"btn","btn-outline-primary","btn-sm",3,"click"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des sessions"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.DNE(12,wc,63,5,"ng-container",10),e.DNE(13,Vc,5,1,"ng-container",10),e.DNE(14,Ac,36,2,"ng-template",null,11,e.C5r),e.DNE(16,Dc,36,5,"ng-template",null,12,e.C5r),e.DNE(18,Xc,14,2,"ng-template",null,13,e.C5r),e.DNE(20,Mc,15,5,"ng-template",null,14,e.C5r),e.DNE(22,Yc,31,9,"ng-template",null,15,e.C5r)),2&n&&(e.R7$(12),e.Y8G("ngIf",!s.showPreview),e.R7$(1),e.Y8G("ngIf",s.showPreview))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV,u.vh]})}}return i})(),qc=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("staffs/")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Uc(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(42);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Pc(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(40);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Oc(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function zc(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function Lc(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function Jc(i,r){if(1&i&&(e.j41(0,"div",24),e.DNE(1,Uc,3,0,"button",25),e.DNE(2,Pc,2,0,"button",26),e.DNE(3,Oc,2,0,"button",27),e.DNE(4,zc,2,0,"button",28),e.DNE(5,Lc,2,0,"button",27),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function Wc(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.Lme("",t.firstname," ",t.lastname,""),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.phone),e.R7$(2),e.JRh(t.job)}}function Hc(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",35,36),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",37)(3,"h6",38),e.EFF(4,"Enregistrer un personnel"),e.k0s(),e.j41(5,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",40)(7,"div",41)(8,"div",42)(9,"label",43),e.EFF(10,"Pr\xe9nom(s) "),e.j41(11,"span",44),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",45),e.k0s(),e.j41(14,"div",42)(15,"label",43),e.EFF(16,"Nom "),e.j41(17,"span",44),e.EFF(18,"(*)"),e.k0s()(),e.nrm(19,"input",46),e.k0s(),e.j41(20,"div",42)(21,"label",43),e.EFF(22,"Date de naissance "),e.j41(23,"span",44),e.EFF(24,"(*)"),e.k0s()(),e.nrm(25,"input",47),e.k0s(),e.j41(26,"div",42)(27,"label",43),e.EFF(28,"Lieu de naissance "),e.j41(29,"span",44),e.EFF(30,"(*)"),e.k0s()(),e.nrm(31,"input",48),e.k0s(),e.j41(32,"div",42)(33,"label",43),e.EFF(34,"Adresse "),e.j41(35,"span",44),e.EFF(36,"(*)"),e.k0s()(),e.nrm(37,"input",49),e.k0s(),e.j41(38,"div",42)(39,"label",43),e.EFF(40,"Contact "),e.j41(41,"span",44),e.EFF(42,"(*)"),e.k0s()(),e.nrm(43,"input",50),e.k0s(),e.j41(44,"div",42)(45,"label",43),e.EFF(46,"Email "),e.j41(47,"span",44),e.EFF(48,"(*)"),e.k0s()(),e.nrm(49,"input",51),e.k0s(),e.j41(50,"div",42)(51,"label",43),e.EFF(52,"Profession "),e.j41(53,"span",44),e.EFF(54,"(*)"),e.k0s()(),e.nrm(55,"input",52),e.k0s()()(),e.j41(56,"div",53)(57,"button",54),e.EFF(58,"Enregistrer "),e.nrm(59,"app-loading",55),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(57),e.Y8G("disabled",t.invalid||n.loading),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Qc(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",35,56),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",37)(3,"h6",38),e.EFF(4,"Modifier un personnel"),e.k0s(),e.j41(5,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",40)(7,"div",41)(8,"div",41)(9,"div",42)(10,"label",43),e.EFF(11,"Pr\xe9nom(s) "),e.j41(12,"span",44),e.EFF(13,"(*)"),e.k0s()(),e.j41(14,"input",57),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.firstname=s)}),e.k0s()(),e.j41(15,"div",42)(16,"label",43),e.EFF(17,"Nom "),e.j41(18,"span",44),e.EFF(19,"(*)"),e.k0s()(),e.j41(20,"input",58),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.lastname=s)}),e.k0s()(),e.j41(21,"div",42)(22,"label",43),e.EFF(23,"Date de naissance "),e.j41(24,"span",44),e.EFF(25,"(*)"),e.k0s()(),e.j41(26,"input",59),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.birthdate=s)}),e.k0s()(),e.j41(27,"div",42)(28,"label",43),e.EFF(29,"Lieu de naissance "),e.j41(30,"span",44),e.EFF(31,"(*)"),e.k0s()(),e.j41(32,"input",60),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.birthplace=s)}),e.k0s()(),e.j41(33,"div",42)(34,"label",43),e.EFF(35,"Adresse "),e.j41(36,"span",44),e.EFF(37,"(*)"),e.k0s()(),e.j41(38,"input",61),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.address=s)}),e.k0s()(),e.j41(39,"div",42)(40,"label",43),e.EFF(41,"Contact "),e.j41(42,"span",44),e.EFF(43,"(*)"),e.k0s()(),e.j41(44,"input",62),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.phone=s)}),e.k0s()(),e.j41(45,"div",42)(46,"label",43),e.EFF(47,"Email "),e.j41(48,"span",44),e.EFF(49,"(*)"),e.k0s()(),e.j41(50,"input",63),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.email=s)}),e.k0s()(),e.j41(51,"div",42)(52,"label",43),e.EFF(53,"Profession "),e.j41(54,"span",44),e.EFF(55,"(*)"),e.k0s()(),e.j41(56,"input",64),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.job=s)}),e.k0s()()()()(),e.j41(57,"div",53)(58,"button",54),e.EFF(59,"Sauvegarder "),e.nrm(60,"app-loading",55),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(14),e.Y8G("ngModel",n.selected_data.firstname),e.R7$(6),e.Y8G("ngModel",n.selected_data.lastname),e.R7$(6),e.Y8G("ngModel",n.selected_data.birthdate),e.R7$(6),e.Y8G("ngModel",n.selected_data.birthplace),e.R7$(6),e.Y8G("ngModel",n.selected_data.address),e.R7$(6),e.Y8G("ngModel",n.selected_data.phone),e.R7$(6),e.Y8G("ngModel",n.selected_data.email),e.R7$(6),e.Y8G("ngModel",n.selected_data.job),e.R7$(2),e.Y8G("disabled",t.invalid||n.loading),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Kc(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",37)(1,"h6",38),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",40)(5,"div",65)(6,"table",66)(7,"tbody")(8,"tr")(9,"td",67),e.EFF(10,"Pr\xe9nom"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",67),e.EFF(15,"Nom"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()(),e.j41(18,"tr")(19,"td",67),e.EFF(20,"Date de naissance"),e.k0s(),e.j41(21,"td"),e.EFF(22),e.nI1(23,"date"),e.k0s()(),e.j41(24,"tr")(25,"td",67),e.EFF(26,"Lieu de naissance"),e.k0s(),e.j41(27,"td"),e.EFF(28),e.k0s()(),e.j41(29,"tr")(30,"td",67),e.EFF(31,"Email"),e.k0s(),e.j41(32,"td"),e.EFF(33),e.k0s()(),e.j41(34,"tr")(35,"td",67),e.EFF(36,"Contact"),e.k0s(),e.j41(37,"td"),e.EFF(38),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.firstname," "),e.R7$(5),e.SpI("",t.selected_data.lastname," "),e.R7$(5),e.SpI("",e.i5U(23,6,t.selected_data.birthdate,"shortDate")," "),e.R7$(6),e.SpI("",t.selected_data.birthplace," "),e.R7$(5),e.SpI("",t.selected_data.email," "),e.R7$(5),e.SpI("",t.selected_data.phone," ")}}let Zc=(()=>{class i{constructor(t,n,s,o,l){this.staffService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.staffService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.staffService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Personnel",n.error.message)})}update(t){this.loading=!0,this.staffService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Personnel",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.staffService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Personnel",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.staffService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Personnel",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(qc),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-staff"]],decls:43,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","firstname","ngModel","","required","",1,"form-control"],["type","text","name","lastname","ngModel","","required","",1,"form-control"],["type","date","name","birthdate","ngModel","","required","",1,"form-control"],["type","text","name","birthplace","ngModel","","required","",1,"form-control"],["type","text","name","address","ngModel","","required","",1,"form-control"],["type","text","name","phone","ngModel","","required","",1,"form-control"],["type","text","name","email","ngModel","","required","",1,"form-control"],["type","text","name","job","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],["type","text","name","firstname","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","lastname","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","birthdate","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","birthplace","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","address","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","phone","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","job","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){if(1&n){const o=e.RV6();e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste du personnel"),e.k0s()()()(),e.j41(11,"div",9)(12,"button",10),e.bIt("click",function(){e.eBV(o);const p=e.sdS(38);return e.Njj(s.add(p))}),e.EFF(13,"Ajouter un personnel"),e.k0s()()(),e.j41(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14),e.DNE(18,Jc,6,5,"div",15),e.j41(19,"p"),e.EFF(20),e.k0s(),e.j41(21,"div",16)(22,"table",17)(23,"thead",18)(24,"tr")(25,"th",19),e.EFF(26,"#"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Identit\xe9"),e.k0s(),e.j41(29,"th"),e.EFF(30,"Email"),e.k0s(),e.j41(31,"th"),e.EFF(32,"Contact"),e.k0s(),e.j41(33,"th"),e.EFF(34,"Profession"),e.k0s()()(),e.j41(35,"tbody"),e.DNE(36,Wc,12,5,"tr",20),e.k0s()()()()()()(),e.DNE(37,Hc,60,2,"ng-template",null,21,e.C5r),e.DNE(39,Qc,61,10,"ng-template",null,22,e.C5r),e.DNE(41,Kc,39,9,"ng-template",null,23,e.C5r)}2&n&&(e.R7$(18),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(16),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV,u.vh]})}}return i})(),ed=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("statistics/")}getAll(t,n,s){return this.http.get(null==n?`${this.url}${t}?service_id=${s}`:`${this.url}${t}/${n}?service_id=${s}`)}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function td(i,r){if(1&i&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function nd(i,r){if(1&i&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function id(i,r){if(1&i&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function sd(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",12,13),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.reset(s))}),e.j41(2,"div",14)(3,"div",15)(4,"label",16),e.EFF(5,"D\xe9partement"),e.k0s(),e.j41(6,"select",17),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.departId=s)})("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.loadMunicipalities(s))}),e.j41(7,"option",18),e.EFF(8,"Choisir un d\xe9partement"),e.k0s(),e.DNE(9,td,2,2,"option",19),e.k0s(),e.j41(10,"select",20),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.loadDistricts(s))}),e.j41(11,"option",18),e.EFF(12,"Choisir une commune"),e.k0s(),e.DNE(13,nd,2,2,"option",19),e.k0s(),e.j41(14,"select",21),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.filter(s))}),e.j41(15,"option",18),e.EFF(16,"Choisir un arrondissement"),e.k0s(),e.DNE(17,id,2,2,"option",19),e.k0s(),e.j41(18,"button",22),e.EFF(19,"R\xe9initialiser"),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(6),e.Y8G("ngModel",t.departId)("disabled",t.readonlyDepart),e.R7$(3),e.Y8G("ngForOf",t.departments),e.R7$(4),e.Y8G("ngForOf",t.municipalities),e.R7$(4),e.Y8G("ngForOf",t.districts)}}function od(i,r){1&i&&e.nrm(0,"div",28)}function rd(i,r){if(1&i&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t)}}function ad(i,r){if(1&i&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t)}}function ld(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.DNE(3,ad,2,1,"td",31),e.k0s()),2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.label),e.R7$(1),e.Y8G("ngForOf",t.data)}}function cd(i,r){if(1&i&&(e.j41(0,"div",29)(1,"h6",25),e.EFF(2,"Table de valeur"),e.k0s(),e.j41(3,"table",30)(4,"thead")(5,"th"),e.EFF(6,"Arrondissement"),e.k0s(),e.DNE(7,rd,2,1,"th",31),e.k0s(),e.j41(8,"tbody"),e.DNE(9,ld,4,2,"tr",31),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(7),e.Y8G("ngForOf",t.chartLabels),e.R7$(2),e.Y8G("ngForOf",t.chartData)}}function dd(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",24)(2,"h6",25),e.EFF(3,"Graphe"),e.k0s(),e.DNE(4,od,1,0,"div",26),e.k0s(),e.DNE(5,cd,10,2,"div",27),e.bVm()),2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",null!=t.data),e.R7$(1),e.Y8G("ngIf",null!=t.data)}}function md(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()()),2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.count)}}function _d(i,r){if(1&i&&(e.j41(0,"div",29)(1,"h6",25),e.EFF(2,"Table de valeur"),e.k0s(),e.j41(3,"table",30)(4,"thead")(5,"th"),e.EFF(6,"Cape"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Nombre de contr\xf4les effectu\xe9s"),e.k0s()(),e.j41(9,"tbody"),e.DNE(10,md,5,2,"tr",31),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(10),e.Y8G("ngForOf",t.data)}}function ud(i,r){if(1&i&&(e.qex(0),e.DNE(1,_d,11,1,"div",27),e.bVm()),2&i){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",null!=t.data)}}function pd(i,r){if(1&i&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function hd(i,r){1&i&&e.nrm(0,"div",28)}function bd(i,r){if(1&i&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t)}}function gd(i,r){if(1&i&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(1),e.JRh(t)}}function fd(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.DNE(3,gd,2,1,"td",31),e.k0s()),2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.label),e.R7$(1),e.Y8G("ngForOf",t.data)}}function vd(i,r){if(1&i&&(e.j41(0,"div",29)(1,"h6",25),e.EFF(2,"Table de valeur"),e.k0s(),e.j41(3,"table",30)(4,"thead")(5,"th"),e.EFF(6,"Ann\xe9e"),e.k0s(),e.DNE(7,bd,2,1,"th",31),e.k0s(),e.j41(8,"tbody"),e.DNE(9,fd,4,2,"tr",31),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(7),e.Y8G("ngForOf",t.chartLabels),e.R7$(2),e.Y8G("ngForOf",t.chartData)}}function Fd(i,r){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div",9)(2,"div",32)(3,"label",33),e.EFF(4,"Liste des CPS"),e.k0s(),e.j41(5,"select",34),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.loadData(s))}),e.DNE(6,pd,2,2,"option",19),e.k0s()()(),e.j41(7,"div",24)(8,"h6",25),e.EFF(9,"Graphe"),e.k0s(),e.DNE(10,hd,1,0,"div",26),e.k0s(),e.DNE(11,vd,10,2,"div",27),e.bVm()}if(2&i){const t=e.XpG();e.R7$(6),e.Y8G("ngForOf",t.cps),e.R7$(4),e.Y8G("ngIf",null!=t.data),e.R7$(1),e.Y8G("ngIf",null!=t.data)}}let _e=(()=>{class i{constructor(t,n,s,o,l,p,g){this.typeService=t,this.statisticService=n,this.cpsService=s,this.route=o,this.departmentService=l,this.lsService=p,this.toastrService=g,this.filteredData=[],this.departments=[],this.municipalities=[],this.districts=[],this.labels=[],this.labels2=[],this.chartData=[],this.values=[],this.chartLabels=[],this.chartOptions={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!0}}},this.cps=[]}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,this.route.paramMap.subscribe(t=>{this.type=this.route.snapshot.paramMap.get("type"),this.service=this.route.snapshot.paramMap.get("service"),this.data=[],this.chartData=[],this.chartLabels=[],this.setServiceId()}),this.getDepartmentWithRelations()}setServiceId(){this.typeService.getAll2().subscribe(t=>{if(t.data.forEach(n=>{n.name.toLowerCase().includes(this.service.toLowerCase())&&(this.service_id=n.id)}),console.log(this.service_id),null!=this.service_id)switch(this.type){case"cape-inscrits":this.getForCape();break;case"cape-autorises":this.getForCapeAuthorized();break;case"controls":this.getForControl();break;case"cps":this.getForCps(),this.getCps()}else this.toastrService.info("Impossible de charger les donn\xe9es, service non reconnue","Requ\xeates")})}getCps(){this.cpsService.getAll().subscribe(t=>{this.cps=t.data},t=>{})}getForCape(){this.statisticService.getAll(this.type,void 0,this.service_id).subscribe(t=>{this.data=t.data,this.labels=t.labels,this.orderedData=t,this.initChart()},t=>{})}initChart(){this.chartData=[],this.chartData.push({label:this.data.label,data:this.data.data,pointHitRadius:15,pointHoverRadius:8}),this.chartLabels=this.labels}getForCapeAuthorized(){this.statisticService.getAll(this.type,void 0,this.service_id).subscribe(t=>{this.data=t.data,this.labels=t.labels,this.orderedData=t,this.initChart()},t=>{})}getForControl(){this.statisticService.getAll(this.type,void 0,this.service_id).subscribe(t=>{this.data=t.data},t=>{})}getForCps(t){(null==t?this.statisticService.getAll(this.type,void 0,this.service_id):this.statisticService.getAll(this.type,t)).subscribe(s=>{this.chartData=[],this.chartLabels=[],this.data=s.data,this.data.forEach(o=>{this.chartData.push({label:o.label,data:o.data,pointHitRadius:15,pointHoverRadius:8})}),this.chartLabels=s.labels},s=>{})}loadData(t){this.getForCps(t.target.value)}getDepartmentWithRelations(){this.departmentService.getDepartmentWithRelation().subscribe(t=>{if(this.departments=t.data,"ddasm"==this.role){let n=this.departments.find(s=>s.id==this.user.department_id);this.departId=n.id,this.departId2=n.id,this.readonlyDepart=!0,this.municipalities=n.municipalities}},t=>{})}filter(t){let n=this.orderedData.ordered.filter(s=>s.district_id==t.target.value);this.setFilteredData(n),console.log(n)}loadMunicipalities(t){let n=this.orderedData.ordered.filter(s=>s.department_id==t.target.value);this.setFilteredData(n),this.municipalities=this.departments.find(s=>s.id==t.target.value).municipalities}loadDistricts(t){console.log(this.orderedData);let n=this.orderedData.ordered.filter(s=>s.municipality_id==t.target.value);this.setFilteredData(n),this.districts=this.municipalities.find(s=>s.id==t.target.value).districts}setFilteredData(t){this.values=[],this.labels2=[],this.chartData=[],t.forEach(n=>{this.values.push(n.value),this.labels2.push(n.label)}),this.chartData.push({label:this.data.label,data:this.values,pointHitRadius:15,pointHoverRadius:8}),this.chartLabels=this.labels2}reset(t){t.resetForm(),this.initChart(),"ddasm"==this.role&&this.ngOnInit()}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(S.M),e.rXU(ed),e.rXU(Y),e.rXU(h.nX),e.rXU(G.a),e.rXU(b.s),e.rXU(f.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-statistique"]],decls:15,vars:4,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[3,"ngSubmit"],["formR","ngForm"],[1,"d-flex"],[1,"input-group","mb-3"],["for","inputGroupSelect01",1,"input-group-text"],["id","inputGroupSelect01","name","departId","ngModel","",1,"form-select",3,"ngModel","disabled","ngModelChange","change"],["disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","inputGroupSelect01","name","municipality_id","ngModel","",1,"form-select",3,"change"],["id","inputGroupSelect01","name","district_id","ngModel","",1,"form-select",3,"change"],["type","submit",1,"btn","btn-outline-secondary"],[3,"value"],[1,"container","mb-3"],[1,"bg-secondary","p-1","text-white"],["class","",4,"ngIf"],["class","container mb-5",4,"ngIf"],[1,""],[1,"container","mb-5"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"form-group","mb-3"],["for",""],[1,"form-control",3,"change"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"Statistiques "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.nrm(9,"li",8),e.k0s()()()(),e.j41(10,"div",9),e.DNE(11,sd,20,5,"form",10),e.k0s(),e.DNE(12,dd,6,2,"ng-container",11),e.DNE(13,ud,2,1,"ng-container",11),e.DNE(14,Fd,12,3,"ng-container",11)),2&n&&(e.R7$(11),e.Y8G("ngIf","cps"!=s.role),e.R7$(1),e.Y8G("ngIf","cape-inscrits"==s.type||"cape-autorises"==s.type),e.R7$(1),e.Y8G("ngIf","controls"==s.type),e.R7$(1),e.Y8G("ngIf","cps"==s.type))},dependencies:[u.Sq,u.bT,h.Wk,a.qT,a.xH,a.y7,a.wz,a.BC,a.cb,a.vS,a.cV],styles:["table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;overflow:hidden}"]})}}return i})();var ue=F(6389);function kd(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(36);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function jd(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Ed(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function Cd(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function Sd(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function xd(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(32);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un cible"),e.k0s(),e.DNE(3,kd,3,0,"button",25),e.DNE(4,jd,2,0,"button",26),e.DNE(5,Ed,2,0,"button",27),e.DNE(6,Cd,2,0,"button",28),e.DNE(7,Sd,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function yd(i,r){1&i&&(e.j41(0,"span",37),e.EFF(1,"Actif"),e.k0s())}function Rd(i,r){1&i&&(e.j41(0,"span",38),e.EFF(1,"Bloqu\xe9"),e.k0s())}function Id(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.DNE(7,yd,2,0,"span",35),e.DNE(8,Rd,2,0,"span",36),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function Td(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,40),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Enregistrer une cible"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",49),e.k0s()()(),e.j41(14,"div",50)(15,"button",51),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",52),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Gd(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,53),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",54)(3,"h6",42),e.EFF(4,"Modifier une cible"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",55),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",50)(15,"button",51),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",52),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function $d(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",54)(1,"h4",42),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",44)(5,"div",56)(6,"table",57)(7,"tbody")(8,"tr")(9,"td",58),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let Nd=(()=>{class i{constructor(t,n,s,o,l){this.targetService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.targetService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.targetService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Cible",n.error.message)})}update(t){this.loading=!0,this.targetService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Cible",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.targetService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Cible",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.targetService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Cible",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(ue.t),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-targets"]],decls:37,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des cibles"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,xd,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Statut"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,Id,9,3,"tr",19),e.k0s()()()()()()(),e.DNE(31,Td,18,2,"ng-template",null,20,e.C5r),e.DNE(33,Gd,18,3,"ng-template",null,21,e.C5r),e.DNE(35,$d,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),wd=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("type-avis")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Vd(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(36);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Ad(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Dd(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function Xd(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function Md(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function Yd(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(32);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un type d'avis"),e.k0s(),e.DNE(3,Vd,3,0,"button",25),e.DNE(4,Ad,2,0,"button",26),e.DNE(5,Dd,2,0,"button",27),e.DNE(6,Xd,2,0,"button",28),e.DNE(7,Md,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function Bd(i,r){1&i&&(e.j41(0,"span",37),e.EFF(1,"Actif"),e.k0s())}function qd(i,r){1&i&&(e.j41(0,"span",38),e.EFF(1,"Bloqu\xe9"),e.k0s())}function Ud(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.DNE(7,Bd,2,0,"span",35),e.DNE(8,qd,2,0,"span",36),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function Pd(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,40),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Enregistrer un type d'avis"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",49),e.k0s()()(),e.j41(14,"div",50)(15,"button",51),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",52),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Od(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,53),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",54)(3,"h6",42),e.EFF(4,"Modifier un type d'avis"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",55),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",50)(15,"button",51),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",52),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function zd(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",54)(1,"h4",42),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",44)(5,"div",56)(6,"table",57)(7,"tbody")(8,"tr")(9,"td",58),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let Ld=(()=>{class i{constructor(t,n,s,o,l){this.typeAvisService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.typeAvisService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.typeAvisService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Avis",n.error.message)})}update(t){this.loading=!0,this.typeAvisService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Avis",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.typeAvisService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Type Avis",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.typeAvisService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Type Avis",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(wd),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-type-avis"]],decls:37,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des types d'avis"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,Yd,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Statut"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,Ud,9,3,"tr",19),e.k0s()()()()()()(),e.DNE(31,Pd,18,2,"ng-template",null,20,e.C5r),e.DNE(33,Od,18,3,"ng-template",null,21,e.C5r),e.DNE(35,zd,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();var pe=F(1434);function Jd(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(36);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Wd(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Hd(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function Qd(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function Kd(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function Zd(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(32);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un type cape"),e.k0s(),e.DNE(3,Jd,3,0,"button",25),e.DNE(4,Wd,2,0,"button",26),e.DNE(5,Hd,2,0,"button",27),e.DNE(6,Qd,2,0,"button",28),e.DNE(7,Kd,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function e1(i,r){1&i&&(e.j41(0,"span",37),e.EFF(1,"Actif"),e.k0s())}function t1(i,r){1&i&&(e.j41(0,"span",38),e.EFF(1,"Bloqu\xe9"),e.k0s())}function n1(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.DNE(7,e1,2,0,"span",35),e.DNE(8,t1,2,0,"span",36),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function i1(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,40),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Enregistrer un type de cape"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",49),e.k0s()()(),e.j41(14,"div",50)(15,"button",51),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",52),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function s1(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,53),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",54)(3,"h6",42),e.EFF(4,"Modifier un type de cape"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",55),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",50)(15,"button",51),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",52),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function o1(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",54)(1,"h4",42),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",44)(5,"div",56)(6,"table",57)(7,"tbody")(8,"tr")(9,"td",58),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let r1=(()=>{class i{constructor(t,n,s,o,l){this.typeCapeService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.typeCapeService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.typeCapeService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}update(t){this.loading=!0,this.typeCapeService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.typeCapeService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Type Cape",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.typeCapeService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(pe.k),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-type-cape"]],decls:37,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des types cape"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,Zd,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Statut"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,n1,9,3,"tr",19),e.k0s()()()()()()(),e.DNE(31,i1,18,2,"ng-template",null,20,e.C5r),e.DNE(33,s1,18,3,"ng-template",null,21,e.C5r),e.DNE(35,o1,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();function a1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(36);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function l1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function c1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function d1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function m1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function _1(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(32);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un type de contr\xf4le"),e.k0s(),e.DNE(3,a1,3,0,"button",25),e.DNE(4,l1,2,0,"button",26),e.DNE(5,c1,2,0,"button",27),e.DNE(6,d1,2,0,"button",28),e.DNE(7,m1,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function u1(i,r){1&i&&(e.j41(0,"span",37),e.EFF(1,"Actif"),e.k0s())}function p1(i,r){1&i&&(e.j41(0,"span",38),e.EFF(1,"Bloqu\xe9"),e.k0s())}function h1(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.DNE(7,u1,2,0,"span",35),e.DNE(8,p1,2,0,"span",36),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function b1(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,40),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Enregistrer un type de contr\xf4le"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",49),e.k0s()()(),e.j41(14,"div",50)(15,"button",51),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",52),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function g1(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,53),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",54)(3,"h6",42),e.EFF(4,"Modifier un type de contr\xf4le"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",55),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",50)(15,"button",51),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",52),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function f1(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",54)(1,"h4",42),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",44)(5,"div",56)(6,"table",57)(7,"tbody")(8,"tr")(9,"td",58),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let v1=(()=>{class i{constructor(t,n,s,o,l){this.typeControlService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.typeControlService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.typeControlService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Contr\xf4le",n.error.message)})}update(t){this.loading=!0,this.typeControlService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Contr\xf4le",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.typeControlService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Type Contr\xf4le",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.typeControlService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Type Contr\xf4le",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(M),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-type-control"]],decls:37,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des types de contr\xf4le"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,_1,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Statut"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,h1,9,3,"tr",19),e.k0s()()()()()()(),e.DNE(31,b1,18,2,"ng-template",null,20,e.C5r),e.DNE(33,g1,18,3,"ng-template",null,21,e.C5r),e.DNE(35,f1,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();function F1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(43);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function k1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(41);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function j1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function E1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function C1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function S1(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",24)(1,"button",25),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(39);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un type de document"),e.k0s(),e.DNE(3,F1,3,0,"button",26),e.DNE(4,k1,2,0,"button",27),e.DNE(5,j1,2,0,"button",28),e.DNE(6,E1,2,0,"button",29),e.DNE(7,C1,2,0,"button",28),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function x1(i,r){1&i&&(e.j41(0,"span",38),e.EFF(1,"Actif"),e.k0s())}function y1(i,r){1&i&&(e.j41(0,"span",39),e.EFF(1,"Bloqu\xe9"),e.k0s())}function R1(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",34)(3,"input",35),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.DNE(9,x1,2,0,"span",36),e.DNE(10,y1,2,0,"span",37),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.code),e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function I1(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",40,41),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",42)(3,"h6",43),e.EFF(4,"Enregistrer un type de document"),e.k0s(),e.j41(5,"button",44),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",45)(7,"div",46)(8,"div",47)(9,"label",48),e.EFF(10,"Code "),e.j41(11,"span",49),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",50),e.k0s(),e.j41(14,"div",47)(15,"label",48),e.EFF(16,"Libell\xe9 "),e.j41(17,"span",49),e.EFF(18,"(*)"),e.k0s()(),e.nrm(19,"input",51),e.k0s()()(),e.j41(20,"div",52)(21,"button",53),e.EFF(22,"Enregistrer "),e.nrm(23,"app-loading",54),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(21),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function T1(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",40,55),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",42)(3,"h6",43),e.EFF(4,"Modifier un type de document"),e.k0s(),e.j41(5,"button",44),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",45)(7,"div",46)(8,"div",47)(9,"label",48),e.EFF(10,"Code "),e.j41(11,"span",49),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",56),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.code=s)}),e.k0s()(),e.j41(14,"div",47)(15,"label",48),e.EFF(16,"Libell\xe9 "),e.j41(17,"span",49),e.EFF(18,"(*)"),e.k0s()(),e.j41(19,"input",57),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(20,"div",52)(21,"button",53),e.EFF(22,"Sauvegarder "),e.nrm(23,"app-loading",54),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.code),e.R7$(6),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function G1(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",42)(1,"h4",43),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",44),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",45)(5,"div",58)(6,"table",59)(7,"tbody")(8,"tr")(9,"td",60),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let $1=(()=>{class i{constructor(t,n,s,o,l){this.typeFileService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.typeFileService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.typeFileService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type document",n.error.message)})}update(t){this.loading=!0,this.typeFileService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type document",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.typeFileService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Type document",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.typeFileService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Type document",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(q),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-type-file"]],decls:44,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],[1,"text-warning"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","code","ngModel","","required","",1,"form-control"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],["type","text","name","code","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des types documents"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,S1,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Code"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Libell\xe9"),e.k0s(),e.j41(29,"th"),e.EFF(30,"Statut"),e.k0s()()(),e.j41(31,"tbody"),e.DNE(32,R1,11,4,"tr",19),e.k0s()()(),e.j41(33,"p",20),e.EFF(34,"Les codes suivants: "),e.j41(35,"strong"),e.EFF(36,"DP,DD,DC,DJ"),e.k0s(),e.EFF(37," doivent rester inchang\xe9s"),e.k0s()()()()(),e.DNE(38,I1,24,2,"ng-template",null,21,e.C5r),e.DNE(40,T1,24,4,"ng-template",null,22,e.C5r),e.DNE(42,G1,13,1,"ng-template",null,23,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(14),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();function N1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(36);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function w1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function V1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function A1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function D1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function X1(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(32);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un type de sanction"),e.k0s(),e.DNE(3,N1,3,0,"button",25),e.DNE(4,w1,2,0,"button",26),e.DNE(5,V1,2,0,"button",27),e.DNE(6,A1,2,0,"button",28),e.DNE(7,D1,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function M1(i,r){1&i&&(e.j41(0,"span",37),e.EFF(1,"Actif"),e.k0s())}function Y1(i,r){1&i&&(e.j41(0,"span",38),e.EFF(1,"Bloqu\xe9"),e.k0s())}function B1(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.DNE(7,M1,2,0,"span",35),e.DNE(8,Y1,2,0,"span",36),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function q1(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,40),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Enregistrer un type de sanction"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",49),e.k0s()()(),e.j41(14,"div",50)(15,"button",51),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",52),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function U1(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,53),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",54)(3,"h6",42),e.EFF(4,"Modifier un type de sanction"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",55),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",50)(15,"button",51),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",52),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function P1(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",54)(1,"h4",42),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",44)(5,"div",56)(6,"table",57)(7,"tbody")(8,"tr")(9,"td",58),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let O1=(()=>{class i{constructor(t,n,s,o,l){this.typeSanctionService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.typeSanctionService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.typeSanctionService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type sanction",n.error.message)})}update(t){this.loading=!0,this.typeSanctionService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type sanction",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.typeSanctionService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Type sanction",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.typeSanctionService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Type sanction",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(le),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-type-sanction"]],decls:37,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des types de sanction"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,X1,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Statut"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,B1,9,3,"tr",19),e.k0s()()()()()()(),e.DNE(31,q1,18,2,"ng-template",null,20,e.C5r),e.DNE(33,U1,18,3,"ng-template",null,21,e.C5r),e.DNE(35,P1,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();function z1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(36);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function L1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function J1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function W1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function H1(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function Q1(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(32);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter une unit\xe9 administrative"),e.k0s(),e.DNE(3,z1,3,0,"button",25),e.DNE(4,L1,2,0,"button",26),e.DNE(5,J1,2,0,"button",27),e.DNE(6,W1,2,0,"button",28),e.DNE(7,H1,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function K1(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.JRh(t.acronym)}}function Z1(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",35,36),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",37)(3,"h6",38),e.EFF(4,"Enregistrer une unit\xe9 administrative"),e.k0s(),e.j41(5,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",40)(7,"div",41)(8,"div",42)(9,"label",43),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",44),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",45),e.k0s(),e.j41(14,"div",42)(15,"label",43),e.EFF(16,"Sigle "),e.j41(17,"span",44),e.EFF(18,"(*)"),e.k0s()(),e.nrm(19,"input",46),e.k0s()()(),e.j41(20,"div",47)(21,"button",48),e.EFF(22,"Enregistrer "),e.nrm(23,"app-loading",49),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(21),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function em(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",35,50),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",37)(3,"h6",38),e.EFF(4,"Modifier une unit\xe9 administrative"),e.k0s(),e.j41(5,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",40)(7,"div",41)(8,"div",42)(9,"label",43),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",44),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",51),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()(),e.j41(14,"div",42)(15,"label",43),e.EFF(16,"Sigle "),e.j41(17,"span",44),e.EFF(18,"(*)"),e.k0s()(),e.j41(19,"input",52),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.acronym=s)}),e.k0s()()()(),e.j41(20,"div",47)(21,"button",48),e.EFF(22,"Sauvegarder "),e.nrm(23,"app-loading",49),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(6),e.Y8G("ngModel",n.selected_data.acronym),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function tm(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",37)(1,"h6",38),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",40)(5,"div",53)(6,"table",54)(7,"tbody")(8,"tr")(9,"td",55),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",55),e.EFF(15,"Sigle"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," "),e.R7$(5),e.SpI("",t.selected_data.acronym," ")}}let nm=(()=>{class i{constructor(t,n,s,o,l){this.uaService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.uaService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.uaService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Unit\xe9 administrative",n.error.message)})}update(t){this.loading=!0,this.uaService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Unit\xe9 administrative",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.uaService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Unit\xe9 administrative",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.uaService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Unit\xe9 administrative",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(U),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-unite-admin"]],decls:37,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],["type","text","name","acronym","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","acronym","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des structures"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,Q1,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Sigle"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,K1,8,2,"tr",19),e.k0s()()()()()()(),e.DNE(31,Z1,24,2,"ng-template",null,20,e.C5r),e.DNE(33,em,24,4,"ng-template",null,21,e.C5r),e.DNE(35,tm,18,2,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();function im(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(44);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function sm(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(42);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function om(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function rm(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function am(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function lm(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(40);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un utilisateur"),e.k0s(),e.DNE(3,im,3,0,"button",25),e.DNE(4,sm,2,0,"button",26),e.DNE(5,om,2,0,"button",27),e.DNE(6,rm,2,0,"button",28),e.DNE(7,am,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function cm(i,r){1&i&&(e.j41(0,"span",37),e.EFF(1,"Actif"),e.k0s())}function dm(i,r){1&i&&(e.j41(0,"span",38),e.EFF(1,"Bloqu\xe9"),e.k0s())}function mm(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.DNE(15,cm,2,0,"span",35),e.DNE(16,dm,2,0,"span",36),e.k0s()()}if(2&i){const t=r.$implicit;let n,s;e.R7$(5),e.JRh(null==t?null:t.lastname),e.R7$(2),e.JRh(null==t?null:t.firstname),e.R7$(2),e.JRh(null!==(n=null==t?null:t.email)&&void 0!==n?n:"email"),e.R7$(2),e.JRh(null!==(s=null!==(s=null==t.cps?null:t.cps.name)&&void 0!==s?s:null==t.department?null:t.department.name)&&void 0!==s?s:"Non d\xe9fini"),e.R7$(2),e.JRh(null==t?null:t.roles[0].name),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function _m(i,r){if(1&i&&(e.j41(0,"option",58),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.JRh(t.name)}}function um(i,r){if(1&i&&(e.j41(0,"option",58),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function pm(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",46)(2,"label",47),e.EFF(3,"CPS "),e.j41(4,"span",48),e.EFF(5,"(*)"),e.k0s()(),e.j41(6,"select",59),e.DNE(7,um,2,2,"option",53),e.k0s()(),e.bVm()),2&i){const t=e.XpG(2);e.R7$(7),e.Y8G("ngForOf",t.cps)}}function hm(i,r){if(1&i&&(e.j41(0,"option",58),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function bm(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",46)(2,"label",47),e.EFF(3,"D\xe9partement "),e.j41(4,"span",48),e.EFF(5,"(*)"),e.k0s()(),e.j41(6,"select",60),e.DNE(7,hm,2,2,"option",53),e.k0s()(),e.bVm()),2&i){const t=e.XpG(2);e.R7$(7),e.Y8G("ngForOf",t.departments)}}function gm(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,40),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Enregistrer un compte utilisateur"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Nom "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",49),e.k0s(),e.j41(14,"div",46)(15,"label",47),e.EFF(16,"Pr\xe9nom(s) "),e.j41(17,"span",48),e.EFF(18,"(*)"),e.k0s()(),e.nrm(19,"input",50),e.k0s(),e.j41(20,"div",46)(21,"label",47),e.EFF(22,"Email "),e.j41(23,"span",48),e.EFF(24,"(*)"),e.k0s()(),e.nrm(25,"input",51),e.k0s(),e.j41(26,"div",46)(27,"label",47),e.EFF(28,"R\xf4le "),e.j41(29,"span",48),e.EFF(30,"(*)"),e.k0s()(),e.j41(31,"select",52),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_role=s)}),e.DNE(32,_m,2,2,"option",53),e.k0s()(),e.DNE(33,pm,8,1,"ng-container",54),e.DNE(34,bm,8,1,"ng-container",54),e.k0s()(),e.j41(35,"div",55)(36,"button",56),e.EFF(37,"Cr\xe9er le compte "),e.nrm(38,"app-loading",57),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(31),e.Y8G("ngModel",n.selected_role),e.R7$(1),e.Y8G("ngForOf",n.roles),e.R7$(1),e.Y8G("ngIf","cps"==n.selected_role),e.R7$(1),e.Y8G("ngIf","ddasm"==n.selected_role),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function fm(i,r){if(1&i&&(e.j41(0,"option",58),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.JRh(t.name)}}function vm(i,r){if(1&i&&(e.j41(0,"option",58),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Fm(i,r){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div",46)(2,"label",47),e.EFF(3,"CPS"),e.j41(4,"span",48),e.EFF(5,"(*)"),e.k0s()(),e.j41(6,"select",65),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG(2);return e.Njj(o.selected_data.cps_id=s)}),e.DNE(7,vm,2,2,"option",53),e.k0s()(),e.bVm()}if(2&i){const t=e.XpG(2);e.R7$(6),e.Y8G("ngModel",t.selected_data.cps_id),e.R7$(1),e.Y8G("ngForOf",t.cps)}}function km(i,r){if(1&i&&(e.j41(0,"option",58),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function jm(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",46)(2,"label",47),e.EFF(3,"D\xe9partement "),e.j41(4,"span",48),e.EFF(5,"(*)"),e.k0s()(),e.j41(6,"select",60),e.DNE(7,km,2,2,"option",53),e.k0s()(),e.bVm()),2&i){const t=e.XpG(2);e.R7$(7),e.Y8G("ngForOf",t.departments)}}function Em(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,61),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Modifier un utilisateur"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Nom "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",62),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.lastname=s)}),e.k0s()(),e.j41(14,"div",46)(15,"label",47),e.EFF(16,"Pr\xe9nom(s) "),e.j41(17,"span",48),e.EFF(18,"(*)"),e.k0s()(),e.j41(19,"input",63),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.firstname=s)}),e.k0s()(),e.j41(20,"div",46)(21,"label",47),e.EFF(22,"Email "),e.j41(23,"span",48),e.EFF(24,"(*)"),e.k0s()(),e.j41(25,"input",64),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.email=s)}),e.k0s()(),e.j41(26,"div",46)(27,"label",47),e.EFF(28,"r\xf4le "),e.j41(29,"span",48),e.EFF(30,"(*)"),e.k0s()(),e.j41(31,"select",52),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.roles[0].name=s)}),e.DNE(32,fm,2,2,"option",53),e.k0s()(),e.DNE(33,Fm,8,2,"ng-container",54),e.DNE(34,jm,8,1,"ng-container",54),e.k0s()(),e.j41(35,"div",55)(36,"button",56),e.EFF(37,"Sauvegarder "),e.nrm(38,"app-loading",57),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.lastname),e.R7$(6),e.Y8G("ngModel",n.selected_data.firstname),e.R7$(6),e.Y8G("ngModel",n.selected_data.email),e.R7$(6),e.Y8G("ngModel",n.selected_data.roles[0].name),e.R7$(1),e.Y8G("ngForOf",n.roles),e.R7$(1),e.Y8G("ngIf","cps"==n.selected_role),e.R7$(1),e.Y8G("ngIf","ddasm"==n.selected_role),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Cm(i,r){if(1&i&&(e.j41(0,"tr")(1,"td",69),e.EFF(2,"Entit\xe9"),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(4),e.SpI("",null==t.selected_data.collector?null:t.selected_data.collector.name," ")}}function Sm(i,r){if(1&i&&(e.j41(0,"tr")(1,"td",69),e.EFF(2,"Unit\xe9 administrative"),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(4),e.SpI("",null==t.selected_data.unity_admin?null:t.selected_data.unity_admin.libelle," ")}}function xm(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",66)(1,"h4",42),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",44)(5,"div",67)(6,"table",68)(7,"tbody")(8,"tr")(9,"td",69),e.EFF(10,"Email"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.DNE(13,Cm,5,1,"tr",54),e.DNE(14,Sm,5,1,"tr",54),e.j41(15,"tr")(16,"td",69),e.EFF(17,"r\xf4le"),e.k0s(),e.j41(18,"td"),e.EFF(19),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.email," "),e.R7$(1),e.Y8G("ngIf","Admin"==t.role),e.R7$(1),e.Y8G("ngIf","Admin"!=t.role),e.R7$(5),e.SpI("",t.selected_data.roles[0].name," ")}}let ym=(()=>{class i{constructor(t,n,s,o,l,p,g,j){this.userService=t,this.roleService=n,this.cpsService=s,this.departmentService=o,this.toastrService=l,this.lsService=g,this.modalService=j,this.cps=[],this.roles=[],this.data=[],this.departments=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,p.backdrop="static",p.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.role=this.user.roles[0].name,this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll(),this.getCps(),this.getDepartments(),this.getRoles()}getCps(){this.cpsService.getAll().subscribe(t=>{this.cps=t.data},t=>{})}getDepartments(){this.departmentService.getAll().subscribe(t=>{this.departments=t.data},t=>{})}getRoles(){this.roleService.getAll().subscribe(t=>{this.roles=t.data},t=>{})}getAll(){this.userService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.userService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Utilisateur",n.error.message)})}update(t){this.loading=!0,this.userService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Utilisateur",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.userService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Utilisateur",s.error.message)})})}checked(t){this.selected_data=t,this.selected_role=t.roles[0].name,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.userService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Utilisateur",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(te),e.rXU(ee),e.rXU(Y),e.rXU(G.a),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-user"]],decls:45,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","javascript:;"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","cape-bg-blue"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","lastname","ngModel","",1,"form-control"],["type","text","name","firstname","ngModel","",1,"form-control"],["type","text","name","email","ngModel","",1,"form-control"],["name","role",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["name","cps_id","ngModel","",1,"form-control"],["name","department_id","ngModel","",1,"form-control"],["editForm","ngForm"],["type","text","name","lastname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","email",1,"form-control",3,"ngModel","ngModelChange"],["name","cps_id",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-header"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des utilisateurs"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,lm,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Nom"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Pr\xe9nom(s)"),e.k0s(),e.j41(29,"th"),e.EFF(30,"email"),e.k0s(),e.j41(31,"th"),e.EFF(32,"CPS / D\xe9partement"),e.k0s(),e.j41(33,"th"),e.EFF(34,"R\xf4le"),e.k0s(),e.j41(35,"th"),e.EFF(36,"status"),e.k0s()()(),e.j41(37,"tbody"),e.DNE(38,mm,17,7,"tr",19),e.k0s()()()()()()(),e.DNE(39,gm,39,6,"ng-template",null,20,e.C5r),e.DNE(41,Em,39,9,"ng-template",null,21,e.C5r),e.DNE(43,xm,20,4,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(20),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,v.q,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.vS,a.cV]})}}return i})();function Rm(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.setStatus(1))}),e.EFF(1," Valider "),e.k0s()}}function Im(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.setStatus(0))}),e.EFF(1," Rejeter"),e.k0s()}}function Tm(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",26)(1,"button",27),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(17);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un cape"),e.k0s(),e.j41(3,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(21);return e.Njj(s.show(o))}),e.j41(4,"span"),e.EFF(5,"Consulter"),e.k0s()(),e.j41(6,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(19);return e.Njj(s.edit(o))}),e.EFF(7," Editer"),e.k0s(),e.DNE(8,Rm,2,0,"button",30),e.DNE(9,Im,2,0,"button",31),e.k0s()}if(2&i){const t=e.XpG(2);e.R7$(8),e.Y8G("ngIf",t.selected_data&&!t.selected_data.is_validate),e.R7$(1),e.Y8G("ngIf",t.selected_data&&t.selected_data.is_validate)}}function Gm(i,r){1&i&&(e.j41(0,"span",39),e.EFF(1,"En attente de validation"),e.k0s())}function $m(i,r){1&i&&(e.j41(0,"span",40),e.EFF(1,"Valid\xe9"),e.k0s())}function Nm(i,r){1&i&&(e.j41(0,"span",41),e.EFF(1,"Validation retir\xe9e"),e.k0s())}function wm(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",34)(3,"input",35),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"small")(10,"ul")(11,"li")(12,"strong"),e.EFF(13,"D\xe9partement : "),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"li")(16,"strong"),e.EFF(17,"Commune : "),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"li")(20,"strong"),e.EFF(21,"Arrondissement : "),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"li")(24,"strong"),e.EFF(25,"Quartier de ville / Village : "),e.k0s(),e.EFF(26),e.k0s()()()(),e.j41(27,"td"),e.EFF(28),e.k0s(),e.j41(29,"td"),e.DNE(30,Gm,2,0,"span",36),e.DNE(31,$m,2,0,"span",37),e.DNE(32,Nm,2,0,"span",38),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.Lme("",t.name_pomoter," ",t.first_pomoter,""),e.R7$(7),e.SpI(" ",null==t.district||null==t.district.municipality||null==t.district.municipality.department?null:t.district.municipality.department.name,""),e.R7$(4),e.SpI(" ",null==t.district||null==t.district.municipality?null:t.district.municipality.name,""),e.R7$(4),e.SpI(" ",null==t.district?null:t.district.name,""),e.R7$(4),e.SpI(" ",null==t.district?null:t.district.name,""),e.R7$(2),e.JRh(t.address),e.R7$(2),e.Y8G("ngIf",null==t.is_validated),e.R7$(1),e.Y8G("ngIf",1==t.is_validated),e.R7$(1),e.Y8G("ngIf",0==t.is_validated)}}function Vm(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19),e.DNE(5,Tm,10,2,"div",20),e.j41(6,"p"),e.EFF(7),e.k0s(),e.j41(8,"div",21)(9,"table",22)(10,"thead",23)(11,"tr")(12,"th",24),e.EFF(13,"#"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Libell\xe9"),e.k0s(),e.j41(16,"th"),e.EFF(17,"Identit\xe9 promoteur"),e.k0s(),e.j41(18,"th"),e.EFF(19,"Localisation"),e.k0s(),e.j41(20,"th"),e.EFF(21,"Adresse"),e.k0s(),e.j41(22,"th"),e.EFF(23,"Statut"),e.k0s()()(),e.j41(24,"tbody"),e.DNE(25,wm,33,11,"tr",25),e.k0s()()()()()()(),e.bVm()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("ngIf",t.buttonsPermission),e.R7$(2),e.SpI("",t.data.length," \xe9l\xe9ment(s)"),e.R7$(18),e.Y8G("ngForOf",t.data)}}function Am(i,r){if(1&i){const t=e.RV6();e.qex(0,42),e.j41(1,"div",43)(2,"button",44),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.back())}),e.EFF(3,"Fermer le visualiseur"),e.k0s()(),e.nrm(4,"object",45),e.bVm()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("data",t.url,e.f$h)}}function Dm(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",46)(1,"h4",47),e.EFF(2,"Importation en masse"),e.k0s(),e.j41(3,"button",48),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",49)(5,"button",50),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.download())}),e.EFF(6,"T\xe9l\xe9charger le fichier d'importation "),e.k0s(),e.nrm(7,"hr"),e.j41(8,"form",51,52),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(9),o=e.XpG();return e.Njj(o.import(s.value))}),e.j41(10,"div",53)(11,"label",54),e.EFF(12,"Charger le fichier d'importation"),e.k0s(),e.j41(13,"input",55),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload(s))}),e.k0s()(),e.j41(14,"button",56),e.EFF(15,"Importer les donn\xe9es "),e.nrm(16,"app-loading",57),e.k0s()()()}if(2&i){const t=e.sdS(9),n=e.XpG();e.R7$(14),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Xm(i,r){if(1&i&&(e.j41(0,"option",86),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Mm(i,r){if(1&i&&(e.j41(0,"option",86),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Ym(i,r){if(1&i&&(e.j41(0,"option",86),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Bm(i,r){if(1&i&&(e.j41(0,"option",86),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function qm(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",51,58),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",59)(3,"h6",60),e.EFF(4,"Enregistrer un CAPE"),e.k0s(),e.j41(5,"button",48),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",49)(7,"div",61)(8,"button",56),e.EFF(9,"Enregistrer "),e.nrm(10,"app-loading",57),e.k0s()(),e.j41(11,"fieldset")(12,"legend"),e.EFF(13,"Localisation du centre"),e.k0s(),e.j41(14,"div",16)(15,"div",62)(16,"label",54),e.EFF(17,"Type de centre "),e.j41(18,"span",63),e.EFF(19,"*"),e.k0s()(),e.j41(20,"select",64),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.type_cape_id=s)}),e.DNE(21,Xm,2,2,"option",65),e.k0s()(),e.j41(22,"div",62)(23,"label",54),e.EFF(24,"D\xe9nomination du centre "),e.j41(25,"span",63),e.EFF(26,"*"),e.k0s()(),e.j41(27,"input",66),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.name=s)}),e.k0s()(),e.j41(28,"div",62)(29,"label",54),e.EFF(30,"S\xe9lectionnez un d\xe9partement "),e.j41(31,"span",63),e.EFF(32,"*"),e.k0s()(),e.j41(33,"select",67),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.loadMunicipalities(s))})("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.department_id=s)}),e.nrm(34,"option",68),e.DNE(35,Mm,2,2,"option",65),e.k0s()(),e.j41(36,"div",62)(37,"label",54),e.EFF(38,"S\xe9lectionnez une commune "),e.j41(39,"span",63),e.EFF(40,"*"),e.k0s()(),e.j41(41,"select",69),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.loadDistricts(s))})("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.municipality_id=s)}),e.nrm(42,"option",68),e.DNE(43,Ym,2,2,"option",65),e.k0s()(),e.j41(44,"div",62)(45,"label",54),e.EFF(46,"S\xe9lectionnez un arrondissement "),e.j41(47,"span",63),e.EFF(48,"*"),e.k0s()(),e.j41(49,"select",70),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.district_id=s)})("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.district_id=s)}),e.nrm(50,"option",68),e.DNE(51,Bm,2,2,"option",65),e.k0s()(),e.j41(52,"div",62)(53,"label",54),e.EFF(54,"Quartier de ville / Village "),e.j41(55,"span",63),e.EFF(56,"*"),e.k0s()(),e.j41(57,"input",71),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.town=s)}),e.k0s()(),e.j41(58,"div",62)(59,"label",54),e.EFF(60,"Adresse "),e.j41(61,"span",63),e.EFF(62,"*"),e.k0s()(),e.j41(63,"input",72),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.address=s)}),e.k0s()()()(),e.j41(64,"fieldset")(65,"legend"),e.EFF(66,"Information du promoteur"),e.k0s(),e.j41(67,"div",73)(68,"div",62)(69,"label",54),e.EFF(70,"Nom"),e.j41(71,"span",63),e.EFF(72,"*"),e.k0s()(),e.j41(73,"input",74),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.name_pomoter=s)}),e.k0s()(),e.j41(74,"div",62)(75,"label",54),e.EFF(76,"Pr\xe9nom(s) "),e.j41(77,"span",63),e.EFF(78,"*"),e.k0s()(),e.j41(79,"input",75),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.firstname_pomoter=s)}),e.k0s()(),e.j41(80,"div",62)(81,"label",54),e.EFF(82,"Email "),e.j41(83,"span",63),e.EFF(84,"*"),e.k0s()(),e.j41(85,"input",76),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.email_pomoter=s)}),e.k0s()(),e.j41(86,"div",62)(87,"label",54),e.EFF(88,"T\xe9l\xe9phone "),e.j41(89,"span",63),e.EFF(90,"*"),e.k0s()(),e.j41(91,"input",77),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.phone_pomoter=s)}),e.k0s()()()(),e.j41(92,"fieldset")(93,"legend"),e.EFF(94,"Information du centre"),e.k0s(),e.j41(95,"div",16)(96,"div",62)(97,"label",54),e.EFF(98,"Capacit\xe9 d'accueil du centre "),e.j41(99,"span",63),e.EFF(100,"*"),e.k0s()(),e.j41(101,"input",78),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.capacity=s)}),e.k0s()(),e.j41(102,"div",62)(103,"label",54),e.EFF(104,"Email"),e.j41(105,"span",63),e.EFF(106,"*"),e.k0s()(),e.j41(107,"input",79),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.email=s)}),e.k0s()(),e.j41(108,"div",62)(109,"label",54),e.EFF(110,"T\xe9l\xe9phone "),e.j41(111,"span",63),e.EFF(112,"*"),e.k0s()(),e.j41(113,"input",80),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.phone=s)}),e.k0s()(),e.j41(114,"div",81)(115,"label",54),e.EFF(116,"Cibles accueillies "),e.j41(117,"span",63),e.EFF(118,"*"),e.k0s()(),e.nrm(119,"br"),e.k0s()()(),e.j41(120,"fieldset")(121,"legend"),e.EFF(122,"Information du directeur"),e.k0s(),e.j41(123,"div",16)(124,"div",62)(125,"label",54),e.EFF(126,"Nom "),e.k0s(),e.j41(127,"input",82),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.name_chief=s)}),e.k0s()(),e.j41(128,"div",62)(129,"label",54),e.EFF(130,"Pr\xe9nom(s) "),e.j41(131,"span",63),e.EFF(132,"*"),e.k0s()(),e.j41(133,"input",83),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.firstname_chief=s)}),e.k0s()(),e.j41(134,"div",62)(135,"label",54),e.EFF(136,"T\xe9l\xe9phone "),e.j41(137,"span",63),e.EFF(138,"*"),e.k0s()(),e.j41(139,"input",84),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.phone_chief=s)}),e.k0s()(),e.j41(140,"div",62)(141,"label",54),e.EFF(142,"Email "),e.j41(143,"span",63),e.EFF(144,"*"),e.k0s()(),e.j41(145,"input",85),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.email_chief=s)}),e.k0s()()()()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(8),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading),e.R7$(10),e.Y8G("ngModel",n.myRequestForm.type_cape_id),e.R7$(1),e.Y8G("ngForOf",n.tds),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.name),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.department_id),e.R7$(2),e.Y8G("ngForOf",n.departments),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.municipality_id),e.R7$(2),e.Y8G("ngForOf",n.municipalities),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.district_id)("ngModel",n.myRequestForm.district_id),e.R7$(2),e.Y8G("ngForOf",n.districts),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.town),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.address),e.R7$(10),e.Y8G("ngModel",n.myRequestForm.name_pomoter),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.firstname_pomoter),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.email_pomoter)("email",!0),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.phone_pomoter),e.R7$(10),e.Y8G("ngModel",n.myRequestForm.capacity),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.email),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.phone),e.R7$(14),e.Y8G("readonly",n.myRequestForm.chief_is_directeor)("ngModel",n.myRequestForm.name_chief),e.R7$(6),e.Y8G("readonly",n.myRequestForm.chief_is_directeor)("ngModel",n.myRequestForm.firstname_chief),e.R7$(6),e.Y8G("readonly",n.myRequestForm.chief_is_directeor)("ngModel",n.myRequestForm.phone_chief),e.R7$(6),e.Y8G("readonly",n.myRequestForm.chief_is_directeor)("ngModel",n.myRequestForm.email_chief)}}function Um(i,r){if(1&i&&(e.j41(0,"option",86),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Pm(i,r){if(1&i&&(e.j41(0,"option",86),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Om(i,r){if(1&i&&(e.j41(0,"option",86),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function zm(i,r){if(1&i&&(e.j41(0,"option",86),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Lm(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",51,87),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",59)(3,"h6",60),e.EFF(4,"Modifier un CAPE"),e.k0s(),e.j41(5,"button",48),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",49)(7,"fieldset")(8,"legend"),e.EFF(9,"Information du promoteur"),e.k0s(),e.j41(10,"div",73)(11,"div",62)(12,"label",54),e.EFF(13,"Nom"),e.j41(14,"span",63),e.EFF(15,"*"),e.k0s()(),e.j41(16,"input",74),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.name_pomoter=s)}),e.k0s()(),e.j41(17,"div",62)(18,"label",54),e.EFF(19,"Pr\xe9nom(s) "),e.j41(20,"span",63),e.EFF(21,"*"),e.k0s()(),e.j41(22,"input",75),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.firstname_pomoter=s)}),e.k0s()(),e.j41(23,"div",62)(24,"label",54),e.EFF(25,"Email "),e.j41(26,"span",63),e.EFF(27,"*"),e.k0s()(),e.j41(28,"input",76),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.email_pomoter=s)}),e.k0s()(),e.j41(29,"div",62)(30,"label",54),e.EFF(31,"T\xe9l\xe9phone "),e.j41(32,"span",63),e.EFF(33,"*"),e.k0s()(),e.j41(34,"input",77),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.phone_pomoter=s)}),e.k0s()()()(),e.j41(35,"fieldset")(36,"legend"),e.EFF(37,"Information du directeur"),e.k0s(),e.j41(38,"div",16)(39,"div",62)(40,"label",54),e.EFF(41,"Nom "),e.k0s(),e.j41(42,"input",82),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.name_chief=s)}),e.k0s()(),e.j41(43,"div",62)(44,"label",54),e.EFF(45,"Pr\xe9nom(s) "),e.j41(46,"span",63),e.EFF(47,"*"),e.k0s()(),e.j41(48,"input",83),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.firstname_chief=s)}),e.k0s()(),e.j41(49,"div",62)(50,"label",54),e.EFF(51,"T\xe9l\xe9phone "),e.j41(52,"span",63),e.EFF(53,"*"),e.k0s()(),e.j41(54,"input",84),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.phone_chief=s)}),e.k0s()(),e.j41(55,"div",62)(56,"label",54),e.EFF(57,"Email "),e.j41(58,"span",63),e.EFF(59,"*"),e.k0s()(),e.j41(60,"input",85),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.email_chief=s)}),e.k0s()()()(),e.j41(61,"fieldset")(62,"legend"),e.EFF(63,"Information du centre"),e.k0s(),e.j41(64,"div",16)(65,"div",62)(66,"label",54),e.EFF(67,"Type de centre "),e.j41(68,"span",63),e.EFF(69,"*"),e.k0s()(),e.j41(70,"select",64),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.type_cape_id=s)}),e.DNE(71,Um,2,2,"option",65),e.k0s()(),e.j41(72,"div",62)(73,"label",54),e.EFF(74,"D\xe9nomination du centre "),e.j41(75,"span",63),e.EFF(76,"*"),e.k0s()(),e.j41(77,"input",66),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.name=s)}),e.k0s()(),e.j41(78,"div",62)(79,"label",54),e.EFF(80,"Capacit\xe9 d'accueil du centre "),e.j41(81,"span",63),e.EFF(82,"*"),e.k0s()(),e.j41(83,"input",78),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.capacity=s)}),e.k0s()(),e.j41(84,"div",62)(85,"label",54),e.EFF(86,"Email"),e.j41(87,"span",63),e.EFF(88,"*"),e.k0s()(),e.j41(89,"input",79),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.email=s)}),e.k0s()(),e.j41(90,"div",62)(91,"label",54),e.EFF(92,"T\xe9l\xe9phone "),e.j41(93,"span",63),e.EFF(94,"*"),e.k0s()(),e.j41(95,"input",80),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.phone=s)}),e.k0s()(),e.j41(96,"div",81)(97,"label",54),e.EFF(98,"Cibles accueillies "),e.j41(99,"span",63),e.EFF(100,"*"),e.k0s()(),e.nrm(101,"br"),e.k0s()()(),e.j41(102,"fieldset")(103,"legend"),e.EFF(104,"Localisation du centre"),e.k0s(),e.j41(105,"div",16)(106,"div",62)(107,"label",54),e.EFF(108,"S\xe9lectionnez un d\xe9partement "),e.j41(109,"span",63),e.EFF(110,"*"),e.k0s()(),e.j41(111,"select",67),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.loadMunicipalities(s))})("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.department_id=s)}),e.nrm(112,"option",68),e.DNE(113,Pm,2,2,"option",65),e.k0s()(),e.j41(114,"div",62)(115,"label",54),e.EFF(116,"S\xe9lectionnez une commune "),e.j41(117,"span",63),e.EFF(118,"*"),e.k0s()(),e.j41(119,"select",69),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.loadDistricts(s))})("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.municipality_id=s)}),e.nrm(120,"option",68),e.DNE(121,Om,2,2,"option",65),e.k0s()(),e.j41(122,"div",62)(123,"label",54),e.EFF(124,"S\xe9lectionnez un arrondissement "),e.j41(125,"span",63),e.EFF(126,"*"),e.k0s()(),e.j41(127,"select",70),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.district_id=s)})("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.district_id=s)}),e.nrm(128,"option",68),e.DNE(129,zm,2,2,"option",65),e.k0s()(),e.j41(130,"div",62)(131,"label",54),e.EFF(132,"Quartier de ville / Village "),e.j41(133,"span",63),e.EFF(134,"*"),e.k0s()(),e.j41(135,"input",71),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.town=s)}),e.k0s()(),e.j41(136,"div",62)(137,"label",54),e.EFF(138,"Adresse "),e.j41(139,"span",63),e.EFF(140,"*"),e.k0s()(),e.j41(141,"input",72),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.myRequestForm.address=s)}),e.k0s()()()()(),e.j41(142,"div",88)(143,"button",56),e.EFF(144,"Sauvegarder "),e.nrm(145,"app-loading",57),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(16),e.Y8G("ngModel",n.myRequestForm.name_pomoter),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.firstname_pomoter),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.email_pomoter)("email",!0),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.phone_pomoter),e.R7$(8),e.Y8G("readonly",n.myRequestForm.chief_is_directeor)("ngModel",n.myRequestForm.name_chief),e.R7$(6),e.Y8G("readonly",n.myRequestForm.chief_is_directeor)("ngModel",n.myRequestForm.firstname_chief),e.R7$(6),e.Y8G("readonly",n.myRequestForm.chief_is_directeor)("ngModel",n.myRequestForm.phone_chief),e.R7$(6),e.Y8G("readonly",n.myRequestForm.chief_is_directeor)("ngModel",n.myRequestForm.email_chief),e.R7$(10),e.Y8G("ngModel",n.myRequestForm.type_cape_id),e.R7$(1),e.Y8G("ngForOf",n.tds),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.name),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.capacity),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.email),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.phone),e.R7$(16),e.Y8G("ngModel",n.myRequestForm.department_id),e.R7$(2),e.Y8G("ngForOf",n.departments),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.municipality_id),e.R7$(2),e.Y8G("ngForOf",n.municipalities),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.district_id)("ngModel",n.myRequestForm.district_id),e.R7$(2),e.Y8G("ngForOf",n.districts),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.town),e.R7$(6),e.Y8G("ngModel",n.myRequestForm.address),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Jm(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",59)(1,"h6",60),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",48),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",49)(5,"div",89)(6,"table",90)(7,"tbody")(8,"tr")(9,"td",91),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let Wm=(()=>{class i{constructor(t,n,s,o,l,p,g,j,C,$,P){this.departmentService=t,this.requeteService=n,this.capeService=s,this.tfService=o,this.tdService=l,this.targetService=p,this.toastrService=g,this._sanitizationService=C,this.lsService=$,this.modalService=P,this.myRequestForm={name:void 0,name_chief:void 0,name_pomoter:void 0,firstname_pomoter:void 0,phone_pomoter:void 0,phone:void 0,email:void 0,type_cape_id:void 0,capacity:void 0,targets:void 0,firstname_chief:void 0,district_id:void 0,address:void 0,phone_chief:void 0,requiredFiles:void 0,chief_is_directeor:!1,department_id:void 0,municipality_id:void 0,has_aggrement:!1,aggreement_reference:void 0,email_pomoter:void 0,email_chief:void 0,town:void 0,coords:void 0,has_consent:void 0,nature_promotor_id:void 0,aggreement_year:void 0,registered_number:void 0,registered_date:void 0,head_office:void 0,social_reason:void 0,registered_phone:void 0,type_garderies:void 0},this.structures=[],this.data=[],this.tfs=[],this.tds=[],this.selectedItems=[],this.municipalities=[],this.dropdownSettings={},this.districts=[],this.departments=[],this.targets=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,this.showPreview=!1,this.dropdownList=[],j.backdrop="static",j.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0},this.dropdownSettings={width:"1000",multiple:!0,tags:!0}}init(){this.getAll(),this.getTargets(),this.getTypeData(),this.getDepartmentWithRelations()}getTypeData(){this.tdService.getAll2().subscribe(t=>{this.tds=t.data},t=>{})}getDepartmentWithRelations(){this.departmentService.getDepartmentWithRelation().subscribe(t=>{this.departments=t.data},t=>{})}getAll(){this.requeteService.getPendingValidation().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}show2(t){this.modalService.open(t,{size:"lg"})}showFile(t,n){let s=m.w.toFile("docs/"+t+"/"+n);this.url=this._sanitizationService.bypassSecurityTrustResourceUrl(s),this.showPreview=!0}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.requeteService.setStatus({decision:0==t?null:t,id:this.selected_data.id}).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Document \xe0 joindre",n.error.message)})}back(){this.showPreview=!1,this.getAll()}import(t){let n=new FormData;n.append("file",this.fileInput),this.toastrService.warning("Op\xe9ration en cours"),this.loading=!0,this.capeService.import(n).subscribe(s=>{this.loading=!1,this.toastrService.success(s.message),this.getAll()},s=>{this.loading=!1,console.log(s),c.W.simpleAlert("error","Donn\xe9e",s.error.message)})}download(){window.open(`${m.w.toApiUrl("download-cape-import-file")}`,"_blank")}upload(t){console.log(t.target.files),t.target.files.length>0&&(this.fileInput=t.target.files[0])}store(t){this.loading=!0,t.targets=JSON.stringify(this.selectedItems),this.capeService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.initForm(),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Enregistrement de CAPE",n.error.message)})}update(t){this.loading=!0,this.capeService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Enregistrement de CAPE",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.capeService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","D\xe9partement",s.error.message)})})}add(t){this.modalService.open(t,{size:"xl"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&(this.municipalities=this.departments.find(n=>n.id==this.selected_data.district.municipality?.department_id).municipalities,this.districts=this.municipalities.find(n=>n.id==this.selected_data.district.municipality_id).districts,this.myRequestForm.address=this.selected_data.address,this.myRequestForm.name=this.selected_data.name,this.myRequestForm.firstname_chief=this.selected_data.firstname_chief,this.myRequestForm.firstname_pomoter=this.selected_data.firstname_pomoter,this.myRequestForm.email_pomoter=this.selected_data.email_pomoter,this.myRequestForm.email_chief=this.selected_data.email_chief,this.myRequestForm.name_chief=this.selected_data.name_chief,this.myRequestForm.name_pomoter=this.selected_data.name_pomoter,this.myRequestForm.capacity=this.selected_data.capacity,this.myRequestForm.coords=this.selected_data.coords,this.myRequestForm.email=this.selected_data.email,this.myRequestForm.phone=this.selected_data.phone,this.myRequestForm.phone_chief=this.selected_data.phone_chief,this.myRequestForm.phone_pomoter=this.selected_data.phone,this.myRequestForm.department_id=this.selected_data.district.municipality?.department_id,this.myRequestForm.municipality_id=this.selected_data.district.municipality_id,this.myRequestForm.district_id=this.selected_data.district_id,this.myRequestForm.type_cape_id=this.selected_data.type_cape_id,this.modalService.open(t,{size:"xl"}))}getTargets(){this.targetService.getAll2().subscribe(t=>{this.targets=t.data,t.data.forEach(n=>{this.dropdownList.push({id:n.name,text:n.name})})},t=>{})}loadMunicipalities(t){console.log(t),this.municipalities=this.departments.find(n=>n.id==t.target.value).municipalities}loadDistricts(t){this.districts=this.municipalities.find(n=>n.id==t.target.value).districts}initForm(){this.myRequestForm={name:void 0,name_chief:void 0,name_pomoter:void 0,firstname_pomoter:void 0,phone_pomoter:void 0,phone:void 0,email:void 0,type_cape_id:void 0,capacity:void 0,targets:void 0,firstname_chief:void 0,district_id:void 0,address:void 0,phone_chief:void 0,requiredFiles:void 0,chief_is_directeor:!1,department_id:void 0,municipality_id:void 0,has_aggrement:!1,aggreement_reference:void 0,email_pomoter:void 0,email_chief:void 0,town:void 0,coords:void 0,has_consent:void 0,nature_promotor_id:void 0,aggreement_year:void 0,registered_number:void 0,registered_date:void 0,head_office:void 0,social_reason:void 0,registered_phone:void 0,type_garderies:void 0}}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(G.a),e.rXU(x.t),e.rXU(N),e.rXU(q),e.rXU(pe.k),e.rXU(ue.t),e.rXU(f.tw),e.rXU(_.LY),e.rXU(R.up),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-validation-aggrement"]],decls:22,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[4,"ngIf"],["class","container",4,"ngIf"],["imporContent",""],["addContent",""],["editContent",""],["showContent",""],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","text-secondary","style","font-weight: 700; color: gray;",4,"ngIf"],["class","text-success","style","font-weight: 700; color: green;",4,"ngIf"],["class","text-secondary","style","font-weight: 700; color: red;",4,"ngIf"],[1,"text-secondary",2,"font-weight","700","color","gray"],[1,"text-success",2,"font-weight","700","color","green"],[1,"text-secondary",2,"font-weight","700","color","red"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"ngSubmit"],["importForm2","ngForm"],[1,"form-group"],["for",""],["type","file",1,"form-control",3,"change"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],[1,"text-center"],[1,"form-group","mb-3","col-lg-6","col-md-6","col-sm-12"],[1,"mx-1","text-danger"],["name","type_cape_id",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","name","maxlength","255",1,"form-control",3,"ngModel","ngModelChange"],["name","department_id",1,"form-control",3,"ngModel","change","ngModelChange"],["selected","","disabled",""],["name","municipality_id",1,"form-control",3,"ngModel","change","ngModelChange"],["name","district_id",1,"form-control",3,"ngModel","ngModelChange"],["type","text","maxlength","255","name","town",1,"form-control",3,"ngModel","ngModelChange"],["type","text","maxlength","255","name","address",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","mb-3"],["type","text","maxlength","100","name","name_pomoter",1,"form-control",3,"ngModel","ngModelChange"],["type","text","maxlength","100","name","firstname_pomoter",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","email_pomoter",1,"form-control",3,"ngModel","email","ngModelChange"],["type","text","name","phone_pomoter","maxlength","30",1,"form-control",3,"ngModel","ngModelChange"],["type","number","min","0","name","capacity",1,"form-control",3,"ngModel","ngModelChange"],["type","email","maxlength","100","name","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",1,"form-control",3,"ngModel","ngModelChange"],["type","text","maxlength","100","name","phone",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-12","col-md-12","col-sm-12","mb-3"],["type","text","maxlength","100","name","name_chief",1,"form-control",3,"readonly","ngModel","ngModelChange"],["type","text","maxlength","100","name","firstname_chief",1,"form-control",3,"readonly","ngModel","ngModelChange"],["type","text","maxlength","100","name","phone_chief",1,"form-control",3,"readonly","ngModel","ngModelChange"],["type","email","maxlength","100","name","email_chief","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",1,"form-control",3,"readonly","ngModel","ngModelChange"],[3,"value"],["editForm","ngForm"],[1,"modal-footer"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Cape ayant d\xe9j\xe0 un agr\xe9ment"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.DNE(12,Vm,26,3,"ng-container",10),e.DNE(13,Am,5,1,"ng-container",11),e.DNE(14,Dm,17,2,"ng-template",null,12,e.C5r),e.DNE(16,qm,146,30,"ng-template",null,13,e.C5r),e.DNE(18,Lm,146,30,"ng-template",null,14,e.C5r),e.DNE(20,Jm,13,1,"ng-template",null,15,e.C5r)),2&n&&(e.R7$(12),e.Y8G("ngIf",!s.showPreview),e.R7$(1),e.Y8G("ngIf",s.showPreview))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.Q0,a.wz,a.BC,a.cb,a.tU,a.R_,a.Dg,a.VZ,a.vS,a.cV]})}}return i})();var Hm=F(2754);function Qm(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function Km(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(32);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Zm(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function e_(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(30);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un cible"),e.k0s(),e.DNE(3,Qm,3,0,"button",25),e.DNE(4,Km,2,0,"button",26),e.DNE(5,Zm,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete)}}function t_(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",31)(3,"input",32),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name)}}function n_(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,34),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",35)(3,"h6",36),e.EFF(4,"Enregistrer une cible"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Code "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",43),e.k0s(),e.j41(14,"div",40)(15,"label",41),e.EFF(16,"Libell\xe9 "),e.j41(17,"span",42),e.EFF(18,"(*)"),e.k0s()(),e.nrm(19,"input",44),e.k0s()()(),e.j41(20,"div",45)(21,"button",46),e.EFF(22,"Enregistrer "),e.nrm(23,"app-loading",47),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(21),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function i_(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,48),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",49)(3,"h6",36),e.EFF(4,"Modifier une cible"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Code "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",50),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.id=s)}),e.k0s()(),e.j41(14,"div",40)(15,"label",41),e.EFF(16,"Libell\xe9 "),e.j41(17,"span",42),e.EFF(18,"(*)"),e.k0s()(),e.j41(19,"input",51),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(20,"div",45)(21,"button",46),e.EFF(22,"Sauvegarder "),e.nrm(23,"app-loading",47),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.id),e.R7$(6),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function s_(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",49)(1,"h4",36),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",38)(5,"div",52)(6,"table",53)(7,"tbody")(8,"tr")(9,"td",54),e.EFF(10,"Code"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",54),e.EFF(15,"Libell\xe9"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.id," "),e.R7$(5),e.SpI("",t.selected_data.name," ")}}let o_=(()=>{class i{constructor(t,n,s,o,l){this.npService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.npService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.npService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Cible",n.error.message)})}update(t){this.loading=!0,this.npService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Cible",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.npService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Cible",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(Hm.h),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-nature-promotor"]],decls:35,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","number","name","id","min","1","max","2","maxlength","1","ngModel","","required","",1,"form-control"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","number","name","id","min","1","max","2","maxlength","1","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des natures de promoteur "),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,e_,6,3,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,t_,6,1,"tr",19),e.k0s()()()()()()(),e.DNE(29,n_,24,2,"ng-template",null,20,e.C5r),e.DNE(31,i_,24,4,"ng-template",null,21,e.C5r),e.DNE(33,s_,18,2,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(10),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.Q0,a.BC,a.cb,a.YS,a.tU,a.VZ,a.zX,a.vS,a.cV]})}}return i})();var r_=F(1723);function a_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function l_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(32);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function c_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function d_(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(30);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un type info"),e.k0s(),e.DNE(3,a_,3,0,"button",25),e.DNE(4,l_,2,0,"button",26),e.DNE(5,c_,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete)}}function m_(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",31)(3,"input",32),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name)}}function __(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,34),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",35)(3,"h6",36),e.EFF(4,"Enregistrer un type de info"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",43),e.k0s()()(),e.j41(14,"div",44)(15,"button",45),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",46),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function u_(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,47),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",48)(3,"h6",36),e.EFF(4,"Modifier un type de info"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",49),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",44)(15,"button",45),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",46),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function p_(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",48)(1,"h4",36),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",38)(5,"div",50)(6,"table",51)(7,"tbody")(8,"tr")(9,"td",52),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let h_=(()=>{class i{constructor(t,n,s,o,l){this.typeInfoService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.typeInfoService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.typeInfoService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}update(t){this.loading=!0,this.typeInfoService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.typeInfoService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Type Cape",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.typeInfoService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(r_.g),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-type-info"]],decls:35,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des types info"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,d_,6,3,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,m_,6,1,"tr",19),e.k0s()()()()()()(),e.DNE(29,__,18,2,"ng-template",null,20,e.C5r),e.DNE(31,u_,18,3,"ng-template",null,21,e.C5r),e.DNE(33,p_,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(10),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();var b_=F(4564);function g_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(37);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function f_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Confirmer comme r\xe9pondu"),e.k0s()}}function v_(i,r){if(1&i&&(e.j41(0,"div",20),e.DNE(1,g_,3,0,"button",21),e.DNE(2,f_,2,0,"button",22),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",null!=t.has_answer&&!t.has_answer)}}function F_(i,r){1&i&&(e.j41(0,"span",29),e.EFF(1,"R\xe9pondu"),e.k0s())}function k_(i,r){1&i&&(e.j41(0,"span",30),e.EFF(1,"En attente de r\xe9ponse"),e.k0s())}function j_(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",25)(3,"input",26),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.DNE(13,F_,2,0,"span",27),e.DNE(14,k_,2,0,"span",28),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(null==t.type_info?null:t.type_info.name),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.phone),e.R7$(2),e.Y8G("ngIf",t.has_answer),e.R7$(1),e.Y8G("ngIf",!t.has_answer)}}function E_(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",31)(1,"h4",32),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",33),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",34)(5,"div",35)(6,"table",36)(7,"tbody")(8,"tr")(9,"td",37),e.EFF(10,"Identit\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",37),e.EFF(15,"Email"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()(),e.j41(18,"tr")(19,"td",37),e.EFF(20,"Contact"),e.k0s(),e.j41(21,"td"),e.EFF(22),e.k0s()(),e.j41(23,"tr")(24,"td",37),e.EFF(25,"Type Information"),e.k0s(),e.j41(26,"td"),e.EFF(27),e.k0s()(),e.j41(28,"tr")(29,"td",37),e.EFF(30,"Contenu"),e.k0s(),e.j41(31,"td")(32,"p"),e.EFF(33),e.k0s()()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," "),e.R7$(5),e.SpI("",t.selected_data.email," "),e.R7$(5),e.SpI("",t.selected_data.phone," "),e.R7$(5),e.SpI("",null==t.selected_data.type_info?null:t.selected_data.type_info.name," "),e.R7$(6),e.SpI(" ",t.selected_data.content," ")}}let C_=(()=>{class i{constructor(t,n,s,o,l){this.infoService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.infoService.getAll().subscribe(t=>{this.data=t.data},t=>{})}checked(t){this.selected_data=t,this.has_answer=t.has_answer}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.infoService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Document \xe0 joindre",n.error.message)})}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(b_.O),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-info"]],decls:38,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["showContent",""],[1,"d-flex","mb-5"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"Demande d'information "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"liste des demandes d'information"),e.k0s()()()()(),e.j41(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12),e.DNE(15,v_,3,2,"div",13),e.j41(16,"p"),e.EFF(17),e.k0s(),e.j41(18,"div",14)(19,"table",15)(20,"thead",16)(21,"tr")(22,"th",17),e.EFF(23,"#"),e.k0s(),e.j41(24,"th"),e.EFF(25,"Type Information"),e.k0s(),e.j41(26,"th"),e.EFF(27,"Identit\xe9 "),e.k0s(),e.j41(28,"th"),e.EFF(29,"Email"),e.k0s(),e.j41(30,"th"),e.EFF(31,"Contact "),e.k0s(),e.j41(32,"th"),e.EFF(33,"Status"),e.k0s()()(),e.j41(34,"tbody"),e.DNE(35,j_,15,6,"tr",18),e.k0s()()()()()()(),e.DNE(36,E_,34,5,"ng-template",null,19,e.C5r)),2&n&&(e.R7$(15),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(18),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk]})}}return i})(),S_=(()=>{class i{constructor(){}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-billing"]],decls:2,vars:0,template:function(n,s){1&n&&(e.j41(0,"p"),e.EFF(1,"billing works!"),e.k0s())}})}}return i})();var x_=F(5554);function y_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function R_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(32);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function I_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function T_(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(30);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un type d'assistance"),e.k0s(),e.DNE(3,y_,3,0,"button",25),e.DNE(4,R_,2,0,"button",26),e.DNE(5,I_,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete)}}function G_(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",31)(3,"input",32),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name)}}function $_(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,34),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",35)(3,"h6",36),e.EFF(4,"Enregistrer un type de info"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",43),e.k0s()()(),e.j41(14,"div",44)(15,"button",45),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",46),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function N_(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,47),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",48)(3,"h6",36),e.EFF(4,"Modifier un type de info"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",49),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",44)(15,"button",45),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",46),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function w_(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",48)(1,"h4",36),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",38)(5,"div",50)(6,"table",51)(7,"tbody")(8,"tr")(9,"td",52),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let V_=(()=>{class i{constructor(t,n,s,o,l){this.typeBillingService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.typeBillingService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.typeBillingService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}update(t){this.loading=!0,this.typeBillingService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.typeBillingService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Type Cape",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.typeBillingService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(x_.$),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-type-billing"]],decls:35,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des types d'assitance"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,T_,6,3,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,G_,6,1,"tr",19),e.k0s()()()()()()(),e.DNE(29,$_,18,2,"ng-template",null,20,e.C5r),e.DNE(31,N_,18,3,"ng-template",null,21,e.C5r),e.DNE(33,w_,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(10),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();function A_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function D_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(32);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function X_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function M_(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(30);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un service"),e.k0s(),e.DNE(3,A_,3,0,"button",25),e.DNE(4,D_,2,0,"button",26),e.DNE(5,X_,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete)}}function Y_(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",31)(3,"input",32),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name)}}function B_(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,34),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",35)(3,"h6",36),e.EFF(4,"Enregistrer un type d'avis"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",43),e.k0s()()(),e.j41(14,"div",44)(15,"button",45),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",46),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function q_(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,47),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",48)(3,"h6",36),e.EFF(4,"Modifier un type d'avis"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",49),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",44)(15,"button",45),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",46),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function U_(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",48)(1,"h4",36),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",38)(5,"div",50)(6,"table",51)(7,"tbody")(8,"tr")(9,"td",52),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let P_=(()=>{class i{constructor(t,n,s,o,l){this.typeService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.typeService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.typeService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Avis",n.error.message)})}update(t){this.loading=!0,this.typeService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Avis",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.typeService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Type Avis",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.typeService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Type Avis",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(S.M),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-service"]],decls:35,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des services"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,M_,6,3,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,Y_,6,1,"tr",19),e.k0s()()()()()()(),e.DNE(29,B_,18,2,"ng-template",null,20,e.C5r),e.DNE(31,q_,18,3,"ng-template",null,21,e.C5r),e.DNE(33,U_,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(10),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();var O_=F(4354);function z_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(40);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function L_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(38);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function J_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function W_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function H_(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function Q_(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(36);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter une actualit\xe9"),e.k0s(),e.DNE(3,z_,3,0,"button",25),e.DNE(4,L_,2,0,"button",26),e.DNE(5,J_,2,0,"button",27),e.DNE(6,W_,2,0,"button",28),e.DNE(7,H_,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function K_(i,r){1&i&&(e.j41(0,"span",38),e.EFF(1,"Actif"),e.k0s())}function Z_(i,r){1&i&&(e.j41(0,"span",39),e.EFF(1,"Bloqu\xe9"),e.k0s())}function eu(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.nrm(5,"img",35),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.DNE(11,K_,2,0,"span",36),e.DNE(12,Z_,2,0,"span",37),e.k0s()()}if(2&i){const t=r.$implicit,n=e.XpG();e.R7$(5),e.Y8G("src",n.getLink(t.big_photo),e.B4B),e.R7$(2),e.JRh(t.title),e.R7$(2),e.JRh(t.resume),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function tu(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",40,41),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",42)(3,"h6",43),e.EFF(4,"Enregistrer une actualit\xe9"),e.k0s(),e.j41(5,"button",44),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",45)(7,"div",46)(8,"div",47)(9,"label",48),e.EFF(10,"Titre "),e.j41(11,"span",49),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",50),e.k0s(),e.j41(14,"div",47)(15,"label",48),e.EFF(16,"Sous titre "),e.j41(17,"span",49),e.EFF(18,"(*)"),e.k0s()(),e.nrm(19,"input",51),e.k0s(),e.j41(20,"div",47)(21,"label",48),e.EFF(22,"R\xe9sum\xe9 "),e.j41(23,"span",49),e.EFF(24,"(*)"),e.k0s()(),e.nrm(25,"textarea",52),e.k0s(),e.j41(26,"div",47)(27,"label",48),e.EFF(28,"Contenu"),e.j41(29,"span",49),e.EFF(30,"(*)"),e.k0s()(),e.nrm(31,"textarea",53),e.k0s(),e.j41(32,"div",47)(33,"label",48),e.EFF(34,"Image couverture"),e.j41(35,"span",49),e.EFF(36,"(*)"),e.k0s()(),e.j41(37,"input",54),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload1(s))}),e.k0s()(),e.j41(38,"div",47)(39,"label",48),e.EFF(40,"Image minuature"),e.j41(41,"span",49),e.EFF(42,"(*)"),e.k0s()(),e.j41(43,"input",54),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload2(s))}),e.k0s()()()(),e.j41(44,"div",55)(45,"button",56),e.EFF(46,"Enregistrer "),e.nrm(47,"app-loading",57),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(45),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function nu(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",40,58),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",42)(3,"h6",43),e.EFF(4,"Modifier une actualit\xe9"),e.k0s(),e.j41(5,"button",44),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",45)(7,"div",46)(8,"div",47)(9,"label",48),e.EFF(10,"Titre "),e.j41(11,"span",49),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",59),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.title=s)}),e.k0s()(),e.j41(14,"div",47)(15,"label",48),e.EFF(16,"Sous titre "),e.j41(17,"span",49),e.EFF(18,"(*)"),e.k0s()(),e.j41(19,"input",60),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.subtitle=s)}),e.k0s()(),e.j41(20,"div",47)(21,"label",48),e.EFF(22,"R\xe9sum\xe9 "),e.j41(23,"span",49),e.EFF(24,"(*)"),e.k0s()(),e.j41(25,"textarea",61),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.resume=s)}),e.k0s()(),e.j41(26,"div",47)(27,"label",48),e.EFF(28,"Contenu"),e.j41(29,"span",49),e.EFF(30,"(*)"),e.k0s()(),e.j41(31,"textarea",62),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.content=s)}),e.k0s()(),e.j41(32,"div",47)(33,"label",48),e.EFF(34,"Image couverture"),e.j41(35,"span",49),e.EFF(36,"(*)"),e.k0s()(),e.j41(37,"input",54),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload1(s))}),e.k0s()(),e.j41(38,"div",47)(39,"label",48),e.EFF(40,"Image minuature"),e.j41(41,"span",49),e.EFF(42,"(*)"),e.k0s()(),e.j41(43,"input",54),e.bIt("change",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.upload2(s))}),e.k0s()()()(),e.j41(44,"div",55)(45,"button",56),e.EFF(46,"Sauvegarder "),e.nrm(47,"app-loading",57),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.title),e.R7$(6),e.Y8G("ngModel",n.selected_data.subtitle),e.R7$(6),e.Y8G("ngModel",n.selected_data.resume),e.R7$(6),e.Y8G("ngModel",n.selected_data.content),e.R7$(14),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function iu(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",42)(1,"h6",43),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",44),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",45)(5,"div",63)(6,"div",64),e.nrm(7,"img",65)(8,"img",65),e.k0s(),e.j41(9,"table",66)(10,"tbody")(11,"tr")(12,"td",67),e.EFF(13,"Titre"),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s()(),e.j41(16,"tr")(17,"td",67),e.EFF(18,"Sous titre"),e.k0s(),e.j41(19,"td"),e.EFF(20),e.k0s()(),e.j41(21,"tr")(22,"td",67),e.EFF(23,"R\xe9sum\xe9"),e.k0s(),e.j41(24,"td"),e.EFF(25),e.k0s()(),e.j41(26,"tr")(27,"td",67),e.EFF(28,"Contenu"),e.k0s(),e.j41(29,"td"),e.EFF(30),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(7),e.Y8G("src",t.getLink(t.selected_data.big_photo),e.B4B),e.R7$(1),e.Y8G("src",t.getLink(t.selected_data.short_photo),e.B4B),e.R7$(7),e.SpI("",t.selected_data.title," "),e.R7$(5),e.SpI("",t.selected_data.subtitle," "),e.R7$(5),e.SpI("",t.selected_data.resume," "),e.R7$(5),e.SpI("",t.selected_data.content," ")}}let su=(()=>{class i{constructor(t,n,s,o,l){this.actualityService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.actualityService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){if(this.loading=!0,null==this.fileInput1)return void this.toastrService.warning("L'image couverture est requise");if(null==this.fileInput2)return void this.toastrService.warning("L'image miniature est requise");let n=new FormData;for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.append(s,t[s]);n.append("big_photo",this.fileInput1),n.append("short_photo",this.fileInput2),this.actualityService.store(n).subscribe(s=>{this.loading=!1,this.toastrService.success(s.message),this.getAll()},s=>{this.loading=!1,console.log(s),c.W.simpleAlert("error","D\xe9partement",s.error.message)})}update(t){let n=new FormData;for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.append(s,t[s]);null!=this.fileInput1&&n.append("big_photo",this.fileInput1),null!=this.fileInput2&&n.append("short_photo",this.fileInput2),this.actualityService.update(this.selected_data.id,n).subscribe(s=>{this.loading=!1,this.toastrService.success(s.message),this.getAll()},s=>{this.loading=!1,console.log(s),c.W.simpleAlert("error","D\xe9partement",s.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.actualityService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","D\xe9partement",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.actualityService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","D\xe9partement",n.error.message)})}upload1(t){0!=t.target.files.length&&(this.fileInput1=t.target.files[0])}upload2(t){0!=t.target.files.length&&(this.fileInput2=t.target.files[0])}getLink(t){return m.w.toFile(`storage/actualities/${t}`)}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(O_.s),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-actuality"]],decls:41,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["alt","",3,"src"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","title","ngModel","","required","",1,"form-control"],["type","text","name","subtitle","ngModel","","required","",1,"form-control"],["name","resume","ngModel","","required","",1,"form-control"],["name","content","ngModel","","required","",1,"form-control"],["type","file",3,"change"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],["type","text","name","title","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","subtitle","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","resume","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","content","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"d-flex","justify-content-around"],["alt","",2,"height","100px",3,"src"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des d\xe9partements"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,Q_,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Image"),e.k0s(),e.j41(27,"th"),e.EFF(28,"titre"),e.k0s(),e.j41(29,"th"),e.EFF(30,"R\xe9sum\xe9"),e.k0s(),e.j41(31,"th"),e.EFF(32,"Statut"),e.k0s()()(),e.j41(33,"tbody"),e.DNE(34,eu,13,5,"tr",19),e.k0s()()()()()()(),e.DNE(35,tu,48,2,"ng-template",null,20,e.C5r),e.DNE(37,nu,48,6,"ng-template",null,21,e.C5r),e.DNE(39,iu,31,6,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(16),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();var he=F(1032);function ou(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function ru(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(32);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function au(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function lu(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(30);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un type garderie"),e.k0s(),e.DNE(3,ou,3,0,"button",25),e.DNE(4,ru,2,0,"button",26),e.DNE(5,au,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete)}}function cu(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",31)(3,"input",32),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name)}}function du(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,34),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",35)(3,"h6",36),e.EFF(4,"Enregistrer un type de garderie"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.nrm(13,"input",43),e.k0s()()(),e.j41(14,"div",44)(15,"button",45),e.EFF(16,"Enregistrer "),e.nrm(17,"app-loading",46),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function mu(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,47),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",48)(3,"h6",36),e.EFF(4,"Modifier un type de garderie"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Libell\xe9 "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"input",49),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(14,"div",44)(15,"button",45),e.EFF(16,"Sauvegarder "),e.nrm(17,"app-loading",46),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function _u(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",48)(1,"h4",36),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",38)(5,"div",50)(6,"table",51)(7,"tbody")(8,"tr")(9,"td",52),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let uu=(()=>{class i{constructor(t,n,s,o,l){this.typeGarderieService=t,this.toastrService=n,this.lsService=o,this.modalService=l,this.structures=[],this.data=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,s.backdrop="static",s.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll()}getAll(){this.typeGarderieService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.typeGarderieService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}update(t){this.loading=!0,this.typeGarderieService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.typeGarderieService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Type Cape",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.typeGarderieService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(he.H),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-type-garderie"]],decls:35,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],["editForm","ngForm"],[1,"modal-header"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"Garderie "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des types garderie"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,lu,6,3,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,cu,6,1,"tr",19),e.k0s()()()()()()(),e.DNE(29,du,18,2,"ng-template",null,20,e.C5r),e.DNE(31,mu,18,3,"ng-template",null,21,e.C5r),e.DNE(33,_u,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(10),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})(),pu=(()=>{class i{constructor(t){this.http=t,this.url=m.w.toApiUrl("type-sous-garderies")}getAll(){return this.http.get(`${this.url}`)}store(t){return this.http.post(`${this.url}`,t,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}update(t,n){return this.http.put(`${this.url}${t}/`,n,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}delete(t){return this.http.delete(`${this.url}${t}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}get(t){return this.http.get(`${this.url}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}setStatus(t,n){return this.http.get(`${this.url}set-status/${t}/${n}`,m.w.httpHeader(localStorage.getItem(d.r.tokenName),!0))}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function hu(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(36);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function bu(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(34);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function gu(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function fu(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(32);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un type sous garderies"),e.k0s(),e.DNE(3,hu,3,0,"button",25),e.DNE(4,bu,2,0,"button",26),e.DNE(5,gu,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete)}}function vu(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",31)(3,"input",32),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.JRh(null==t.type_garderie?null:t.type_garderie.name)}}function Fu(i,r){if(1&i&&(e.j41(0,"option",50),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function ku(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,34),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",35)(3,"h6",36),e.EFF(4,"Enregistrer un type de sous garderies"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Type de garderie "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",43),e.nrm(14,"option",44),e.DNE(15,Fu,2,2,"option",45),e.k0s()(),e.j41(16,"div",40)(17,"label",41),e.EFF(18,"Libell\xe9 "),e.j41(19,"span",42),e.EFF(20,"(*)"),e.k0s()(),e.nrm(21,"input",46),e.k0s()()(),e.j41(22,"div",47)(23,"button",48),e.EFF(24,"Enregistrer "),e.nrm(25,"app-loading",49),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(15),e.Y8G("ngForOf",n.tgs),e.R7$(8),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function ju(i,r){if(1&i&&(e.j41(0,"option",50),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Eu(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",33,51),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",52)(3,"h6",36),e.EFF(4,"Modifier un type de sous garderies"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",41),e.EFF(10,"Type de garderie "),e.j41(11,"span",42),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",53),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.type_garderie_id=s)}),e.nrm(14,"option",44),e.DNE(15,ju,2,2,"option",45),e.k0s()(),e.j41(16,"div",40)(17,"label",41),e.EFF(18,"Libell\xe9 "),e.j41(19,"span",42),e.EFF(20,"(*)"),e.k0s()(),e.j41(21,"input",54),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()()()(),e.j41(22,"div",47)(23,"button",48),e.EFF(24,"Sauvegarder "),e.nrm(25,"app-loading",49),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.type_garderie_id),e.R7$(2),e.Y8G("ngForOf",n.tgs),e.R7$(6),e.Y8G("ngModel",n.selected_data.name),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Cu(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",52)(1,"h4",36),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",38)(5,"div",55)(6,"table",56)(7,"tbody")(8,"tr")(9,"td",57),e.EFF(10,"Libell\xe9"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.name," ")}}let Su=(()=>{class i{constructor(t,n,s,o,l,p){this.tgService=t,this.typeSousGarderieService=n,this.toastrService=s,this.lsService=l,this.modalService=p,this.structures=[],this.data=[],this.tgs=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,o.backdrop="static",o.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll(),this.getTypeGarderies()}getTypeGarderies(){this.tgService.getAll().subscribe(t=>{this.tgs=t.data},t=>{})}getAll(){this.typeSousGarderieService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.typeSousGarderieService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}update(t){this.loading=!0,this.typeSousGarderieService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.typeSousGarderieService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Type Cape",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.typeSousGarderieService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Type Cape",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(he.H),e.rXU(pu),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-type-sous-garderie"]],decls:37,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["name","type_garderie_id","ngModel","","required","",1,"form-control"],["disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","text","name","name","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["editForm","ngForm"],[1,"modal-header"],["name","type_garderie_id","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des types sous garderies"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,fu,6,3,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libell\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Type"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,vu,8,2,"tr",19),e.k0s()()()()()()(),e.DNE(31,ku,26,3,"ng-template",null,20,e.C5r),e.DNE(33,Eu,26,5,"ng-template",null,21,e.C5r),e.DNE(35,Cu,13,1,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(12),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return i})();function xu(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(40);return e.Njj(s.show(o))}),e.j41(1,"span"),e.EFF(2,"Consulter"),e.k0s()()}}function yu(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2),o=e.sdS(38);return e.Njj(s.edit(o))}),e.EFF(1," Editer"),e.k0s()}}function Ru(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.delete())}),e.EFF(1," Supprimer"),e.k0s()}}function Iu(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(1))}),e.EFF(1," Activer"),e.k0s()}}function Tu(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.setStatus(0))}),e.EFF(1," D\xe9sactiver"),e.k0s()}}function Gu(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const s=e.XpG(),o=e.sdS(36);return e.Njj(s.add(o))}),e.EFF(2,"Ajouter un \xe9l\xe9ment"),e.k0s(),e.DNE(3,xu,3,0,"button",25),e.DNE(4,yu,2,0,"button",26),e.DNE(5,Ru,2,0,"button",27),e.DNE(6,Iu,2,0,"button",28),e.DNE(7,Tu,2,0,"button",27),e.k0s()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.buttonsPermission.show),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.edit),e.R7$(1),e.Y8G("ngIf",t.buttonsPermission.delete),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&!t.is_active),e.R7$(1),e.Y8G("ngIf",null!=t.is_active&&t.is_active)}}function $u(i,r){1&i&&(e.j41(0,"span",37),e.EFF(1,"Actif"),e.k0s())}function Nu(i,r){1&i&&(e.j41(0,"span",38),e.EFF(1,"Bloqu\xe9"),e.k0s())}function wu(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",33)(3,"input",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.checked(o))}),e.k0s()()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.DNE(11,$u,2,0,"span",35),e.DNE(12,Nu,2,0,"span",36),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(2),e.JRh(t.note_max),e.R7$(2),e.JRh(null==t.service?null:t.service.name),e.R7$(2),e.Y8G("ngIf",t.is_active),e.R7$(1),e.Y8G("ngIf",!t.is_active)}}function Vu(i,r){if(1&i&&(e.j41(0,"option",56),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Au(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,40),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.store(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Enregistrer un membre"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Type de service "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",49),e.DNE(14,Vu,2,2,"option",50),e.k0s()(),e.j41(15,"div",46)(16,"label",47),e.EFF(17,"Libell\xe9 "),e.j41(18,"span",48),e.EFF(19,"(*)"),e.k0s()(),e.nrm(20,"input",51),e.k0s(),e.j41(21,"div",46)(22,"label",47),e.EFF(23,"Note Max"),e.j41(24,"span",48),e.EFF(25,"(*)"),e.k0s()(),e.nrm(26,"input",52),e.k0s()()(),e.j41(27,"div",53)(28,"button",54),e.EFF(29,"Enregistrer "),e.nrm(30,"app-loading",55),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(14),e.Y8G("ngForOf",n.types),e.R7$(14),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Du(i,r){if(1&i&&(e.j41(0,"option",56),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function Xu(i,r){if(1&i){const t=e.RV6();e.j41(0,"form",39,57),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.sdS(1),o=e.XpG();return e.Njj(o.update(s.value))}),e.j41(2,"div",41)(3,"h6",42),e.EFF(4,"Modifier un membre"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(6,"div",44)(7,"div",45)(8,"div",46)(9,"label",47),e.EFF(10,"Type de service "),e.j41(11,"span",48),e.EFF(12,"(*)"),e.k0s()(),e.j41(13,"select",58),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.service_id=s)}),e.DNE(14,Du,2,2,"option",50),e.k0s()(),e.j41(15,"div",46)(16,"label",47),e.EFF(17,"Libell\xe9 "),e.j41(18,"span",48),e.EFF(19,"(*)"),e.k0s()(),e.j41(20,"input",59),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.name=s)}),e.k0s()(),e.j41(21,"div",46)(22,"label",47),e.EFF(23,"Note Max"),e.j41(24,"span",48),e.EFF(25,"(*)"),e.k0s()(),e.j41(26,"input",60),e.bIt("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.selected_data.note_max=s)}),e.k0s()()()(),e.j41(27,"div",53)(28,"button",54),e.EFF(29,"Sauvegarder "),e.nrm(30,"app-loading",55),e.k0s()()()}if(2&i){const t=e.sdS(1),n=e.XpG();e.R7$(13),e.Y8G("ngModel",n.selected_data.service_id),e.R7$(1),e.Y8G("ngForOf",n.types),e.R7$(6),e.Y8G("ngModel",n.selected_data.name),e.R7$(6),e.Y8G("ngModel",n.selected_data.note_max),e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(2),e.Y8G("isVisible",n.loading)}}function Mu(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",41)(1,"h6",42),e.EFF(2,"D\xe9tails des informations"),e.k0s(),e.j41(3,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",44)(5,"div",61)(6,"table",62)(7,"tbody")(8,"tr")(9,"td",63),e.EFF(10,"Nom"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td",63),e.EFF(15,"Pr\xe9nom(s)"),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()(),e.j41(18,"tr")(19,"td",63),e.EFF(20,"Poste"),e.k0s(),e.j41(21,"td"),e.EFF(22),e.k0s()(),e.j41(23,"tr")(24,"td",63),e.EFF(25,"Email"),e.k0s(),e.j41(26,"td"),e.EFF(27),e.k0s()(),e.j41(28,"tr")(29,"td",63),e.EFF(30,"Contact"),e.k0s(),e.j41(31,"td"),e.EFF(32),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.SpI("",t.selected_data.lastname," "),e.R7$(5),e.SpI("",t.selected_data.firstname," "),e.R7$(5),e.SpI("",t.selected_data.office," "),e.R7$(5),e.SpI("",t.selected_data.email," "),e.R7$(5),e.SpI("",t.selected_data.phone," ")}}const Bu=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"",component:Qe,canActivate:[be.q],children:[{path:"dashboard",component:mr},{path:"cfes",component:(()=>{class i{constructor(t,n,s,o,l,p,g){this.typeService=t,this.cfeService=n,this.uaService=s,this.toastrService=o,this.lsService=p,this.modalService=g,this.structures=[],this.data=[],this.types=[],this.isDtInitialized=!1,this.is_active=null,this.loading=!1,l.backdrop="static",l.keyboard=!1}ngOnInit(){this.user=this.lsService.get(d.r.userName),this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll(),this.getTypes()}getAll(){this.cfeService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll()},t=>{})}getTypes(){this.typeService.getAll().subscribe(t=>{this.types=t.data},t=>{})}getUAs(){this.uaService.getAll().subscribe(t=>{this.uas=t.data},t=>{})}store(t){this.loading=!0,t.collector_id=this.user.collector_id,this.cfeService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Membres",n.error.message)})}update(t){this.loading=!0,this.cfeService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),c.W.simpleAlert("error","Membres",n.error.message)})}delete(){this.verifyIfElementChecked()&&c.W.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xe9l\xe9ment?").then(n=>{n.isConfirmed&&this.cfeService.delete(this.selected_data.id).subscribe(s=>{this.toastrService.success(s.message),this.getAll()},s=>{console.log(s),c.W.simpleAlert("error","Membres",s.error.message)})})}checked(t){this.selected_data=t,this.is_active=t.is_active}verifyIfElementChecked(){return console.log(this.selected_data),null!=this.selected_data||(this.toastrService.warning("Aucun \xe9l\xe9ment selectionn\xe9"),!1)}dismiss(){this.modalService.dismissAll()}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&(this.modalOption={centered:!1,size:"lg"},this.modalService.open(t,{size:"lg"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xe9ration en cours"),this.cfeService.setStatus(this.selected_data.id,t).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),c.W.simpleAlert("error","Membre",n.error.message)})}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(S.M),e.rXU(de),e.rXU(U),e.rXU(f.tw),e.rXU(_.LY),e.rXU(b.s),e.rXU(_.Bq))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-control-file-element"]],decls:41,vars:3,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-5"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["routerLink","/admin/dashboard"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["class","d-flex mb-5 ",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],["addContent",""],["editContent",""],["showContent",""],[1,"d-flex","mb-5"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button","class","btn btn-outline-primary btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm  me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm  me-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","me-3",3,"click"],[1,"form-check","mb-2"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["class","p-1 bg-success text-white rounded",4,"ngIf"],["class","p-1 bg-danger text-white rounded",4,"ngIf"],[1,"p-1","bg-success","text-white","rounded"],[1,"p-1","bg-danger","text-white","rounded"],[3,"ngSubmit"],["addForm","ngForm"],[1,"modal-header","bg-secondary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["name","service_id","ngModel","","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","name","ngModel","","required","",1,"form-control"],["type","number","min","1","name","note_max","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["editForm","ngForm"],["name","service_id","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","min","1","name","note_max","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2,"CAPE "),e.k0s(),e.j41(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"li",8),e.EFF(10,"Liste des membres"),e.k0s()()()(),e.nrm(11,"div",9),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),e.DNE(16,Gu,8,5,"div",14),e.j41(17,"p"),e.EFF(18),e.k0s(),e.j41(19,"div",15)(20,"table",16)(21,"thead",17)(22,"tr")(23,"th",18),e.EFF(24,"#"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Libel\xe9"),e.k0s(),e.j41(27,"th"),e.EFF(28,"Note max"),e.k0s(),e.j41(29,"th"),e.EFF(30,"Service"),e.k0s(),e.j41(31,"th"),e.EFF(32,"Statut"),e.k0s()()(),e.j41(33,"tbody"),e.DNE(34,wu,13,5,"tr",19),e.k0s()()()()()()(),e.DNE(35,Au,31,3,"ng-template",null,20,e.C5r),e.DNE(37,Xu,31,6,"ng-template",null,21,e.C5r),e.DNE(39,Mu,33,5,"ng-template",null,22,e.C5r)),2&n&&(e.R7$(16),e.Y8G("ngIf",s.buttonsPermission),e.R7$(2),e.SpI("",s.data.length," \xe9l\xe9ment(s)"),e.R7$(16),e.Y8G("ngForOf",s.data))},dependencies:[u.Sq,u.bT,h.Wk,v.q,a.qT,a.xH,a.y7,a.me,a.Q0,a.wz,a.BC,a.cb,a.YS,a.VZ,a.vS,a.cV]})}}return i})()},{path:"departments",component:di},{path:"municipalities",component:Qr},{path:"districts",component:Si},{path:"cps",component:Qn},{path:"nature-promotors",component:o_},{path:"actualities",component:su},{path:"targets",component:Nd},{path:"type-capes",component:r1},{path:"type-garderies",component:uu},{path:"type-sous-garderies",component:Su},{path:"type-billings",component:V_},{path:"type-infos",component:h_},{path:"infos",component:C_},{path:"services",component:P_},{path:"requetes",component:V},{path:"requetes/:service",component:V},{path:"requetes/:state",component:V},{path:"requetes/:state/:service",component:V},{path:"requetes/show/:code/:service",component:$s},{path:"requetes/edit/:code",component:se},{path:"requetes/edit/:code/:service",component:se},{path:"sessions",component:Bc},{path:"members",component:Tr},{path:"billings",component:S_},{path:"files",component:jo},{path:"roles",component:nn},{path:"permissions",component:Yt},{path:"profiles",component:zt},{path:"type-avis",component:Ld},{path:"type-sanctions",component:O1},{path:"type-controls",component:v1},{path:"type-files",component:$1},{path:"backups",component:dn},{path:"journals",component:gr},{path:"users",component:ym},{path:"residents",component:Wa},{path:"capes",component:jn},{path:"user-account",component:an},{path:"list-requetes",component:Da},{path:"statistiques/:type",component:_e},{path:"statistiques/:type/:service",component:_e},{path:"search/:type",component:ce},{path:"search/:type/:service",component:ce},{path:"sanctions",component:jl},{path:"requetes-aggrement-validation",component:Wm},{path:"controls",component:Vn},{path:"unite-admins",component:nm},{path:"activity-report",component:Z},{path:"activity-report/:service",component:Z},{path:"follow-cape",component:oe},{path:"follow-cape/:service",component:oe},{path:"follow-cape-show/:id",component:No},{path:"messages",component:Ar},{path:"referals",component:ae},{path:"referals/:service",component:ae},{path:"staff",component:Zc},{path:"request-has-agreements",component:wa},{path:"session-requests",component:fc},{path:"session-request-show/:code",component:bc}]},{path:"auth",component:ve,children:[{path:"activate-account",component:xt,canActivate:[fe]},{path:"login",component:Tt,canActivate:[ge]},{path:"forget-password",component:It},{path:"recovery-password/:token",component:Lt}]}];let qu=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[h.iI.forChild(Bu),h.iI]})}}return i})();var Uu=F(8949);let Pu=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[u.MD,qu,Uu.G,a.YN,a.X1,_.UN,Ne,W.K.forRoot()]})}}return i})()}}]);